function l(){const e=document.getElementById("dashboard-sidebar"),t=document.getElementById("sidebar-backdrop"),a=document.getElementById("sidebar-open"),s=document.getElementById("sidebar-close");return{sidebar:e,backdrop:t,openTrigger:a,closeTrigger:s}}function u({sidebar:e,backdrop:t}){e?.classList.add("open"),t?.classList.add("open"),e?.setAttribute("aria-hidden","false")}function o({sidebar:e,backdrop:t}){e?.classList.remove("open"),t?.classList.remove("open"),e?.setAttribute("aria-hidden","true")}function g(){const e=document.querySelector("[data-dashboard-greeting]");if(!e)return;const t=e.querySelector("[data-greeting-toggle]"),a=e.querySelector("[data-greeting-panel]");if(!t||!a)return;const s=r=>{r.target instanceof Node&&(e.contains(r.target)||n(!1))},d=()=>{window.requestAnimationFrame(()=>{document.addEventListener("click",s,{capture:!0})})},i=()=>{document.removeEventListener("click",s,{capture:!0})},n=r=>{a.hidden=!r,t.setAttribute("aria-expanded",String(r)),e.dataset.state=r?"open":"closed",r?d():i()};n(!1),t.addEventListener("click",()=>{const c=!(t.getAttribute("aria-expanded")==="true");n(c),c&&!window.matchMedia("(min-width: 768px)").matches&&a.scrollIntoView({behavior:"smooth",block:"start"})})}function m(){const e=l(),{sidebar:t,backdrop:a,openTrigger:s,closeTrigger:d}=e;t&&(t.setAttribute("aria-hidden","true"),s?.addEventListener("click",i=>{i.preventDefault(),u(e)}),d?.addEventListener("click",i=>{i.preventDefault(),o(e)}),a?.addEventListener("click",()=>{o(e)}),t.addEventListener("click",i=>{const n=i.target;if(n instanceof HTMLElement){if(n.hasAttribute("data-close-sidebar")||n.closest("[data-close-sidebar]")){o(e);return}n.closest("[data-tab]")&&o(e)}}),g())}export{m as i};
