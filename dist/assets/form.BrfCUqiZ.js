import{r as rt,n as h,t as d,p as Ce,d as Z,x as nt,l as Ut,v as at,j as x,w as Ot,u as ot}from"./auth.BK4cXO04.js";import{getProjectsState as He,deleteProjectApi as zt,refreshProjectsFromApi as it,isApiError as ct,buildProjectPayload as Wt,updateProjectApi as Kt,createProjectApi as Gt}from"./projectsService.DJXgO45q.js";import{g as I,n as ie,e as Jt,f as Yt,h as lt,a as pt,j as Qt,r as dt,u as Se,D as Y,c as Xt,d as Zt}from"./reservationsService.Be9EZ2_i.js";import{O as Pe,M as he,c as Ue,s as es}from"./constants.CTSdjYwI.js";rt({ar:{"projects.nav.brand":"Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±","projects.nav.projects":"Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.nav.customers":"Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡","projects.nav.technicians":"Ø·Ø§Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„","projects.hero.title":"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.hero.subtitle":"Ø£Ù†Ø´Ø¦ ÙˆÙ†Ø³Ù‘Ù‚ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ØŒ ÙˆÙˆØ²Ù‘Ø¹ Ø§Ù„Ù…Ù‡Ø§Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§Ù‚Ù… ÙˆØ§Ù„Ù…Ø¹Ø¯Ø§ØªØŒ ÙˆØªØªØ¨Ø¹ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ.","projects.form.title":"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯","projects.form.labels.type":"Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.form.labels.title":"Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.form.labels.client":"Ø§Ù„Ø¹Ù…ÙŠÙ„","projects.form.labels.clientCompany":"Ø´Ø±ÙƒØ© Ø§Ù„Ø¹Ù…ÙŠÙ„","projects.form.labels.paymentStatus":"Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹","projects.form.labels.startDate":"ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©","projects.form.labels.startTime":"â° ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©","projects.form.labels.endDate":"ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ©","projects.form.labels.endTime":"â° ÙˆÙ‚Øª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©","projects.form.labels.description":"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.form.labels.technician":"Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ Ø·Ø§Ù‚Ù…","projects.form.labels.equipment":"Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø¯Ø©","projects.form.labels.quantity":"Ø§Ù„ÙƒÙ…ÙŠØ©","projects.form.labels.expenses":"Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.form.labels.expenseLabel":"Ø®Ø¯Ù…Ø§Øª Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.form.labels.expenseAmount":"Ø§Ù„ØªÙƒÙ„ÙØ© (SR)","projects.form.labels.servicesClientTotal":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹","projects.form.labels.salePrice":"Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹","projects.expenses.table.headers.service":"Ø§Ù„Ø®Ø¯Ù…Ø©","projects.expenses.table.headers.cost":"Ø§Ù„ØªÙƒÙ„ÙØ© (SR)","projects.expenses.table.headers.sale":"Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹ (SR)","projects.expenses.table.headers.actions":"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª","projects.form.placeholders.title":"Ù…Ø«Ø§Ù„: ØªØµÙˆÙŠØ± Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯","projects.form.placeholders.description":"Ù…Ù„Ø®Øµ Ø¹Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆØ§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª","projects.form.placeholders.type":"Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.form.placeholders.clientCompany":"ØªØ¹Ø¨Ø£ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§","projects.form.placeholders.startDate":"Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©","projects.form.placeholders.startTime":"Ø§Ø®ØªØ± ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©","projects.form.placeholders.endDate":"Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ©","projects.form.placeholders.endTime":"Ø§Ø®ØªØ± ÙˆÙ‚Øª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©","projects.form.placeholders.client":"Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„...","projects.form.placeholders.expenseLabel":"Ù…Ø«Ø§Ù„: Ù…ØªØ·Ù„Ø¨ Ø¥Ø¶Ø§ÙÙŠ (Ø±Ø³ÙˆÙ… Ù…ÙˆÙ‚Ø¹ØŒ Ù…Ø¹Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©...)","projects.form.linkedReservation.title":"Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬Ø² Ù…Ø±ØªØ¨Ø·","projects.form.linkedReservation.description":"Ø£Ù†Ø´Ø¦ Ø­Ø¬Ø²Ù‹Ø§ Ù…Ø±ØªØ¨Ø·Ù‹Ø§ Ø¨Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆØ³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© ØªÙØ§ØµÙŠÙ„Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§.","projects.form.linkedReservation.button":"â• Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬Ø² Ù…Ø±ØªØ¨Ø·","projects.form.linkedReservation.missingClient":"âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù‚Ø¨Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ø±ØªØ¨Ø·","projects.form.linkedReservation.missingSchedule":"âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‚Ø¨Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ø±ØªØ¨Ø·","projects.form.linkedReservation.empty":"Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø¹Ø¯.","projects.form.linkedReservation.pendingItem":"Ø³ÙŠØªÙ… Ø±Ø¨Ø· Ù‡Ø°Ø§ Ø§Ù„Ø­Ø¬Ø² ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨Ø¹Ø¯ Ø­ÙØ¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹.","projects.form.linkedReservation.buttonDisabled":"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬Ø² Ù…Ø±ØªØ¨Ø· Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹. ÙŠÙ…ÙƒÙ†Ùƒ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù…Ù† Ø´Ø§Ø´Ø© Ø§Ù„Ø­Ø¬Ø².","projects.form.linkedReservation.meta.equipment":"Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª: {count}","projects.form.linkedReservation.meta.crew":"Ø¹Ø¯Ø¯ Ø§Ù„ÙØ±ÙŠÙ‚: {count}","projects.form.linkedReservation.meta.crewNames":"Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚: {names}","projects.form.linkedReservation.meta.total":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬Ø²: {amount}","projects.form.labels.discount":"Ø§Ù„Ø®ØµÙ…","projects.form.labels.companyShare":"Ù†Ø³Ø¨Ø© Ø§Ù„Ø´Ø±ÙƒØ© ÙˆØ§Ù„Ø¶Ø±ÙŠØ¨Ø©","projects.form.labels.applyTax":"ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© 15Ùª","projects.form.discount.percent":"Ùª Ù†Ø³Ø¨Ø©","projects.form.discount.amount":"ğŸ’µ Ù…Ø¨Ù„Øº","projects.form.companyShareToggle":"Ø¥Ø¶Ø§ÙØ© Ù†Ø³Ø¨Ø© Ø§Ù„Ø´Ø±ÙƒØ© (10Ùª)","projects.form.selectClient":"Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…ÙŠÙ„","projects.form.selectTechnician":"Ø§Ø®ØªØ± Ø¹Ø¶Ùˆ Ø§Ù„Ø·Ø§Ù‚Ù…","projects.form.selectEquipment":"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹Ø¯Ø©","projects.form.types.commercial":"ØªØµÙˆÙŠØ± Ø¥Ø¹Ù„Ø§Ù†","projects.form.types.coverage":"ØªØµÙˆÙŠØ± ØªØºØ·ÙŠØ©","projects.form.types.photography":"ØªØµÙˆÙŠØ± ÙÙˆØªÙˆØºØ±Ø§ÙÙŠ","projects.form.types.social":"ØªØµÙˆÙŠØ± Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ","projects.form.types.unknown":"Ù†ÙˆØ¹ ØºÙŠØ± Ù…Ø­Ø¯Ø¯","projects.form.buttons.addTechnician":"â• Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø·Ø§Ù‚Ù…","projects.form.buttons.addEquipment":"â• Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø´Ø±ÙˆØ¹","projects.form.buttons.addExpense":"â• Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø©","projects.form.buttons.save":"ğŸ†• Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.form.buttons.update":"ğŸ” ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.form.taxLabel":"Ø´Ø§Ù…Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© (15Ùª)","projects.form.paymentStatus.paid":"Ù…Ø¯ÙÙˆØ¹","projects.form.paymentStatus.unpaid":"ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹","projects.form.paymentStatus.partial":"Ù…Ø¯ÙÙˆØ¹ Ø¬Ø²Ø¦ÙŠØ§Ù‹","projects.form.paymentProgress.label":"ğŸ’° Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©","projects.form.paymentProgress.amount":"ğŸ’µ Ù…Ø¨Ù„Øº","projects.form.paymentProgress.percent":"Ùª Ù†Ø³Ø¨Ø©","projects.form.paymentProgress.placeholder":"0","projects.form.paymentProgress.hint":"Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø£Ùˆ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙŠ ØªÙ… Ø§Ø³ØªÙ„Ø§Ù…Ù‡Ø§ Ù…Ù† Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.paymentStatus.paid":"Ù…Ø¯ÙÙˆØ¹","projects.paymentStatus.unpaid":"ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹","projects.paymentStatus.partial":"Ù…Ø¯ÙÙˆØ¹ Ø¬Ø²Ø¦ÙŠØ§Ù‹","projects.selected.emptyTechnicians":"Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø£ÙŠ Ø¹Ø¶Ùˆ Ø¨Ø¹Ø¯","projects.selected.emptyEquipment":"Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø£ÙŠ Ù…Ø¹Ø¯Ø§Øª","projects.selected.emptyExpenses":"Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø£ÙŠ Ù…ØµØ±ÙˆÙ","projects.summary.title":"Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹","projects.summary.totalProjects":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.summary.upcoming":"Ù…Ø´Ø§Ø±ÙŠØ¹ Ù‚Ø§Ø¯Ù…Ø©","projects.summary.expenses":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª","projects.summary.budget":"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠØ© (Ù…Ø¹ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©)","projects.focus.title":"ğŸ“Œ Ù†Ø¸Ø±Ø© Ø³Ø±ÙŠØ¹Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.focus.legend":"Ø§Ø®ØªØ± Ø¨Ø·Ø§Ù‚Ø© Ù„Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø£Ùˆ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹.","projects.focus.today":"Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ÙŠÙˆÙ…","projects.focus.thisWeek":"Ù…Ø´Ø§Ø±ÙŠØ¹ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹","projects.focus.upcoming":"Ù…Ø´Ø§Ø±ÙŠØ¹ Ù‚Ø§Ø¯Ù…Ø©","projects.focus.recent":"Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.focus.empty":"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹ Ù„Ù„ÙŠÙˆÙ… Ø£Ùˆ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹.","projects.focus.view":"Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„","projects.focus.edit":"ØªØ¹Ø¯ÙŠÙ„","projects.focus.actions.confirm":"âœ”ï¸ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.focus.confirmed":"âœ… Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¤ÙƒØ¯","projects.focus.toastNotFound":"âš ï¸ ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©","projects.toast.linkReservationFailed":"âš ï¸ ØªØ¹Ø°Ù‘Ø± Ø±Ø¨Ø· Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø¨Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ ÙŠØ¯ÙˆÙŠÙ‹Ø§","projects.toast.companyShareRequiresTax":"âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªÙØ¹ÙŠÙ„ Ù†Ø³Ø¨Ø© Ø§Ù„Ø´Ø±ÙƒØ© Ø¨Ø¯ÙˆÙ† ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©","projects.timeline.title":"Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.timeline.legend":"ÙŠÙØ¸Ù‡Ø± Ø§Ù„Ø´Ø±ÙŠØ· Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ©ØŒ ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† ØªÙÙ…Ø«Ù‘Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹.","projects.timeline.legend.upcoming":"Ù‚Ø§Ø¯Ù…","projects.timeline.legend.ongoing":"Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°","projects.timeline.legend.completed":"Ù…ÙƒØªÙ…Ù„","projects.timeline.legend.conflict":"ØªØ¹Ø§Ø±Ø¶","projects.timeline.empty":"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨Ø¨ÙŠØ§Ù†Ø§Øª Ø²Ù…Ù†ÙŠØ© ØµØ§Ù„Ø­Ø©.","projects.timeline.conflict":"ØªØ¹Ø§Ø±Ø¶ ÙÙŠ Ø§Ù„ØªÙˆÙ‚ÙŠØª","projects.timeline.range":"{start} â†’ {end}","projects.search.title":"Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹","projects.search.placeholder":"Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ø¹Ù…ÙŠÙ„","projects.subtabs.create":"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹","projects.subtabs.list":"Ù…Ø´Ø§Ø±ÙŠØ¹ÙŠ","projects.subtabs.reports":"ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.subtabs.expenses":"Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.subtabs.templates":"Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨","projects.templates.title":"Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© (A4)","projects.templates.subtitle":"Ø§Ø±Ø¨Ø· Ù…Ø´Ø±ÙˆØ¹Ø§Ù‹ ÙˆØ­Ø¬Ø²Ø§Ù‹ Ø¨Ø§Ù„Ù‚Ø§Ù„Ø¨ØŒ Ø¹Ø¯Ù‘ÙÙ„ Ø§Ù„Ø®Ø§Ù†Ø§Øª Ø«Ù… Ø§Ø·Ø¨Ø¹ PDF.","projects.templates.labels.project":"ğŸ“ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.templates.labels.reservation":"ğŸ”— Ø§Ù„Ø­Ø¬Ø² (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)","projects.templates.labels.type":"ğŸ“„ Ù†ÙˆØ¹ Ø§Ù„Ù‚Ø§Ù„Ø¨","projects.templates.types.expenses":"ÙˆØ±Ù‚Ø© Ù…ØµØ§Ø±ÙŠÙ (A4 Ø¹Ù…ÙˆØ¯ÙŠ)","projects.templates.types.callsheet":"ÙƒÙˆÙ„ Ø´ÙŠØª (A4 Ø£ÙÙ‚ÙŠ)","projects.templates.types.shotlist":"Ø´ÙˆØª Ù„ÙŠØ³Øª (A4 Ø£ÙÙ‚ÙŠ)","projects.templates.actions.refresh":"ØªØ­Ø¯ÙŠØ«","projects.templates.actions.print":"ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© PDF","projects.templates.noReservation":"â€” Ø¨Ø¯ÙˆÙ† Ø±Ø¨Ø· â€”","projects.templates.empty":"Ø§Ø®ØªØ± Ù…Ø´Ø±ÙˆØ¹Ø§Ù‹ Ù„Ø¨Ø¯Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨.","projects.templates.expenses.title":"Expenses Sheet / Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ","projects.templates.callsheet.title":"Call Sheet / Ù‚Ø§Ù„Ø¨ ÙƒÙˆÙ„ Ø´ÙŠØª","projects.templates.callsheet.contacts":"Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©","projects.templates.callsheet.schedule":"Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…","projects.templates.shotlist.title":"Shot List / Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„Ù‚Ø·Ø§Øª","projects.table.title":"Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.table.count":"{count} Ù…Ø´Ø±ÙˆØ¹","projects.table.reservationsCount":"{count} Ø­Ø¬ÙˆØ²Ø§Øª","projects.table.headers.project":"Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.table.headers.client":"Ø§Ù„Ø¹Ù…ÙŠÙ„","projects.table.headers.period":"Ø§Ù„ÙØªØ±Ø©","projects.table.headers.crew":"Ø§Ù„Ø·Ø§Ù‚Ù…","projects.table.headers.equipment":"Ø§Ù„Ù…Ø¹Ø¯Ø§Øª","projects.table.headers.total":"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ù…Ø¹ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©)","projects.table.headers.expenses":"Ù…ØµØ±ÙˆÙØ§Øª (SR)","projects.table.emptyInitial":"Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨Ø¹Ø¯.","projects.table.emptyFiltered":"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…Ø·Ø§Ø¨Ù‚Ø©.","projects.modal.title":"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.details.overview.heading":"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.reports.pageTitle":"ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ - Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±","projects.reports.title":"Ù„ÙˆØ­Ø© ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.reports.subtitle":"ØªØ­Ù„ÙŠÙ„Ø§Øª ØªÙØµÙŠÙ„ÙŠØ© Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ØŒ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©ØŒ ÙˆÙ†Ø³Ø¨ Ø§Ù„ØªÙ†ÙÙŠØ°.","projects.reports.filters.search":"Ø¨Ø­Ø«","projects.reports.filters.searchPlaceholder":"Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø£Ùˆ Ø§Ù„Ø¹Ù…ÙŠÙ„","projects.reports.filters.status":"Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.reports.filters.payment":"Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹","projects.reports.filters.paymentAll":"ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª","projects.reports.filters.paymentPaid":"Ù…Ø¯ÙÙˆØ¹","projects.reports.filters.paymentPartial":"Ù…Ø¯ÙÙˆØ¹ Ø¬Ø²Ø¦ÙŠØ§Ù‹","projects.reports.filters.paymentUnpaid":"ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹","projects.reports.filters.dateRange":"Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ§Ø±ÙŠØ®","projects.reports.filters.range.all":"ÙƒÙ„ Ø§Ù„ÙˆÙ‚Øª","projects.reports.filters.range.30":"Ø¢Ø®Ø± 30 ÙŠÙˆÙ…","projects.reports.filters.range.90":"Ø¢Ø®Ø± 90 ÙŠÙˆÙ…","projects.reports.filters.range.365":"Ø¢Ø®Ø± Ø³Ù†Ø©","projects.reports.filters.range.custom":"ØªØ§Ø±ÙŠØ® Ù…Ø®ØµØµ","projects.reports.filters.start":"Ù…Ù†","projects.reports.filters.end":"Ø¥Ù„Ù‰","projects.reports.filters.refresh":"ØªØ­Ø¯ÙŠØ«","projects.reports.charts.status":"ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª","projects.reports.charts.statusHint":"Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø­Ø³Ø¨ Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ†ÙÙŠØ°","projects.reports.charts.timeline":"Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ø²Ù…Ù†","projects.reports.charts.timelineHint":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø´Ù‡Ø±ÙŠÙ‹Ø§","projects.reports.charts.expenses":"ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ù‚ÙŠÙ…Ø©","projects.reports.charts.expensesHint":"Ù…Ù‚Ø§Ø±Ù†Ø© ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ù…Ø¹ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.reports.charts.clients":"Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡","projects.reports.charts.clientsHint":"Ø£Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø­Ø³Ø¨ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.reports.noData":"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ§Ø­Ø©","projects.reports.loading.chart":"Ø¬Ø§Ø±Ù ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø³Ù…...","projects.reports.table.title":"Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.reports.table.columns.project":"Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.reports.table.columns.client":"Ø§Ù„Ø¹Ù…ÙŠÙ„","projects.reports.table.columns.status":"Ø§Ù„Ø­Ø§Ù„Ø©","projects.reports.table.columns.period":"Ø§Ù„ÙØªØ±Ø©","projects.reports.table.columns.value":"Ø§Ù„Ù‚ÙŠÙ…Ø©","projects.reports.table.columns.payment":"Ø§Ù„Ø¯ÙØ¹","projects.reports.table.empty":"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø­Ø§Ù„ÙŠ.","projects.reports.table.meta":"Ø¹Ø±Ø¶ {count} Ù…Ù† Ø£ØµÙ„ {total} Ù…Ø´Ø±ÙˆØ¹","projects.reports.kpi.totalProjects":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.reports.kpi.totalProjectsMeta":"Ø¨Ø¹Ø¯ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©","projects.reports.kpi.totalValue":"Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„ÙƒÙ„ÙŠ","projects.reports.kpi.totalValueMeta":"ÙŠØ´Ù…Ù„ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ ÙˆØ§Ù„Ø­Ø¬ÙˆØ²Ø§Øª ÙˆØ§Ù„Ø¶Ø±ÙŠØ¨Ø©","projects.reports.kpi.unpaidValue":"Ù‚ÙŠÙ…Ø© ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©","projects.reports.kpi.unpaidValueMeta":"Ù…Ø´Ø§Ø±ÙŠØ¹ Ù„Ù… ØªÙØ³Ø¯Ù‘ÙØ¯ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø¹Ø¯","projects.reports.kpi.expenses":"ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.reports.kpi.expensesMeta":"ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©","projects.reports.kpi.margin":"Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­","projects.reports.kpi.marginMeta":"ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­ Ã· Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯ Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©","projects.reports.kpi.netProfitMeta":"Ù…Ø¬Ù…ÙˆØ¹ ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­ Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©","projects.reports.kpi.revenue.details.servicesProfit":"Ø±Ø¨Ø­ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.reports.kpi.revenue.details.margin":"Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­","projects.reports.datasets.value":"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©","projects.reports.datasets.expenses":"ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.reports.kpi.revenue.details.projectExpenses":"ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.reports.table.sortable":"Ù‚Ø§Ø¨Ù„ Ù„Ù„ÙØ±Ø²","projects.reports.table.sort.asc":"ØªØ±ØªÙŠØ¨ ØªØµØ§Ø¹Ø¯ÙŠ","projects.reports.table.sort.desc":"ØªØ±ØªÙŠØ¨ ØªÙ†Ø§Ø²Ù„ÙŠ","projects.expenses.pageTitle":"Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ - Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±","projects.expenses.title":"Ø¥Ø¯Ø§Ø±Ø© Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","projects.expenses.subtitle":"ØªØ§Ø¨Ø¹ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø±Ø¨Ø· Ù…Ø¹ ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡.","projects.expenses.placeholder":"Ø³ØªØªÙ… Ø¥Ø¶Ø§ÙØ© Ù„ÙˆØ­Ø© Ù…Ø®ØµØµØ© Ù„Ø±Ø¨Ø· Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ù‚Ø±ÙŠØ¨Ø§Ù‹.","projects.expenses.placeholderHint":"Ø¬Ù‡Ø² Ø§Ù„ÙÙˆØ§ØªÙŠØ± ÙˆØ§Ù„ÙØ¦Ø§Øª Ø§Ù„Ø¢Ù† Ù„ØªØ³Ø±ÙŠØ¹ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¯Ù….","projects.expenses.actions.addExpense":"â• Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø©","projects.expenses.actions.importInvoice":"ğŸ§¾ Ø±ÙØ¹ ÙØ§ØªÙˆØ±Ø©","projects.expenses.actions.export":"â¬‡ï¸ ØªØµØ¯ÙŠØ±","projects.expenses.kpi.total":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ","projects.expenses.kpi.total.meta":"Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ù…Ø³Ø¬Ù„Ø© Ø®Ù„Ø§Ù„ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©","projects.expenses.kpi.pending":"Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©","projects.expenses.kpi.pending.meta":"Ù…ØµØ§Ø±ÙŠÙ ØªØ­ØªØ§Ø¬ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ","projects.expenses.kpi.approved":"ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©","projects.expenses.kpi.approved.meta":"Ø¢Ø®Ø± Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„ØªÙŠ ØªÙ… Ø§Ø¹ØªÙ…Ø§Ø¯Ù‡Ø§","projects.expenses.kpi.average":"Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…ØµØ±ÙˆÙ Ù„ÙƒÙ„ Ù…Ø´Ø±ÙˆØ¹","projects.expenses.kpi.average.meta":"Ù‚ÙŠÙ…Ø© ØªÙ‚Ø±ÙŠØ¨ÙŠØ© Ø§Ø³ØªÙ†Ø§Ø¯Ø§Ù‹ Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù†Ø´Ø·Ø©","projects.expenses.breakdown.title":"ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙ","projects.expenses.breakdown.hint":"Ø±Ø§Ù‚Ø¨ Ø§Ù„ØµØ±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø¯Ø§ØªØŒ Ø§Ù„Ø·Ø§Ù‚Ù…ØŒ ÙˆØ§Ù„ØªÙ†Ù‚Ù„Ø§Øª.","projects.expenses.breakdown.empty":"Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ù…ØµØ§Ø±ÙŠÙ Ù…ØµÙ†ÙØ© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.","projects.expenses.timeline.title":"Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø¹Ø¨Ø± Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ","projects.expenses.timeline.hint":"Ø³Ø¬Ù„ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠØ© Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª.","projects.expenses.timeline.empty":"Ø£Ø¶Ù Ù…ØµØ±ÙˆÙØ§Øª Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ.","projects.expenses.table.title":"Ø³Ø¬Ù„ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ","projects.expenses.table.hint":"Ø§Ø³ØªØ¹Ø±Ø¶ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨ÙƒÙ„ Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø§Øª.","projects.expenses.table.columns.project":"Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.expenses.table.columns.category":"Ø§Ù„ØªØµÙ†ÙŠÙ","projects.expenses.table.columns.description":"Ø§Ù„ÙˆØµÙ","projects.expenses.table.columns.amount":"Ø§Ù„Ù…Ø¨Ù„Øº","projects.expenses.table.columns.status":"Ø§Ù„Ø­Ø§Ù„Ø©","projects.expenses.table.columns.date":"ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„","projects.expenses.table.empty":"Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ù…Ø³Ø¬Ù„Ø© Ù‡Ù†Ø§ ÙÙˆØ± Ø¥Ø¶Ø§ÙØªÙ‡Ø§.","projects.toast.selectTechnician":"âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ Ø§Ù„Ø·Ø§Ù‚Ù…","projects.toast.technicianAlreadyAdded":"âš ï¸ Ø§Ù„Ø¹Ø¶Ùˆ Ù…Ø¶Ø§Ù Ø¨Ø§Ù„ÙØ¹Ù„","projects.toast.technicianAdded":"âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ Ø§Ù„Ø·Ø§Ù‚Ù…","projects.toast.selectEquipment":"âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¹Ø¯Ø©","projects.toast.equipmentAdded":"âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ø¯Ø© Ù„Ù„Ù…Ø´Ø±ÙˆØ¹","projects.toast.missingExpenseLabel":"âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØµÙ Ø§Ù„Ù…ØµØ±ÙˆÙ","projects.toast.invalidExpenseAmount":"âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­","projects.toast.customerNotFound":"âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¨Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø®Ù„","projects.toast.missingRequiredFields":"âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©","projects.toast.invalidDateRange":"âš ï¸ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨Ø¹Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©","projects.toast.saved":"âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ù†Ø¬Ø§Ø­","projects.toast.editReady":"âœï¸ ØªÙ… ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„. Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø«Ù… Ø§Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª.","projects.toast.updated":"âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ù†Ø¬Ø§Ø­","projects.toast.editMissing":"âš ï¸ ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØªØ¹Ø¯ÙŠÙ„Ù‡","projects.toast.confirmed":"âœ… ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.toast.alreadyConfirmed":"â„¹ï¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¤ÙƒÙ‘Ø¯ Ù…Ø³Ø¨Ù‚Ù‹Ø§","projects.toast.deleted":"ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.confirm.delete":"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŸ","projects.fallback.unknownClient":"Ø¹Ù…ÙŠÙ„ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ","projects.fallback.unknownEquipment":"Ù…Ø¹Ø¯Ø©","projects.fallback.noDescription":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ","projects.fallback.untitled":"Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…","projects.fallback.emptyList":"Ù„Ø§ ÙŠÙˆØ¬Ø¯","projects.fallback.technicianName":"Ø¹Ø¶Ùˆ {id}","projects.status.upcoming":"Ù‚Ø§Ø¯Ù…","projects.status.ongoing":"Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°","projects.status.completed":"Ù…ÙƒØªÙ…Ù„","projects.status.conflict":"ØªØ¹Ø§Ø±Ø¶","projects.status.cancelled":"Ù…Ù„ØºÙŠ","projects.form.labels.cancelled":"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.form.hints.cancelled":"Ø³ÙŠØªÙ… ÙˆØ³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙƒÙ…Ù„ØºÙŠ ÙˆØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¥Ù„Ù‰ Ù…Ù„ØºÙŠ.","projectCards.filters.search":"ğŸ” Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø£Ùˆ Ø§Ù„ÙˆØµÙ...","projectCards.filters.status.all":"âš™ï¸ ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª","projectCards.filters.status.upcoming":"ğŸ“… Ù…Ø´Ø§Ø±ÙŠØ¹ Ù‚Ø§Ø¯Ù…Ø©","projectCards.filters.status.ongoing":"âš™ï¸ Ù…Ø´Ø§Ø±ÙŠØ¹ Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°","projectCards.filters.status.completed":"âœ… Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…Ù†ØªÙ‡ÙŠØ©","projectCards.stats.crew":"ğŸ‘¥ Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ø§Ù‚Ù…: {count}","projectCards.stats.reservations":"ğŸ”— Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª: {count}","projectCards.stats.client":"ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: {name}","projectCards.stats.type":"ğŸ·ï¸ Ø§Ù„Ù†ÙˆØ¹: {label}","projectCards.stats.budget":"ğŸ’° Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠØ© (Ù…Ø¹ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©): {amount}","projectCards.stats.expenses":"ğŸ’¸ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª: {amount}","projectCards.stats.crewShort":"Ø·Ø§Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„","projectCards.stats.reservationsShort":"Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª","projectCards.stats.budgetShort":"Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projectCards.stats.expensesShort":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª","projectCards.stats.paymentStatus":"Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹","projectCards.stats.equipmentCount":"Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª","projectCards.stats.crewCount":"Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ø§Ù‚Ù…","projectCards.stats.reservationValue":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª","projectCards.stats.expensesTotal":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ","projectCards.stats.reservationTotal":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬Ø²","projectCards.stats.taxTotal":"Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©","projectCards.stats.overallTotal":"Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ","projectCards.groups.meta":"Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projectCards.groups.reservations":"Ù…ÙˆØ¬Ø² Ø§Ù„Ø­Ø¬Ø²","projectCards.groups.payment":"Ù…Ù„Ø®Øµ Ø§Ù„Ø¯ÙØ¹","projectCards.meta.code":"Ø±Ù‚Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projectCards.meta.client":"Ø§Ù„Ø¹Ù…ÙŠÙ„","projectCards.meta.company":"Ø´Ø±ÙƒØ© Ø§Ù„Ø¹Ù…ÙŠÙ„","projectCards.meta.type":"Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projectCards.meta.startDate":"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©","projectCards.meta.endDate":"ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ©","projects.details.type":"Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.details.company":"Ø´Ø±ÙƒØ© Ø§Ù„Ø¹Ù…ÙŠÙ„","projects.details.client":"Ø§Ù„Ø¹Ù…ÙŠÙ„","projects.details.crew":"Ø§Ù„Ø·Ø§Ù‚Ù… Ø§Ù„ÙÙ†ÙŠ ({count})","projects.details.equipment":"Ø§Ù„Ù…Ø¹Ø¯Ø§Øª ({count})","projects.details.expenses":"Ø®Ø¯Ù…Ø§Øª Ø¥Ù†ØªØ§Ø¬ÙŠØ© ({amount})","projects.details.subtotal":"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©:","projects.details.tax":"Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© (15Ùª):","projects.details.total":"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©:","projects.details.labels.projectTitle":"Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.details.labels.code":"Ø±Ù‚Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.details.summary.projectSubtotal":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.details.summary.paymentStatus":"Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹","projects.details.summary.projectTax":"Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (15Ùª)","projects.details.summary.projectTotal":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø¹Ø¯ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©","projects.details.summary.reservationsTotal":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª / Ø·Ø§Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„","projects.details.summary.combinedTax":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„ÙƒÙ„ÙŠØ© (15Ùª)","projects.details.summary.reservationsCount":"{count} Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ø±ØªØ¨Ø·Ø©","projects.details.summary.overallTotal":"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ","projects.details.summary.equipmentTotal":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª","projects.details.summary.crewTotal":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ±ÙŠÙ‚","projects.details.summary.crewCostTotal":"ØªÙƒÙ„ÙØ© Ø§Ù„ÙØ±ÙŠÙ‚","projects.details.summary.expensesTotal":"ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.details.summary.gross":"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ","projects.details.summary.discount":"Ø§Ù„Ø®ØµÙ…","projects.details.summary.companyShare":"Ù†Ø³Ø¨Ø© Ø§Ù„Ø´Ø±ÙƒØ©","projects.details.summary.tax":"Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© (15Ùª)","projects.details.summary.grossAfterDiscount":"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…","projects.details.summary.netProfit":"ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­","projects.details.summary.finalTotal":"Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ","projects.details.labels.start":"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©","projects.details.labels.end":"ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ©","projects.details.labels.days":"Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…","projects.details.labels.crewCount":"Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ø§Ù‚Ù…","projects.details.labels.equipmentCount":"Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª","projects.details.labels.reservationsCount":"Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª","projects.details.labels.notes":"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.details.chips.vatOn":"Ø´Ø§Ù…Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© 15Ùª","projects.details.chips.vatOff":"ØºÙŠØ± Ø´Ø§Ù…Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©","projects.details.chips.reservations":"{count} Ø­Ø¬ÙˆØ²Ø§Øª","projects.details.chips.linkedReservation":"Ù…Ø±Ø¨ÙˆØ· Ø¨Ø­Ø¬Ø²","projects.details.chips.notLinkedReservation":"ØºÙŠØ± Ù…Ø±Ø¨ÙˆØ· Ø¨Ø­Ø¬Ø²","projects.details.noItems":"Ù„Ø§ ÙŠÙˆØ¬Ø¯","projects.details.quantity":"{qty} Ù‚Ø·Ø¹Ø©","projects.details.reservations.title":"Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©","projects.details.reservations.empty":"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø¹Ø¯.","projects.details.reservations.create":"â• Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬Ø² Ù…Ø±ØªØ¨Ø·","projects.details.actions.edit":"âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.details.actions.delete":"ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.details.actions.exportExpenses":"ğŸ“Š ØªØµØ¯ÙŠØ± Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Excel","projects.details.actions.exportShotList":"ğŸ¬ ØªØµØ¯ÙŠØ± Ø§Ù„Ø´ÙˆØª Ù„ÙŠØ³Øª","projects.details.actions.exportCallSheet":"ğŸ“ ØªØµØ¯ÙŠØ± Ø§Ù„ÙƒÙˆÙ„ Ø´ÙŠØª","projects.details.reservations.view":"Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø¬Ø²","projects.details.reservations.count":"{count} Ø­Ø¬ÙˆØ²Ø§Øª","projects.details.reservations.itemsCount":"{count} Ù…Ø¹Ø¯Ø©","projects.details.reservations.crewCount":"{count} Ù…Ù† Ø§Ù„Ø·Ø§Ù‚Ù…","projects.details.edit.heading":"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.details.edit.subheading":"Ù‚Ù… Ø¨ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø«Ù… Ø§Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª.","projects.details.edit.save":"ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª","projects.details.edit.cancel":"Ø¥Ù„ØºØ§Ø¡","projects.quote.sections.customer":"Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„","projects.quote.sections.project":"Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹","projects.quote.sections.expenses":"Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.quote.sections.crew":"Ø·Ø§Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„","projects.quote.sections.financial":"Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø§Ù„ÙŠ","projects.quote.sections.equipment":"Ø§Ù„Ù…Ø¹Ø¯Ø§Øª","projects.quote.sections.notes":"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"},en:{"projects.nav.brand":"Rental System","projects.nav.projects":"Projects","projects.nav.customers":"Clients","projects.nav.technicians":"Crew","projects.hero.title":"Projects Management","projects.hero.subtitle":"Create and coordinate projects, assign crew and equipment, and track expenses.","projects.form.title":"Create New Project","projects.form.labels.type":"Project Type","projects.form.labels.title":"Project Name","projects.form.labels.client":"Client","projects.form.labels.clientCompany":"Client Company","projects.form.labels.paymentStatus":"Payment Status","projects.form.labels.startDate":"ğŸ“… Start Date","projects.form.labels.startTime":"â° Start Time","projects.form.labels.endDate":"ğŸ“… End Date","projects.form.labels.endTime":"â° End Time","projects.form.labels.description":"Project Details","projects.form.labels.technician":"Add Crew Member","projects.form.labels.equipment":"Add Equipment","projects.form.labels.quantity":"Quantity","projects.form.labels.expenses":"Production services","projects.form.labels.expenseLabel":"Expense Name","projects.form.labels.expenseAmount":"Amount (SR)","projects.form.labels.servicesClientTotal":"Sales total","projects.form.labels.salePrice":"Sale price","projects.expenses.table.headers.service":"Service","projects.expenses.table.headers.cost":"Cost (SR)","projects.expenses.table.headers.sale":"Sale price (SR)","projects.expenses.table.headers.actions":"Actions","projects.form.placeholders.title":"Example: New product shoot","projects.form.placeholders.description":"Project brief and requirements","projects.form.placeholders.type":"Choose a project type","projects.form.placeholders.clientCompany":"Auto-filled from client record","projects.form.placeholders.startDate":"Select the start date","projects.form.placeholders.startTime":"Select the start time","projects.form.placeholders.endDate":"Select the end date (optional)","projects.form.placeholders.endTime":"Select the end time (optional)","projects.form.placeholders.client":"Type the client name...","projects.form.placeholders.expenseLabel":"Example: Location permit or extra gear","projects.form.linkedReservation.title":"Create Linked Reservation","projects.form.linkedReservation.description":"Create a reservation for this project and we'll pre-fill the matching details.","projects.form.linkedReservation.button":"â• Create Linked Reservation","projects.form.linkedReservation.missingClient":"âš ï¸ Please select the client before creating the linked reservation.","projects.form.linkedReservation.missingSchedule":"âš ï¸ Please provide both start and end date/time before creating the linked reservation.","projects.form.linkedReservation.empty":"No linked reservations yet.","projects.form.linkedReservation.pendingItem":"This reservation will be linked automatically once the project is saved.","projects.form.linkedReservation.buttonDisabled":"A linked reservation was created. Manage further changes from the reservation itself.","projects.form.linkedReservation.meta.equipment":"Equipment count: {count}","projects.form.linkedReservation.meta.crew":"Crew count: {count}","projects.form.linkedReservation.meta.crewNames":"Crew names: {names}","projects.form.linkedReservation.meta.total":"Reservation total: {amount}","projects.form.labels.discount":"Discount","projects.form.labels.companyShare":"Company share & VAT","projects.form.labels.applyTax":"Apply VAT 15%","projects.form.discount.percent":"% Percent","projects.form.discount.amount":"ğŸ’µ Amount","projects.form.companyShareToggle":"Include company share (10%)","projects.form.selectClient":"Select client","projects.form.selectTechnician":"Select crew member","projects.form.selectEquipment":"Select equipment","projects.form.types.commercial":"Commercial shoot","projects.form.types.coverage":"Event coverage","projects.form.types.photography":"Photography","projects.form.types.social":"Social media content","projects.form.types.unknown":"Unspecified type","projects.form.buttons.addTechnician":"â• Add to Crew","projects.form.buttons.addEquipment":"â• Add to Project","projects.form.buttons.addExpense":"â• Add Expense","projects.form.buttons.save":"ğŸ†• Create Project","projects.form.buttons.update":"ğŸ” Update Project","projects.form.taxLabel":"Include VAT (15%)","projects.form.paymentStatus.paid":"Paid","projects.form.paymentStatus.unpaid":"Unpaid","projects.form.paymentStatus.partial":"Partially Paid","projects.form.paymentProgress.label":"ğŸ’° Received Payment","projects.form.paymentProgress.amount":"ğŸ’µ Amount","projects.form.paymentProgress.percent":"% Percent","projects.form.paymentProgress.placeholder":"0","projects.form.paymentProgress.hint":"Enter the amount or percentage received from the project total","projects.paymentStatus.paid":"Paid","projects.paymentStatus.unpaid":"Unpaid","projects.paymentStatus.partial":"Partially Paid","projects.selected.emptyTechnicians":"No crew members selected yet","projects.selected.emptyEquipment":"No equipment selected","projects.selected.emptyExpenses":"No expenses recorded","projects.summary.title":"Quick Overview","projects.summary.totalProjects":"Total Projects","projects.summary.upcoming":"Upcoming Projects","projects.summary.expenses":"Total Expenses","projects.summary.budget":"Estimated Value (with VAT)","projects.focus.title":"ğŸ“Œ Focus Projects","projects.focus.legend":"Tap a card to review details or jump to editing.","projects.focus.today":"Today's Projects","projects.focus.thisWeek":"This Week","projects.focus.upcoming":"Upcoming Projects","projects.focus.recent":"Latest Projects","projects.focus.empty":"No projects scheduled for today or this week.","projects.focus.view":"View details","projects.focus.edit":"Edit","projects.focus.actions.confirm":"âœ”ï¸ Confirm project","projects.focus.confirmed":"âœ… Project confirmed","projects.focus.toastNotFound":"âš ï¸ Could not find this project in the list","projects.toast.linkReservationFailed":"âš ï¸ Unable to link some reservations to the project. Please review them manually.","projects.toast.companyShareRequiresTax":"âš ï¸ Company share requires VAT to be enabled first.","projects.timeline.title":"Projects Timeline","projects.timeline.legend":"The bar shows project start and end, with colors reflecting status.","projects.timeline.legend.upcoming":"Upcoming","projects.timeline.legend.ongoing":"In Progress","projects.timeline.legend.completed":"Completed","projects.timeline.legend.conflict":"Conflict","projects.timeline.empty":"No projects with valid schedule to display.","projects.timeline.conflict":"Scheduling conflict","projects.timeline.range":"{start} â†’ {end}","projects.search.title":"Quick Search","projects.search.placeholder":"Search by project name or client","projects.subtabs.create":"Create Project","projects.subtabs.list":"My Projects","projects.subtabs.reports":"Project Reports","projects.subtabs.expenses":"Project Expenses","projects.subtabs.templates":"Templates","projects.templates.title":"Templates (A4)","projects.templates.subtitle":"Bind a project/reservation, edit fields, and print PDF.","projects.templates.labels.project":"ğŸ“ Project","projects.templates.labels.reservation":"ğŸ”— Reservation (optional)","projects.templates.labels.type":"ğŸ“„ Template type","projects.templates.types.expenses":"Expenses Sheet (A4 Portrait)","projects.templates.types.callsheet":"Call Sheet (A4 Landscape)","projects.templates.types.shotlist":"Shot List (A4 Landscape)","projects.templates.actions.refresh":"Refresh","projects.templates.actions.print":"ğŸ–¨ï¸ Print PDF","projects.templates.noReservation":"â€” None â€”","projects.templates.empty":"Select a project to start building templates.","projects.templates.expenses.title":"Expenses Sheet","projects.templates.callsheet.title":"Call Sheet","projects.templates.callsheet.contacts":"Key Contacts","projects.templates.callsheet.schedule":"Day Schedule","projects.templates.shotlist.title":"Shot List","projects.table.title":"Projects List","projects.table.count":"{count} project","projects.table.reservationsCount":"{count} reservations","projects.table.headers.project":"Project","projects.table.headers.client":"Client","projects.table.headers.period":"Schedule","projects.table.headers.crew":"Crew","projects.table.headers.equipment":"Equipment","projects.table.headers.total":"Total (with VAT)","projects.table.headers.expenses":"Expenses (SR)","projects.table.emptyInitial":"No projects have been created yet.","projects.table.emptyFiltered":"No matching projects found.","projects.modal.title":"Project Details","projects.details.overview.heading":"Project Information","projects.reports.pageTitle":"Project Reports - Rental System","projects.reports.title":"Project Reporting Dashboard","projects.reports.subtitle":"Detailed analytics for project performance, deadlines, and completion rates.","projects.reports.filters.search":"Search","projects.reports.filters.searchPlaceholder":"Search by project or client name","projects.reports.filters.status":"Project status","projects.reports.filters.payment":"Payment status","projects.reports.filters.paymentAll":"All payments","projects.reports.filters.paymentPaid":"Paid","projects.reports.filters.paymentPartial":"Partially paid","projects.reports.filters.paymentUnpaid":"Unpaid","projects.reports.filters.dateRange":"Date range","projects.reports.filters.range.all":"All time","projects.reports.filters.range.30":"Last 30 days","projects.reports.filters.range.90":"Last 90 days","projects.reports.filters.range.365":"Last year","projects.reports.filters.range.custom":"Custom range","projects.reports.filters.start":"From","projects.reports.filters.end":"To","projects.reports.filters.refresh":"Refresh","projects.reports.charts.status":"Status distribution","projects.reports.charts.statusHint":"Share of projects per execution status","projects.reports.charts.timeline":"Revenue over time","projects.reports.charts.timelineHint":"Total project value by month","projects.reports.charts.expenses":"Expenses vs. value","projects.reports.charts.expensesHint":"Compare spend against total project value","projects.reports.charts.clients":"Top clients","projects.reports.charts.clientsHint":"Highest clients by project value","projects.reports.noData":"No data available","projects.reports.loading.chart":"Refreshing chartâ€¦","projects.reports.table.title":"Project list","projects.reports.table.columns.project":"Project","projects.reports.table.columns.client":"Client","projects.reports.table.columns.status":"Status","projects.reports.table.columns.period":"Period","projects.reports.table.columns.value":"Value","projects.reports.table.columns.payment":"Payment","projects.reports.table.sortable":"Ù‚Ø§Ø¨Ù„ Ù„Ù„ÙØ±Ø²","projects.reports.table.sort.asc":"ØªØ±ØªÙŠØ¨ ØªØµØ§Ø¹Ø¯ÙŠ","projects.reports.table.sort.desc":"ØªØ±ØªÙŠØ¨ ØªÙ†Ø§Ø²Ù„ÙŠ","projects.reports.filters.confirmed.label":"Ø­Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯","projects.reports.filters.confirmed.all":"Ø­Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯: Ø§Ù„ÙƒÙ„","projects.reports.filters.confirmed.yes":"Ù…Ø¤ÙƒØ¯","projects.reports.filters.confirmed.no":"ØºÙŠØ± Ù…Ø¤ÙƒØ¯","projects.reports.table.columns.margin":"Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­","projects.reports.actions.exportExcel":"ØªØµØ¯ÙŠØ± Excel","projects.reports.kpi.margin":"Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­","projects.reports.kpi.marginMeta":"ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­ Ã· Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯ Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©","projects.reports.kpi.netProfitMeta":"Ù…Ø¬Ù…ÙˆØ¹ ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­ Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©","projects.reports.kpi.totalValue":"Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„ÙƒÙ„ÙŠ","projects.reports.kpi.unpaidValue":"Ù‚ÙŠÙ…Ø© ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©","projects.reports.kpi.expenses":"ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.reports.kpi.revenue.details.servicesProfit":"Ø±Ø¨Ø­ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.reports.kpi.revenue.details.servicesProfit":"Ø±Ø¨Ø­ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","projects.reports.kpi.revenue.details.margin":"Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­","projects.reports.table.empty":"No projects match the current filters.","projects.reports.table.meta":"Showing {count} of {total} projects","projects.reports.kpi.totalProjects":"Total projects","projects.reports.kpi.totalProjectsMeta":"After applying the current filters","projects.reports.kpi.totalValue":"Gross revenue","projects.reports.kpi.totalValueMeta":"Includes projects, linked reservations, and VAT","projects.reports.kpi.unpaidValue":"Outstanding value","projects.reports.kpi.unpaidValueMeta":"Projects not fully paid yet","projects.reports.kpi.expenses":"Total expenses","projects.reports.kpi.expensesMeta":"Expenses for included projects","projects.reports.datasets.value":"Total value","projects.reports.datasets.expenses":"Expenses","projects.expenses.pageTitle":"Project Expenses - Rental System","projects.expenses.title":"Manage Project Expenses","projects.expenses.subtitle":"Track expenses linked to bookings and projects with full invoicing visibility.","projects.expenses.placeholder":"A dedicated board for linking project expenses to bookings is coming soon.","projects.expenses.placeholderHint":"Prepare invoices and categories now to accelerate the upcoming release.","projects.expenses.actions.addExpense":"â• Add expense","projects.expenses.actions.importInvoice":"ğŸ§¾ Upload invoice","projects.expenses.actions.export":"â¬‡ï¸ Export","projects.expenses.kpi.total":"Total expenses","projects.expenses.kpi.total.meta":"Expenses recorded during the current period","projects.expenses.kpi.pending":"Pending approval","projects.expenses.kpi.pending.meta":"Expenses awaiting financial manager approval","projects.expenses.kpi.approved":"Approved","projects.expenses.kpi.approved.meta":"Latest expenses that were approved","projects.expenses.kpi.average":"Average per project","projects.expenses.kpi.average.meta":"Estimated value based on active projects","projects.expenses.breakdown.title":"Expenses by category","projects.expenses.breakdown.hint":"Track spend on equipment, crew, and logistics.","projects.expenses.breakdown.empty":"No categorized expenses recorded yet.","projects.expenses.timeline.title":"Expenses over time","projects.expenses.timeline.hint":"Review spend across recent months to spot trends.","projects.expenses.timeline.empty":"Add expenses to unlock the interactive timeline.","projects.expenses.table.title":"Detailed expense ledger","projects.expenses.table.hint":"Review project expenses together with approval status.","projects.expenses.table.columns.project":"Project","projects.expenses.table.columns.category":"Category","projects.expenses.table.columns.description":"Description","projects.expenses.table.columns.amount":"Amount","projects.expenses.table.columns.status":"Status","projects.expenses.table.columns.date":"Logged on","projects.expenses.table.empty":"Registered expenses will appear here as soon as you add them.","projects.toast.selectTechnician":"âš ï¸ Please select a crew member","projects.toast.technicianAlreadyAdded":"âš ï¸ Crew member already added","projects.toast.technicianAdded":"âœ… Crew member added","projects.toast.selectEquipment":"âš ï¸ Please select equipment","projects.toast.equipmentAdded":"âœ… Equipment added to project","projects.toast.missingExpenseLabel":"âš ï¸ Please enter an expense description","projects.toast.invalidExpenseAmount":"âš ï¸ Please enter a valid amount","projects.toast.customerNotFound":"âš ï¸ Client name not found. Please select an existing client.","projects.toast.missingRequiredFields":"âš ï¸ Please fill in the required fields","projects.toast.invalidDateRange":"âš ï¸ End date must be after the start date","projects.toast.saved":"âœ… Project saved successfully","projects.toast.editReady":"âœï¸ Project loaded for editing. Update the fields, then save.","projects.toast.updated":"âœ… Project updated successfully","projects.toast.editMissing":"âš ï¸ Unable to find the project you tried to edit","projects.toast.confirmed":"âœ… Project confirmed","projects.toast.alreadyConfirmed":"â„¹ï¸ Project already confirmed","projects.toast.deleted":"ğŸ—‘ï¸ Project deleted","projects.confirm.delete":"Are you sure you want to delete this project?","projects.fallback.unknownClient":"Unknown client","projects.fallback.unknownEquipment":"Equipment","projects.fallback.noDescription":"No description","projects.fallback.untitled":"Untitled project","projects.fallback.emptyList":"None","projects.fallback.technicianName":"Member {id}","projects.status.upcoming":"Upcoming","projects.status.ongoing":"In Progress","projects.status.completed":"Completed","projects.status.conflict":"Conflict","projects.status.cancelled":"Cancelled","projects.form.labels.cancelled":"Cancel project","projects.form.hints.cancelled":"Marks the project as cancelled and updates all linked reservations to cancelled.","projectCards.filters.search":"ğŸ” Search by project name or description...","projectCards.filters.status.all":"âš™ï¸ All statuses","projectCards.filters.status.upcoming":"ğŸ“… Upcoming projects","projectCards.filters.status.ongoing":"âš™ï¸ In-progress projects","projectCards.filters.status.completed":"âœ… Completed projects","projectCards.stats.crew":"ğŸ‘¥ Crew members: {count}","projectCards.stats.reservations":"ğŸ”— Reservations: {count}","projectCards.stats.client":"ğŸ‘¤ Client: {name}","projectCards.stats.type":"ğŸ·ï¸ Type: {label}","projectCards.stats.budget":"ğŸ’° Estimated budget (with VAT): {amount}","projectCards.stats.expenses":"ğŸ’¸ Expenses: {amount}","projectCards.stats.crewShort":"Crew","projectCards.stats.reservationsShort":"Reservations","projectCards.stats.budgetShort":"Project budget","projectCards.stats.expensesShort":"Total expenses","projectCards.stats.paymentStatus":"Payment status","projectCards.stats.equipmentCount":"Equipment count","projectCards.stats.crewCount":"Crew count","projectCards.stats.reservationValue":"Reservation total","projectCards.stats.expensesTotal":"Expenses total","projectCards.stats.reservationTotal":"Linked reservation total","projectCards.stats.taxTotal":"VAT","projectCards.stats.overallTotal":"Grand total","projectCards.groups.meta":"Project info","projectCards.groups.reservations":"Reservation snapshot","projectCards.groups.payment":"Payment summary","projectCards.meta.code":"Project ID","projectCards.meta.client":"Client","projectCards.meta.company":"Client company","projectCards.meta.type":"Project type","projectCards.meta.startDate":"Start date","projectCards.meta.endDate":"End date","projects.details.type":"Project type","projects.details.company":"Client company","projects.details.client":"Client","projects.details.crew":"Crew ({count})","projects.details.equipment":"Equipment ({count})","projects.details.expenses":"Expenses ({amount})","projects.details.subtotal":"Subtotal before tax:","projects.details.tax":"VAT 15%:","projects.details.total":"Total with VAT:","projects.details.labels.projectTitle":"Project Name","projects.details.labels.code":"Project ID","projects.details.summary.projectSubtotal":"Project total","projects.details.summary.paymentStatus":"Payment status","projects.details.summary.projectTax":"Project VAT (15%)","projects.details.summary.projectTotal":"Project total (after VAT)","projects.details.summary.reservationsTotal":"Equipment / crew total","projects.details.summary.combinedTax":"Total VAT on combined amount (15%)","projects.details.summary.reservationsCount":"{count} linked reservations","projects.details.summary.overallTotal":"Overall total","projects.details.summary.equipmentTotal":"Equipment total","projects.details.summary.crewTotal":"Crew total","projects.details.summary.crewCostTotal":"Crew cost","projects.details.summary.expensesTotal":"Project expenses","projects.details.summary.gross":"Gross","projects.details.summary.discount":"Discount","projects.details.summary.companyShare":"Company share","projects.details.summary.tax":"VAT (15%)","projects.details.summary.grossAfterDiscount":"Total after discount","projects.details.summary.netProfit":"Net profit","projects.details.summary.finalTotal":"Final total","projects.details.labels.start":"Start date","projects.details.labels.end":"End date","projects.details.labels.days":"Days","projects.details.labels.crewCount":"Crew count","projects.details.labels.equipmentCount":"Equipment quantity","projects.details.labels.reservationsCount":"Reservations count","projects.details.labels.notes":"Project notes","projects.details.chips.vatOn":"VAT enabled 15%","projects.details.chips.vatOff":"VAT disabled","projects.details.chips.reservations":"{count} reservations","projects.details.chips.linkedReservation":"Linked to reservation","projects.details.chips.notLinkedReservation":"Not linked to reservation","projects.details.noItems":"None","projects.details.quantity":"{qty} pcs","projects.details.reservations.title":"Linked reservations","projects.details.reservations.empty":"No reservations linked to this project yet.","projects.details.reservations.create":"â• Create linked reservation","projects.details.reservations.view":"View reservation","projects.details.actions.edit":"âœï¸ Edit Project","projects.details.actions.delete":"ğŸ—‘ï¸ Delete Project","projects.details.actions.exportExpenses":"ğŸ“Š Export Expenses (Excel)","projects.details.actions.exportShotList":"ğŸ¬ Export Shot List","projects.details.actions.exportCallSheet":"ğŸ“ Export Call Sheet","projects.details.reservations.count":"{count} reservations","projects.details.reservations.itemsCount":"{count} item(s)","projects.details.reservations.crewCount":"{count} crew member(s)","projects.details.edit.heading":"Edit Project","projects.details.edit.subheading":"Update the project details, then save your changes.","projects.details.edit.save":"ğŸ’¾ Save Changes","projects.details.edit.cancel":"Cancel","projects.quote.sections.customer":"Customer info","projects.quote.sections.project":"Project info","projects.quote.sections.expenses":"Production services","projects.quote.sections.crew":"Crew","projects.quote.sections.financial":"Financial summary","projects.quote.sections.equipment":"Equipment","projects.quote.sections.notes":"Project notes"}});rt({en:{"projects.reports.filters.confirmed.label":"Confirmation","projects.reports.filters.confirmed.all":"Confirmation: All","projects.reports.filters.confirmed.yes":"Confirmed","projects.reports.filters.confirmed.no":"Unconfirmed","projects.reports.table.columns.margin":"Profit margin","projects.reports.actions.exportExcel":"Export Excel","projects.reports.kpi.margin":"Profit margin","projects.reports.kpi.marginMeta":"Net profit Ã· revenue (excl. VAT)","projects.reports.kpi.netProfitMeta":"Sum of net profit for selected projects","projects.reports.kpi.totalValue":"Gross revenue","projects.reports.kpi.unpaidValue":"Outstanding value","projects.reports.kpi.expenses":"Total expenses","projects.reports.kpi.revenue.details.servicesProfit":"Services profit","projects.reports.kpi.revenue.details.servicesProfit":"Services profit","projects.reports.kpi.revenue.details.margin":"Profit margin","projects.reports.kpi.revenue.details.projectExpenses":"Project expenses","projects.reports.table.sortable":"Sortable","projects.reports.table.sort.asc":"Ascending","projects.reports.table.sort.desc":"Descending"}});const l={customers:[],technicians:[],equipment:[],reservations:[],projects:[],selectedTechnicians:[],selectedEquipment:[],expenses:[],servicesClientPriceTotal:0,filters:{search:""},visibleProjects:[],editingProjectId:null,pendingProjectDetailId:null,pendingProjectEditId:null,pendingLinkedToast:!1},t={};function ts(){l.selectedTechnicians=[],l.selectedEquipment=[],l.expenses=[],l.servicesClientPriceTotal=0}function u(e=""){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function D(e){const s=Number(e)||0,n=Ce()==="ar"?"ar-SA-u-ca-gregory-nu-latn":"en-US",o=new Intl.NumberFormat(n,{minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(s));return`${h(o)} SR`}function z(e){if(!e)return"â€”";const s=new Date(e);if(Number.isNaN(s.getTime()))return"â€”";const r=String(s.getDate()).padStart(2,"0"),n=String(s.getMonth()+1).padStart(2,"0"),o=String(s.getFullYear()),a=String(s.getMinutes()).padStart(2,"0"),i=s.getHours(),c=i>=12?"PM":"AM",p=i%12||12,f=String(p).padStart(2,"0"),j=`${r}/${n}/${o} ${f}:${a} ${c}`;return h(j)}function ss(e){const s=Ce(),r=h(String(e));return s==="en"?`${r} ${e===1?"project":"projects"}`:`${r} Ù…Ø´Ø±ÙˆØ¹`}function Ye(e){t.tableCount&&(t.tableCount.dataset.count=String(e),t.tableCount.textContent=ss(e))}function ut(e){if(!e)return"";const s=e.dataset.emptyKey,r=e.dataset.empty||"";return s?d(s,r):r}function rs(){if(!Array.isArray(l.projects)||l.projects.length===0)return;let e=!1;const s=l.projects.map(r=>{if(r.projectCode)return r;const n=nt();return e=!0,{...r,projectCode:n}});e&&(l.projects=s)}function Us(){const{customers:e,technicians:s,equipment:r}=Z();l.customers=Array.isArray(e)?e:[],l.technicians=Array.isArray(s)?s:[],l.equipment=Array.isArray(r)?r:[],l.reservations=I(),l.projects=He(),rs()}function Os(){if(ns(),t.technicianSelect){const e=t.technicianSelect.value,s=u(d("projects.form.selectTechnician","Ø§Ø®ØªØ± Ø¹Ø¶Ùˆ Ø§Ù„Ø·Ø§Ù‚Ù…"));t.technicianSelect.innerHTML=`<option value="">${s}</option>`+l.technicians.map(r=>{const n=d("projects.fallback.technicianName","Ø¹Ø¶Ùˆ {id}"),o=r.name||n.replace("{id}",h(String(r.id||"")));return`<option value="${r.id}">${u(o)}</option>`}).join(""),e&&(t.technicianSelect.value=e)}if(t.equipmentSelect){const e=t.equipmentSelect.value,s=u(d("projects.form.selectEquipment","Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹Ø¯Ø©"));t.equipmentSelect.innerHTML=`<option value="">${s}</option>`+l.equipment.map(r=>{const n=r.desc||r.description||r.name||d("projects.fallback.unknownEquipment","Ù…Ø¹Ø¯Ø©");return`<option value="${u(r.barcode||"")}">${u(n)}</option>`}).join(""),e&&(t.equipmentSelect.value=e)}}function X(e){if(!t.clientCompany)return;const s=e?.companyName||e?.company||"";t.clientCompany.value=s}function ns(){if(!t.client)return;as();const e=t.client.dataset?.customerId;if(e){const s=l.customers.find(r=>String(r.id)===String(e));s?X(s):(t.client.dataset.customerId="",X(null))}else X(null);document.activeElement===t.client&&Ve()}function as(){!t.client||!t.clientSuggestions||t.client.dataset.autocompleteAttached!=="true"&&(t.client.addEventListener("input",()=>{t.client.dataset.customerId="",Ve(),X(null)}),t.client.addEventListener("focus",()=>{Ve()}),t.client.addEventListener("blur",()=>{window.setTimeout(()=>ge(),150)}),t.client.dataset.autocompleteAttached="true")}function ge(){t.clientSuggestions&&(t.clientSuggestions.classList.remove("is-visible"),t.clientSuggestions.hidden=!0,t.clientSuggestions.innerHTML="")}function Ve(){if(!t.client||!t.clientSuggestions)return;if(!Array.isArray(l.customers)||l.customers.length===0){const n=Z();Array.isArray(n?.customers)&&n.customers.length&&(l.customers=n.customers)}const e=os(),s=ie(t.client.value||""),r=s?e.filter(n=>{const o=ie(n.name).includes(s),a=ie(n.company||"").includes(s);return o||a}).slice(0,10):e.slice(0,10);if(!r.length){ge();return}t.clientSuggestions.innerHTML=r.map(n=>{const o=n.company?`<div class="suggestion-item__meta">${u(n.company)}</div>`:"";return`
        <div class="suggestion-item" data-id="${u(String(n.id))}" data-name="${u(n.name)}" data-company="${u(n.company||"")}">
          <div class="suggestion-item__primary">${u(n.name)}</div>
          ${o}
        </div>
      `}).join(""),t.clientSuggestions.hidden=!1,t.clientSuggestions.classList.add("is-visible"),t.clientSuggestions.scrollTop=0,t.clientSuggestions.querySelectorAll(".suggestion-item").forEach(n=>{n.addEventListener("mousedown",o=>{o.preventDefault();const{id:a,name:i}=o.currentTarget.dataset;t.client&&(t.client.value=i||"",t.client.dataset.customerId=a||"");const c=o.currentTarget.dataset.company||"";X({companyName:c}),ge()})})}function os(){return Array.isArray(l.customers)?l.customers.map(e=>{const s=(e.customerName||e.name||"").trim();return s?{id:e.id,name:s,company:(e.companyName||e.company||"").trim()}:null}).filter(Boolean):[]}function is(e,s=""){if(!Array.isArray(l.customers)||l.customers.length===0)return null;if(s){const o=l.customers.find(a=>String(a.id)===String(s));if(o)return o}const r=ie(e||"");if(!r)return null;const n=l.customers.find(o=>ie(o.customerName||o.name||"")===r);return n||l.customers.find(o=>ie(o.customerName||o.name||"").includes(r))||null}function cs(){return typeof window<"u"&&typeof window.flatpickr=="function"?window.flatpickr.bind(window):typeof globalThis<"u"&&typeof globalThis.flatpickr=="function"?globalThis.flatpickr.bind(globalThis):null}function zs(){t.form=document.getElementById("project-form"),t.title=document.getElementById("project-title"),t.type=document.getElementById("project-type"),t.client=document.getElementById("project-client"),t.clientSuggestions=document.getElementById("project-customer-suggestions"),t.clientCompany=document.getElementById("project-client-company"),t.paymentStatus=document.getElementById("project-payment-status"),t.startDate=document.getElementById("project-start-date"),t.startTime=document.getElementById("project-start-time"),t.endDate=document.getElementById("project-end-date"),t.endTime=document.getElementById("project-end-time"),t.description=document.getElementById("project-description"),t.technicianSelect=document.getElementById("project-technician-select"),t.addTechnicianBtn=document.getElementById("add-technician-btn"),t.technicianList=document.getElementById("project-technician-list"),t.equipmentSelect=document.getElementById("project-equipment-select"),t.equipmentQty=document.getElementById("project-equipment-qty"),t.addEquipmentBtn=document.getElementById("add-equipment-btn"),t.equipmentList=document.getElementById("project-equipment-list"),t.expenseLabel=document.getElementById("project-expense-label"),t.expenseAmount=document.getElementById("project-expense-amount"),t.expenseNote=document.getElementById("project-expense-note"),t.addExpenseBtn=document.getElementById("add-expense-btn"),t.expenseList=document.getElementById("project-expense-list"),t.servicesClientTotalIndicator=document.getElementById("project-services-client-total-indicator"),t.servicesClientTotalValue=document.getElementById("project-services-client-total-value"),t.discountType=document.getElementById("project-discount-type"),t.discountValue=document.getElementById("project-discount"),t.servicesClientPrice=document.getElementById("project-services-client-price"),t.paymentAddButton=document.getElementById("project-payment-add"),t.paymentHistory=document.getElementById("project-payment-history"),t.companyShare=document.getElementById("project-company-share"),t.paymentProgressType=document.getElementById("project-payment-progress-type"),t.paymentProgressValue=document.getElementById("project-payment-progress-value"),t.taxCheckbox=document.getElementById("project-tax"),t.linkedReservationBtn=document.getElementById("project-linked-reservation-btn"),t.submitBtn=t.form?.querySelector('[type="submit"]'),t.projectsTableBody=document.getElementById("project-table-body"),t.projectsCount=document.getElementById("projects-count"),t.projectsUpcoming=document.getElementById("projects-upcoming"),t.projectsExpenses=document.getElementById("projects-expenses"),t.projectsBudget=document.getElementById("projects-budget"),t.tableCount=document.getElementById("project-table-count"),t.search=document.getElementById("project-search"),t.detailsModalEl=document.getElementById("projectDetailsModal"),t.detailsBody=document.getElementById("project-details-body"),t.tabButtons=Array.from(document.querySelectorAll(".tab-button[data-tab-target]")),t.tabPanes=Array.from(document.querySelectorAll("[data-tab-pane]")),t.projectSubTabButtons=Array.from(document.querySelectorAll(".sub-tab-button[data-project-subtab-target]")),t.projectSubTabPanes=Array.from(document.querySelectorAll("[data-project-subtab]")),t.timeline=document.getElementById("project-timeline"),t.focusCards=document.getElementById("project-focus-cards"),t.detailsModalEl&&!t.detailsModalEl.dataset.projectListenerAttached&&(t.detailsModalEl.addEventListener("hidden.bs.modal",()=>{t.detailsBody&&(t.detailsBody.dataset.projectId="")}),t.detailsModalEl.dataset.projectListenerAttached="true")}function Ws(){const e=cs();if(!e)return;["#project-start-date","#project-end-date","#project-start-time","#project-end-time"].forEach(i=>{const c=document.querySelector(i);if(c){try{c.setAttribute("autocomplete","off")}catch{}try{c.setAttribute("autocapitalize","off")}catch{}try{c.setAttribute("autocorrect","off")}catch{}try{c.setAttribute("spellcheck","false")}catch{}}});const s=[["#project-start-date",{dateFormat:"Y-m-d",allowInput:!0}],["#project-end-date",{dateFormat:"Y-m-d",allowInput:!0}]],r=[["#project-start-time",{enableTime:!0,noCalendar:!0,dateFormat:"H:i",altInput:!0,altFormat:"h:i K",time_24hr:!1,defaultHour:9,defaultMinute:0,minuteIncrement:5,disableMobile:!0,allowInput:!0,altInputClass:"flatpickr-alt-input form-control"}],["#project-end-time",{enableTime:!0,noCalendar:!0,dateFormat:"H:i",altInput:!0,altFormat:"h:i K",time_24hr:!1,defaultHour:9,defaultMinute:0,minuteIncrement:5,disableMobile:!0,allowInput:!0,altInputClass:"flatpickr-alt-input form-control"}]];[...s,...r].forEach(([i,c])=>{const p=document.querySelector(i);p&&e(p,c)});const n=i=>{if(i==null)return"";const c=["Ù ","Ù¡","Ù¢","Ù£","Ù¤","Ù¥","Ù¦","Ù§","Ù¨","Ù©"],p=["Û°","Û±","Û²","Û³","Û´","Ûµ","Û¶","Û·","Û¸","Û¹"],f=["0","1","2","3","4","5","6","7","8","9"];return String(i).split("").map(j=>{const m=c.indexOf(j);if(m>-1)return f[m];const y=p.indexOf(j);return y>-1?f[y]:j}).join("")},o=i=>{if(!i||i.dataset.normalizedDigits==="true")return;const c=()=>{const p=i.value||"",f=n(p);if(f!==p){const j=i.selectionStart,m=i.selectionEnd;i.value=f;try{if(typeof j=="number"&&typeof m=="number"){const y=f.length-p.length;i.setSelectionRange(Math.max(0,j+y),Math.max(0,m+y))}}catch{}}};i.addEventListener("input",c),i.addEventListener("blur",c);try{i.setAttribute("inputmode","numeric")}catch{}i.dataset.normalizedDigits="true"};o(t.startDate),o(t.endDate),o(t.startTime),o(t.endTime),t.startTime&&t.startTime._flatpickr?.altInput&&o(t.startTime._flatpickr.altInput),t.endTime&&t.endTime._flatpickr?.altInput&&o(t.endTime._flatpickr.altInput);const a=i=>{if(!i)return;const c=i._flatpickr,p=()=>{try{if(!c)return;const f=c.altInput&&typeof c.altInput.value=="string"?c.altInput.value.trim():"",j=typeof i.value=="string"?i.value.trim():"",m=f||j;if(!m)return;const y=f?c.config.altFormat:c.config.dateFormat,b=c.parseDate(m,y)||c.parseDate(m);b&&c.setDate(b,!0)}catch{}};i.addEventListener("blur",p),c?.altInput&&c.altInput.addEventListener("blur",p)};a(t.startTime),a(t.endTime)}function mt(){["startDate","startTime","endDate","endTime"].forEach(e=>{const s=t[e];s&&(s._flatpickr?s._flatpickr.clear():s.value="")})}function Ks(){const e=document.getElementById("logout-btn");e&&!e.dataset.listenerAttached&&(e.addEventListener("click",()=>Ut()),e.dataset.listenerAttached="true")}function jt(e){if(!e)return"";if(e instanceof Date)return e.toISOString();let s=String(e).trim();return s?(s.includes(" ")&&!s.includes("T")&&(s=s.replace(" ","T")),s):""}function U(e){if(!e?.start)return Number.NaN;const s=jt(e.start),r=new Date(s).getTime();return Number.isFinite(r)?r:Number.NaN}function J(e){if(e?.createdAt){const r=jt(e.createdAt),n=new Date(r).getTime();if(Number.isFinite(n))return n}const s=U(e);return Number.isFinite(s)?s:Number.NEGATIVE_INFINITY}function Gs(e,s){if(!e)return"";const r=s&&/\d{1,2}:\d{2}/.test(s)?s:"00:00",[n="00",o="00"]=r.split(":"),a=n.padStart(2,"0"),i=o.padStart(2,"0");return`${e}T${a}:${i}`}function ft(e,s){const r=String(e||"");return r.length<=s?r:`${r.slice(0,Math.max(0,s-1))}â€¦`}function Js(e){if(!e||typeof e!="string")return{date:"",time:""};let s=e.trim();if(!s)return{date:"",time:""};if(s.includes(" ")&&(s=s.replace(" ","T")),!s.includes("T"))return{date:s,time:""};const[r,n=""]=s.split("T");return{date:r,time:n}}function we(e){if(!e)return d("projects.form.types.unknown","Ù†ÙˆØ¹ ØºÙŠØ± Ù…Ø­Ø¯Ø¯");const s={commercial:"projects.form.types.commercial",coverage:"projects.form.types.coverage",photography:"projects.form.types.photography",social:"projects.form.types.social"}[e]||"projects.form.types.unknown";return d(s,e)}function ce(){if(!t.projectsTableBody)return;const e=l.filters.search,s=l.projects.filter(n=>{if(!e)return!0;const o=l.customers.find(i=>String(i.id)===String(n.clientId));return h([n.title,n.description,o?.customerName,n.clientCompany,we(n.type),n.id,n.projectCode].filter(Boolean).join(" ")).toLowerCase().includes(e)});if(!s.length){const n=l.projects.length===0?"projects.table.emptyInitial":"projects.table.emptyFiltered",o=l.projects.length===0?"Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨Ø¹Ø¯.":"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…Ø·Ø§Ø¨Ù‚Ø©.",a=u(d(n,o));t.projectsTableBody.innerHTML=`<tr class="projects-table-empty-row"><td colspan="8" class="text-center text-muted">${a}</td></tr>`,Ye(0),l.visibleProjects=[],Qe([]);return}const r=[...s].sort((n,o)=>{const a=J(n),i=J(o);if(Number.isFinite(a)&&Number.isFinite(i)&&a!==i)return i-a;const c=U(n),p=U(o);return Number.isFinite(c)&&Number.isFinite(p)?p-c:0});l.visibleProjects=r,Ye(r.length),t.projectsTableBody.innerHTML=r.map(n=>ls(n)).join(""),Qe(r),Ee()}function ls(e){const s=l.customers.find(E=>String(E.id)===String(e.clientId)),r=s?.customerName||d("projects.fallback.unknownClient","Ø¹Ù…ÙŠÙ„ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"),n=(e.clientCompany||s?.companyName||"").trim(),o=e.technicians?.length||0,a=(e.equipment||[]).reduce((E,k)=>E+(k.qty||0),0),{expensesTotal:i,totalWithTax:c}=Ae(e),f=Oe(e.id).length,m=d("projects.table.reservationsCount","{count} Ø­Ø¬ÙˆØ²Ø§Øª").replace("{count}",h(String(f))),y=f?`<span class="badge rounded-pill project-reservations-chip">${u(m)}</span>`:"",C=`<span class="badge project-type-badge">${u(we(e.type))}</span>`,g=e.projectCode||`PRJ-${h(String(e.id))}`,S=`<span class="project-code-badge">#${u(g)}</span>`,_=at()?`<button class="btn btn-sm btn-outline-danger" data-action="delete-project" data-id="${e.id}">${u(d("actions.delete","Ø­Ø°Ù"))}</button>`:"";return`
    <tr data-project-id="${e.id}">
      <td>
        <div class="d-flex flex-column gap-1">
          <div class="fw-bold">${u(e.title)}</div>
          <div class="d-flex flex-wrap gap-2 align-items-center project-row-meta">
            ${S}
            ${C}
          </div>
        </div>
        ${y}
      </td>
      <td>
        ${n?`<div class="d-flex flex-column"><span>${u(r)}</span><small class="text-muted">${u(n)}</small></div>`:u(r)}
      </td>
      <td>${ps(e.start,e.end)}</td>
      <td>${h(String(o))}</td>
      <td>${h(String(a))}</td>
      <td>${D(c)}</td>
      <td>${D(i)}</td>
      <td class="text-end">
        <button class="btn btn-sm btn-outline-primary" data-action="view-details" data-id="${e.id}">${u(d("actions.view","Ø¹Ø±Ø¶"))}</button>
        ${_}
      </td>
    </tr>
  `}function ps(e,s){if(!e)return"â€”";const r=z(e),n=s?z(s):"",o=p=>{const f=String(p).split(" ").filter(Boolean),j=f.shift()||"",m=f.join(" ");return{date:j,time:m}},a=o(r),i=n?o(n):{date:"",time:""};if(i.date&&a.date===i.date){const p=a.time&&i.time?`Ù…Ù† ${a.time} Ø¥Ù„Ù‰ ${i.time}`:"";return`
      <div class="date-range">
        <div class="date-line">${a.date}</div>
        ${p?`<div class="time-line">${p}</div>`:""}
      </div>
    `}const c=a.time&&i.time?`Ù…Ù† ${a.time} Ø¥Ù„Ù‰ ${i.time}`:"";return`
    <div class="date-range">
      <div class="date-line">${a.date}</div>
      ${i.date?`<div class="date-line">${i.date}</div>`:""}
      ${c?`<div class="time-line">${c}</div>`:""}
    </div>
  `}function ds(e,s){if(!e)return{dateHtml:"â€”",timeText:""};const r=z(e),n=s?z(s):"",o=f=>{const j=String(f).split(" ").filter(Boolean),m=j.shift()||"",y=j.join(" ");return{date:m,time:y}},a=o(r),i=n?o(n):{date:"",time:""};let c="",p="";return i.date&&a.date===i.date?(c=`<div class="date-range"><div class="date-line">${a.date}</div></div>`,p=`Ù…Ù† ${a.time||"â€”:â€”"} Ø¥Ù„Ù‰ ${i.time||"â€”:â€”"}`):(c=`<div class="date-range"><div class="date-line">${a.date}</div>`+(i.date?`<div class="date-line">${i.date}</div>`:"")+"</div>",p=`Ù…Ù† ${a.time||"â€”:â€”"} Ø¥Ù„Ù‰ ${i.time||"â€”:â€”"}`),{dateHtml:c,timeText:p}}function Qe(e){if(!t.timeline)return;const r=(Array.isArray(e)?e:l.visibleProjects.length?l.visibleProjects:l.projects).map(m=>{if(!m?.start)return null;const y=new Date(m.start);if(Number.isNaN(y.getTime()))return null;let b=m.end?new Date(m.end):new Date(y);return Number.isNaN(b.getTime())&&(b=new Date(y)),b<=y&&(b=new Date(y.getTime()+Pe)),{project:m,startDate:y,endDate:b}}).filter(Boolean).sort((m,y)=>m.startDate-y.startDate);if(!r.length){const m=u(d("projects.timeline.empty",t.timeline.dataset.empty||"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨Ø¨ÙŠØ§Ù†Ø§Øª Ø²Ù…Ù†ÙŠØ© ØµØ§Ù„Ø­Ø©."));t.timeline.innerHTML=`<div class="project-timeline__empty text-muted">${m}</div>`;return}const n=r[0].startDate.getTime(),o=Math.max(...r.map(m=>m.endDate.getTime()));let a=o-n;a<=0&&(a=Pe);const i=us(r),c=d("projects.timeline.range","{start} â†’ {end}"),p=d("projects.timeline.conflict","Scheduling conflict"),f=r.map(m=>{const{project:y,startDate:b,endDate:C}=m,g=C.getTime()-b.getTime();let S=(b.getTime()-n)/a*100;S=Math.max(0,Math.min(S,100));let A=g/a*100;A=Math.max(A,2.5),S+A>100&&(A=Math.max(1.5,100-S));const E=`project-timeline__item--${yt(y)}`,k=i.has(y.id),q=(y.title||"").trim()||d("projects.fallback.untitled","Untitled project"),L=ft(q,26),O=l.customers.find(se=>String(se.id)===String(y.clientId)),R=O?.customerName||d("projects.fallback.unknownClient","Unknown client"),w=(y.clientCompany||O?.companyName||"").trim(),K=we(y.type),$=z(b.toISOString()),ee=z(C.toISOString()),de=c.replace("{start}",$).replace("{end}",ee),B=w?`${R} (${w})`:R,H=`${q} â€¢ ${K} â€¢ ${B} | ${de}`,te=k?`<span class="project-timeline__item-conflict" title="${u(p)}">âš ï¸</span>`:"";return`
        <div class="project-timeline__item ${E}${k?" project-timeline__item--conflict":""}" style="left:${S}%;width:${A}%;" title="${u(H)}">
          <span class="project-timeline__item-label">${u(L)}</span>
          ${te}
        </div>
      `}).join(""),j=`
    <div class="project-timeline__scale">
      <span>${u(z(new Date(n).toISOString()))}</span>
      <span>${u(z(new Date(o).toISOString()))}</span>
    </div>
  `;t.timeline.innerHTML=`
    ${j}
    <div class="project-timeline__track">
      ${f}
    </div>
  `}function us(e){const s=new Set;for(let r=0;r<e.length;r+=1)for(let n=r+1;n<e.length;n+=1){const o=e[r],a=e[n];o.startDate<a.endDate&&a.startDate<o.endDate&&(s.add(o.project.id),s.add(a.project.id))}return s}function Ee(){if(!t.focusCards)return;const e=ms();if(!e.length){const s=u(d("projects.focus.empty",t.focusCards.dataset.empty||"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹ Ù„Ù„ÙŠÙˆÙ… Ø£Ùˆ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹."));t.focusCards.innerHTML=`<div class="project-card-grid__item project-card-grid__item--full"><div class="alert alert-info mb-0 text-center">${s}</div></div>`;return}t.focusCards.innerHTML=e.join("")}function ms(){if(!Array.isArray(l.projects)||!l.projects.length)return[];const e=l.projects.filter(Xe),s=l.projects.filter(a=>!Xe(a)&&fs(a)),r=[],n=new Set,o=(a,i)=>{!a||n.has(a.id)||r.length>=he||(n.add(a.id),r.push(js(a,i)))};if(e.sort((a,i)=>U(a)-U(i)).forEach(a=>o(a,"today")),s.sort((a,i)=>U(a)-U(i)).forEach(a=>o(a,"thisWeek")),r.length<he){const a=Date.now();[...l.projects].filter(c=>!n.has(c.id)).filter(c=>{const p=U(c);return Number.isFinite(p)&&p>=a}).sort((c,p)=>U(c)-U(p)).forEach(c=>o(c,"upcoming"))}return r.length<he&&[...l.projects].filter(i=>!n.has(i.id)).filter(i=>!Number.isFinite(U(i))).sort((i,c)=>J(c)-J(i)).forEach(i=>o(i,"recent")),r.length===0&&[...l.projects].sort((i,c)=>J(c)-J(i)).slice(0,he).forEach(i=>o(i,"recent")),r.length<he&&[...l.projects].filter(i=>!n.has(i.id)).sort((i,c)=>J(c)-J(i)).forEach(i=>o(i,"recent")),r}function js(e,s){const r=l.customers.find(T=>String(T.id)===String(e.clientId)),n=r?.customerName||d("projects.fallback.unknownClient","Ø¹Ù…ÙŠÙ„ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ");(e.clientCompany||r?.companyName||"").trim();const o=Array.isArray(e.technicians)?e.technicians.length:0,a=Oe(e.id),i=a.length;ht(e);const c=Number(e?.servicesClientPrice??0),{applyTax:p}=Ae(e),f=(e.description||"").trim(),j=f?ft(f,110):d("projects.fallback.noDescription","Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ"),m=we(e.type),y=typeof e.paymentStatus=="string"?e.paymentStatus.toLowerCase():"",b=["paid","partial"].includes(y)?y:"unpaid",C=d(`projects.paymentStatus.${b}`,b==="paid"?"Paid":b==="partial"?"Partially Paid":"Unpaid"),g=b==="paid"?"status-paid":b==="partial"?"status-partial":"status-unpaid",S=b==="paid"?"project-focus-card--paid":"project-focus-card--unpaid",A=e.confirmed===!0||e.confirmed==="true",_=u(String(e.id)),E=e.projectCode||`PRJ-${h(String(e.id))}`,k=h(E),q={today:"projects.focus.today",thisWeek:"projects.focus.thisWeek",upcoming:"projects.focus.upcoming",recent:"projects.focus.recent"},L={today:"Today's Projects",thisWeek:"This Week",upcoming:"Upcoming Projects",recent:"Latest Projects"},O=q[s]||q.recent;d(O,L[s]||L.recent);const R=yt(e),w=e?.cancelled===!0||e?.status==="cancelled"||e?.status==="canceled"?"cancelled":R;d(`projects.status.${w}`,es[w]||w);const $=(()=>{try{const T=e.start?new Date(e.start):null,v=e.end?new Date(e.end):T?new Date(T.getTime()+Pe):null;return!T||!v||Number.isNaN(T.getTime())||Number.isNaN(v.getTime())?!1:l.projects.some(N=>{if(!N||String(N.id)===String(e.id))return!1;const M=N.start?new Date(N.start):null,V=N.end?new Date(N.end):M?new Date(M.getTime()+Pe):null;if(!M||!V||Number.isNaN(M.getTime())||Number.isNaN(V.getTime()))return!1;const oe=Math.max(T.getTime(),M.getTime()),Le=Math.min(v.getTime(),V.getTime());return oe<Le})}catch{return!1}})()&&(w==="upcoming"||w==="ongoing")?"conflict":w,ee=$==="upcoming"?"timeline-status-badge timeline-status-badge--upcoming":$==="ongoing"?"timeline-status-badge timeline-status-badge--ongoing":$==="completed"?"timeline-status-badge timeline-status-badge--completed":$==="cancelled"?"timeline-status-badge timeline-status-badge--cancelled":"timeline-status-badge timeline-status-badge--conflict",de=(e.title||"").trim()||d("projects.fallback.untitled","Untitled project"),B=$==="cancelled"?[]:[S];$==="cancelled"?B.push("project-focus-card--cancelled"):A&&B.push("project-focus-card--confirmed");const H=a.reduce((T,v)=>{const N=Array.isArray(v.items)?v.items:[],M=Array.isArray(v.crewAssignments)?v.crewAssignments:[],V=M.length?M:Array.isArray(v.technicians)?v.technicians:[],oe=Yt({items:N,technicianIds:Array.isArray(V)&&!V.length?V:[],crewAssignments:Array.isArray(V)&&V.length&&typeof V[0]=="object"?V:[],discount:v.discount??0,discountType:v.discountType||"percent",applyTax:!1,start:v.start,end:v.end,companySharePercent:null}),Le=ze(v),Ft=(()=>{try{const{groups:Ge}=lt(v);return(Ge||[]).reduce((Re,Q)=>{if(String(Q?.type||"").toLowerCase()==="package"){const Vt=Array.isArray(Q?.packageItems)?Q.packageItems:[],Ht=new Set(Vt.map(Be=>(Be?.normalizedBarcode||Be?.barcode||Be?.equipmentId||"").toString()));return Re+Ht.size}const Je=Number.isFinite(Number(Q?.count))?Number(Q.count):Number.isFinite(Number(Q?.quantity))?Number(Q.quantity):1;return Re+(Je>0?Je:1)},0)}catch{return(Array.isArray(v?.items)?v.items:[]).length||0}})(),Mt=(v.technicians||[]).length;return{netTotal:T.netTotal+Le,equipmentMoney:T.equipmentMoney+Number(oe.equipmentTotal||0),crewMoney:T.crewMoney+Number(oe.crewTotal||0),equipmentCount:T.equipmentCount+Ft,crewCount:T.crewCount+Mt}},{netTotal:0,equipmentMoney:0,crewMoney:0,equipmentCount:0,crewCount:0}),te=Number(H.netTotal.toFixed(2)),se=H.equipmentCount,qe=H.crewCount||o,re=Number(c||0),ne=Number((H.equipmentMoney+H.crewMoney+re).toFixed(2)),xe=Number.parseFloat(e?.discount??e?.discountValue??0)||0;let F=(e?.discountType==="amount"?"amount":"percent")==="amount"?xe:ne*(xe/100);(!Number.isFinite(F)||F<0)&&(F=0),F>ne&&(F=ne);const me=Math.max(0,ne-F),$e=e?.companyShareEnabled===!0||e?.companyShareEnabled==="true"||e?.company_share_enabled===!0||e?.company_share_enabled==="true",je=Number.parseFloat(e?.companySharePercent??e?.company_share_percent??e?.companyShare??e?.company_share??0)||0,P=$e&&p&&je>0?je:0,fe=Number((me*(P/100)).toFixed(2)),G=p?Number(((me+fe)*Ue).toFixed(2)):0,ae=Number((me+fe+G).toFixed(2)),ye=`<span class="project-code-badge project-focus-card__code">#${u(k)}</span>`,kt="",wt="",Et=d(`projects.status.${$}`,$),Nt=`<span class="${ee}">${u(Et)}</span>`,_t=`<span class="reservation-chip ${g} project-focus-card__payment-chip">${u(C)}</span>`,De=(T,v,N)=>{const M=String(N||""),oe=M.trim().startsWith("<");return`
      <div class="project-focus-card__row">
        <span class="project-focus-card__row-label">
          ${T?`<span class="project-focus-card__row-icon">${u(T)}</span>`:""}
          ${u(v)}
        </span>
        <span class="project-focus-card__row-value">${oe?M:u(M)}</span>
      </div>
    `},{dateHtml:It,timeText:Ke}=ds(e.start,e.end),qt=[{icon:"ğŸ‘¤",label:d("projects.details.client","Ø§Ù„Ø¹Ù…ÙŠÙ„"),value:n},{icon:"ğŸ·ï¸",label:d("projects.details.type","Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"),value:`<span class="project-type-chip project-type-chip--${e.type||"default"}">${u(m)}</span>`},{icon:"ğŸ“…",label:d("projects.focus.summary.range","Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©"),value:It},Ke?{icon:"â°",label:d("projects.focus.summary.time","Ø§Ù„ÙˆÙ‚Øª"),value:Ke}:null].filter(Boolean).map(({icon:T,label:v,value:N})=>De(T,v,N)).join(""),$t=P>0&&p?` ${d("projects.details.chips.vatOn","(Ø´Ø§Ù…Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©)")}`:"",Dt=`${d("projects.details.summary.finalTotal","Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ")}${$t}`,Lt=[{icon:"ğŸ’¼",label:d("projectCards.stats.servicesClientPrice","Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©"),value:D(c)},{icon:"ğŸ’µ",label:Dt,value:D(ae)}].map(({icon:T,label:v,value:N})=>De(T,v,N)).join(""),Rt=[{icon:"ğŸ”—",label:d("projectCards.stats.reservationsShort","Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª"),value:h(String(i))},{icon:"ğŸ“¦",label:d("projectCards.stats.equipmentCount","Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª"),value:h(String(se))},{icon:"ğŸ˜",label:d("projectCards.stats.crewCount","Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ø§Ù‚Ù…"),value:h(String(qe))},{icon:"ğŸ’µ",label:d("projectCards.stats.reservationValue","Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª"),value:D(te)}].map(({icon:T,label:v,value:N})=>De(T,v,N)).join(""),Bt=$==="cancelled"?`<span class="reservation-chip status-cancelled project-focus-card__confirm-indicator">${u(d("projects.focus.cancelled","Ù…Ø´Ø±ÙˆØ¹ Ù…Ù„ØºÙŠ"))}</span>`:A?`<span class="reservation-chip status-confirmed project-focus-card__confirm-indicator">${u(d("projects.focus.confirmed","âœ… Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¤ÙƒØ¯"))}</span>`:`<button class="btn btn-sm btn-success project-focus-card__confirm-btn" data-action="confirm-project" data-id="${_}">${u(d("projects.focus.actions.confirm","âœ”ï¸ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"))}</button>`;return`
    <div class="project-card-grid__item">
      <article class="project-focus-card ${B.filter(Boolean).join(" ")}" data-project-id="${_}">
        <div class="project-focus-card__accent"></div>
        <div class="project-focus-card__top">
          ${ye}
          ${kt}
          ${wt}
          ${Nt}
          ${_t}
        </div>
        <h6 class="project-focus-card__title">${u(de)}</h6>
        <p class="project-focus-card__description">${u(j)}</p>
        <div class="project-focus-card__sections">
          <div class="project-focus-card__section">
            <span class="project-focus-card__section-title">${u(d("projects.focus.summary.project","Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"))}</span>
            <div class="project-focus-card__section-box">
              ${qt}
            </div>
          </div>
          <!-- Show reservations above the financial summary -->
          <div class="project-focus-card__section">
            <span class="project-focus-card__section-title">${u(d("projects.focus.summary.reservations","Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©"))}</span>
            <div class="project-focus-card__section-box">
              ${Rt}
            </div>
          </div>
          <div class="project-focus-card__section">
            <span class="project-focus-card__section-title">${u(d("projects.focus.summary.payment","Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø§Ù„ÙŠ"))}</span>
            <div class="project-focus-card__section-box">
              ${Lt}
            </div>
          </div>
        </div>
        <div class="project-focus-card__actions project-focus-card__actions--single">
          ${Bt}
        </div>
      </article>
    </div>
  `}function Xe(e){if(!e?.start)return!1;const s=new Date(e.start);if(Number.isNaN(s.getTime()))return!1;const r=new Date;return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()&&s.getDate()===r.getDate()}function fs(e){if(!e?.start)return!1;const s=new Date(e.start);if(Number.isNaN(s.getTime()))return!1;const r=new Date,n=new Date(r);n.setHours(0,0,0,0);const o=n.getDay(),a=o===0?6:o-1;n.setDate(n.getDate()-a);const i=new Date(n);return i.setDate(i.getDate()+7),s>=n&&s<i}function yt(e){const s=new Date,r=e.start?new Date(e.start):null,n=e.end?new Date(e.end):null;return r&&!Number.isNaN(r.getTime())&&r>s?"upcoming":n&&!Number.isNaN(n.getTime())&&n<s?"completed":"ongoing"}function ht(e){return typeof e.expensesTotal=="number"?e.expensesTotal:Array.isArray(e.expenses)?e.expenses.reduce((s,r)=>s+(Number(r.amount)||0),0):0}function Ae(e){const s=Number(e?.equipmentEstimate)||0,r=ht(e),n=s+r,o=e?.applyTax===!0||e?.applyTax==="true",a=Number.parseFloat(e?.discount??e?.discountValue??0)||0;let c=(e?.discountType==="amount"?"amount":"percent")==="amount"?a:n*(a/100);(!Number.isFinite(c)||c<0)&&(c=0),c>n&&(c=n);const p=Math.max(0,n-c),f=e?.companyShareEnabled===!0||e?.companyShareEnabled==="true"||e?.company_share_enabled===!0||e?.company_share_enabled==="true",j=Number.parseFloat(e?.companySharePercent??e?.company_share_percent??e?.companyShare??e?.company_share??0)||0,m=o||f&&j>0,y=f&&m&&j>0?j:0,b=y>0?Number((p*(y/100)).toFixed(2)):0,C=p+b;let g=m?C*Ue:0;(!Number.isFinite(g)||g<0)&&(g=0),g=Number(g.toFixed(2));let S=m?Number(e?.totalWithTax):C;return m?(!Number.isFinite(S)||S<=0)&&(S=Number((C+g).toFixed(2))):S=C,{equipmentEstimate:s,expensesTotal:r,baseSubtotal:n,discountAmount:c,subtotalAfterDiscount:p,companyShareAmount:b,subtotal:C,applyTax:m,taxAmount:g,totalWithTax:S}}function Ne(){const e=l.projects.length,s=l.projects.filter(o=>{const a=o.start?new Date(o.start):null;return!a||Number.isNaN(a.getTime())?!1:a>new Date}).length,r=l.projects.reduce((o,a)=>o+Ae(a).expensesTotal,0),n=l.projects.reduce((o,a)=>o+Ae(a).totalWithTax,0);t.projectsCount&&(t.projectsCount.textContent=h(String(e))),t.projectsUpcoming&&(t.projectsUpcoming.textContent=h(String(s))),t.projectsExpenses&&(t.projectsExpenses.textContent=D(r)),t.projectsBudget&&(t.projectsBudget.textContent=D(n))}function Oe(e){return e?l.reservations.filter(s=>{const r=s?.projectId??s?.project_id??null;return r!=null&&String(r)===String(e)}):[]}function ze(e){if(!e)return 0;const s=Array.isArray(e.items)?e.items:[],r=e.discount??0,n=Number(h(String(r)))||0,o=e.discountType||"percent",a=Array.isArray(e.crewAssignments)?e.crewAssignments:[],i=a.length?a:Array.isArray(e.technicians)?e.technicians:[],c=Jt(s,n,o,!1,i,{start:e.start,end:e.end});if(Number.isFinite(c))return c;const p=Number(h(String(e.cost??0)));return Number.isFinite(p)?Math.round(p):0}function ys(e){try{const{groups:s}=lt(e);return(s||[]).reduce((r,n)=>{if(String(n?.type||"").toLowerCase()==="package"){const i=Array.isArray(n?.packageItems)?n.packageItems:[],c=new Set(i.map(p=>(p?.normalizedBarcode||p?.barcode||p?.equipmentId||"").toString()));return r+c.size}const a=Number.isFinite(Number(n?.count))?Number(n.count):Number.isFinite(Number(n?.quantity))?Number(n.quantity):1;return r+(a>0?a:1)},0)}catch{return(Array.isArray(e?.items)?e.items:[]).length||0}}function hs(e,s,r=null){if(!e)return"";const n=e.reservationId||e.id||`RES-${s+1}`,o=e.status||e.state||"pending",a=String(o).toLowerCase(),{effectiveConfirmed:i}=pt(e,r),c=i?"confirmed":a,p=d(`reservations.list.status.${c}`,c==="confirmed"?"âœ… Ù…Ø¤ÙƒØ¯":c==="pending"?"â³ ØºÙŠØ± Ù…Ø¤ÙƒØ¯":c),j={confirmed:"project-reservation-card__badge--confirmed",pending:"project-reservation-card__badge--pending",completed:"project-reservation-card__badge--completed",in_progress:"project-reservation-card__badge--info",ongoing:"project-reservation-card__badge--info"}[c]||"project-reservation-card__badge--info",m=typeof r?.paymentStatus=="string"?r.paymentStatus.toLowerCase():null,y=m&&["paid","partial","unpaid"].includes(m)?m:String(e.paidStatus||e.paymentStatus||(e.paid?"paid":"unpaid")).toLowerCase(),b=y==="paid"?"paid":y==="partial"?"partial":"unpaid",C=b==="paid"?d("reservations.list.payment.paid","ğŸ’³ Ù…Ø¯ÙÙˆØ¹"):b==="partial"?d("reservations.list.payment.partial","ğŸ’³ Ù…Ø¯ÙÙˆØ¹ Ø¬Ø²Ø¦ÙŠØ§Ù‹"):d("reservations.list.payment.unpaid","ğŸ’³ ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹"),g=b==="paid"?"project-reservation-card__badge--paid":b==="partial"?"project-reservation-card__badge--partial":"project-reservation-card__badge--unpaid",S=e.completed===!0||e.completed==="true",A=d("reservations.details.completed","Ù…ÙƒØªÙ…Ù„"),_=S?`<span class="project-reservation-card__badge project-reservation-card__badge--completed">${u(A)}</span>`:"",E=ze(e),k=D(E),q=ys(e),L=(e.technicians||[]).length,O=d("projectCards.stats.crewCount","Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ø§Ù‚Ù…"),R=d("projectCards.stats.equipmentCount","Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª"),w=d("projectCards.stats.reservationTotal","Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬Ø²");return`
    <article class="project-reservation-card" data-action="view-reservation" data-index="${s}" data-reservation-index="${s}" data-project-id="${r?r.id:""}" role="button" tabindex="0">
      <div class="project-reservation-card__header">
        <span class="project-reservation-card__id">#${u(n)}</span>
        <div class="project-reservation-card__badges">
          <span class="project-reservation-card__badge ${j}">${u(p)}</span>
          <span class="project-reservation-card__badge ${g}">${u(C)}</span>
          ${_}
        </div>
      </div>
      <div class="project-reservation-card__body">
        <div class="project-reservation-card__meta project-reservation-card__meta--vertical">
          <span>ğŸ˜ ${u(O)}: ${h(String(L))}</span>
          <span>ğŸ“¦ ${u(R)}: ${h(String(q))}</span>
          <span>ğŸ’µ ${u(w)}: ${u(k)}</span>
        </div>
      </div>
    </article>
  `}function Ys(e){const s=Oe(e.id).map(a=>{const i=a?.id??a?.reservationId??a?.reservation_code??a?.reservation_id,c=l.reservations.findIndex(p=>{const f=p?.id??p?.reservationId??p?.reservation_code??p?.reservation_id;return i!=null&&f!=null&&String(f)===String(i)});return{reservation:a,index:c}}).filter(({index:a})=>Number.isInteger(a)&&a>=0).sort((a,i)=>{const c=a.reservation.start?new Date(a.reservation.start).getTime():0;return(i.reservation.start?new Date(i.reservation.start).getTime():0)-c}),r=d("projects.details.reservations.title","Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©"),n=d("projects.details.reservations.empty","Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø¹Ø¯."),o=s.length?`<div class="project-reservations-list">${s.map(({reservation:a,index:i})=>hs(a,i,e)).join("")}</div>`:`<div class="alert alert-info project-reservations-empty mb-0">${u(n)}</div>`;return`
    <section class="project-reservations-section">
      <div class="project-reservations-header d-flex align-items-center gap-2 flex-wrap">
        <h6 class="mb-0">${u(r)}</h6>
      </div>
      ${o}
    </section>
  `}async function bs(e){if(l.projects.findIndex(o=>String(o.id)===String(e))===-1)return;let r=0;try{r=(I()||[]).filter(a=>String(a.projectId)===String(e)).length}catch{}const n=r>0?d("projects.confirm.deleteCascade",`âš ï¸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆØ¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡ (${r}). Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ`):d("projects.confirm.delete","Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŸ");if(window.confirm(n))try{try{const a=(I()||[]).filter(i=>String(i.projectId)===String(e));for(const i of a){const c=i.id??i.reservationId??i.reservation_code;if(c)try{await Qt(c)}catch(p){console.warn("âš ï¸ failed to delete linked reservation",c,p)}}}catch{}await zt(e),await it(),await dt(),l.projects=He(),l.reservations=I(),ce(),Ne(),Ee(),document.dispatchEvent(new CustomEvent("projects:changed")),document.dispatchEvent(new CustomEvent("reservations:changed")),x(d("projects.toast.deleted","ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆØ§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡"))}catch(o){console.error("âŒ [projects] removeProject failed",o);const a=ct(o)?o.message:d("projects.toast.deleteFailed","ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰");x(a,"error")}}async function Qs(e,{start:s=null,end:r=null}={}){if(!e)return!1;const o=I().filter(c=>String(c.projectId)===String(e));if(!o.length)return!1;let a=!1,i=0;for(const c of o){const p=c.id??c.reservationId;if(!p)continue;const f=String(c.status||"").toLowerCase();if(f==="completed"||f==="cancelled"||f==="canceled")continue;const j={};if(s&&(j.start_datetime=s),r&&(j.end_datetime=r),Object.keys(j).length!==0)try{await Se(p,j),a=!0,i+=1}catch(m){console.warn("[projects] failed to update linked reservation schedule",p,m)}}if(a){l.reservations=I();try{document.dispatchEvent(new CustomEvent("reservations:changed"))}catch{}try{const c=d("projects.toast.linkedReservationsScheduleUpdated","ØªÙ… ØªØ­Ø¯ÙŠØ« ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© ({count})","Updated linked reservations timing ({count})").replace("{count}",String(i));x(c)}catch{}}return a}async function gs(e,s){if(!e)return!1;const n=I().filter(p=>String(p.projectId)===String(e));if(!n.length)return!1;const o=typeof s=="string"?s.toLowerCase():"unpaid",a=o==="paid",i=a?"paid":o==="partial"?"partial":"unpaid";let c=!1;for(const p of n){const f=p.id??p.reservationId;if(!f)continue;const j=p.paid===!0||p.paid==="paid",m=p.paidStatus||p.paymentStatus||(j?"paid":"unpaid");j===a&&m===i||(await Se(f,{paid_status:i,paid:a}),c=!0)}return c&&(l.reservations=I()),c}async function Xs(e){if(!e)return!1;const s=I(),r=l.projects.find(a=>String(a.id)===String(e))||(Z().projects||[]).find?.(a=>String(a.id)===String(e))||null,n=s.filter(a=>String(a.projectId)===String(e));if(!n.length)return!1;let o=!1;for(const a of n){const i=a.id??a.reservationId;if(!i)continue;const c=pt({...a,projectId:e},r);if(c.effectiveConfirmed)continue;const p=r?.status??c.projectStatus??"confirmed";await Se(i,{confirmed:!0,status:p}),o=!0}return o&&(l.reservations=I()),o}async function Ze(e,s){if(!e)return!1;const r=await gs(e,s);return r&&document.dispatchEvent(new CustomEvent("reservations:changed")),r}async function Zs(e){if(!e)return!1;const r=I().filter(o=>String(o.projectId)===String(e));if(!r.length)return!1;let n=!1;for(const o of r){const a=o.id??o.reservationId;if(a)try{await Se(a,{status:"cancelled",cancelled:!0}),n=!0}catch(i){console.warn("[projects] failed to cancel linked reservation",a,i)}}return n&&(l.reservations=I(),document.dispatchEvent(new CustomEvent("reservations:changed"))),n}let Fe=!1;const _e="projects:create:draft",vs="projects.html#projects-section";let Te=!1,W=[];function bt(e){return e?e instanceof HTMLElement?e:typeof e=="string"?document.getElementById(e):null:null}function er(e=t.companyShare){const s=bt(e);if(!s||s.checked!==!0)return null;const r=s.dataset.companyShare??s.value??Y,n=h(String(r).replace("%","").trim()),o=Number.parseFloat(n);return!Number.isFinite(o)||o<=0?Y:o}function et(e=t.companyShare,s=Y){const r=bt(e);if(!r)return;const n=r.dataset.companyShare??r.value??s,o=h(String(n).replace("%","").trim());let a=Number.parseFloat(o);(!Number.isFinite(a)||a<=0)&&(a=s),r.dataset.companyShare=String(a),r.checked=!0}function be(e){const s=t.taxCheckbox,r=t.companyShare;if(!s||!r||Te)return;Te=!0;const n=()=>{x(d("projects.toast.companyShareRequiresTax","âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªÙØ¹ÙŠÙ„ Ù†Ø³Ø¨Ø© Ø§Ù„Ø´Ø±ÙƒØ© Ø¨Ø¯ÙˆÙ† ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©"))};if(e==="share")if(r.checked){if(s.disabled){r.checked=!1,n(),Te=!1;return}s.checked||(s.checked=!0),et(r)}else s.checked&&!s.disabled&&(s.checked=!1);else e==="tax"&&(s.checked?et(r):r.checked&&(r.checked=!1));Te=!1}function Ss({equipmentEstimate:e=0,expensesTotal:s=0,servicesClientPrice:r=0,discountValue:n=0,discountType:o="percent",applyTax:a=!1,companyShareEnabled:i=!1,companySharePercent:c=null}={}){const p=Number(e)+Number(r),f=Number.isFinite(Number(n))?Number(n):0;let j=0;o==="amount"?j=f:j=p*(f/100),(!Number.isFinite(j)||j<0)&&(j=0),j>p&&(j=p);const m=Math.max(0,p-j),y=i&&a&&Number.isFinite(Number(c))&&Number(c)>0?Number(c):0,b=y>0?Number((m*(y/100)).toFixed(2)):0,C=m+b;let g=a?C*Ue:0;(!Number.isFinite(g)||g<0)&&(g=0),g=Number(g.toFixed(2));const S=Number((C+g).toFixed(2));return{baseSubtotal:p,discountAmount:j,subtotalAfterDiscount:m,companyShareAmount:b,taxableAmount:C,taxAmount:g,totalWithTax:S}}function tr(){t.form&&!t.form.dataset.listenerAttached&&(t.form.addEventListener("submit",Ns),t.form.dataset.listenerAttached="true"),t.form&&!t.form.dataset.resetListenerAttached&&(t.form.addEventListener("reset",()=>{t.client&&(t.client.dataset.customerId=""),ge(),mt(),t.type&&(t.type.value=""),X(null),Pt(),gt()}),t.form.dataset.resetListenerAttached="true"),xs(),Ts(),t.search&&!t.search.dataset.listenerAttached&&(t.search.addEventListener("input",()=>{l.filters.search=h(t.search.value||"").trim().toLowerCase(),ce()}),t.search.dataset.listenerAttached="true")}function gt(){ts(),l.editingProjectId=null,t.form&&(delete t.form.dataset.editingId,t.form.dataset.mode="create"),le(),t.expenseLabel&&(t.expenseLabel.value=""),t.expenseAmount&&(t.expenseAmount.value=""),l.servicesClientPriceTotal=0,t.servicesClientPrice&&(t.servicesClientPrice.value=""),t.taxCheckbox&&(t.taxCheckbox.checked=!1),t.discountType&&(t.discountType.value="percent"),t.discountValue&&(t.discountValue.value=""),t.companyShare&&(t.companyShare.checked=!1,t.companyShare.dataset.companyShare=String(Y)),t.paymentStatus&&(t.paymentStatus.value="unpaid"),t.paymentStatus?.dataset&&delete t.paymentStatus.dataset.userSelected,t.paymentProgressType&&(t.paymentProgressType.value="percent"),t.paymentProgressValue&&(t.paymentProgressValue.value=""),W=[],t.paymentHistory&&(t.paymentHistory.innerHTML=""),Ct(),ve(),be("tax"),pe()}function sr(){t.addTechnicianBtn&&t.addTechnicianBtn.dataset.listenerAttached!=="true"&&(t.addTechnicianBtn.addEventListener("click",Cs),t.addTechnicianBtn.dataset.listenerAttached="true"),t.addEquipmentBtn&&t.addEquipmentBtn.dataset.listenerAttached!=="true"&&(t.addEquipmentBtn.addEventListener("click",Ps),t.addEquipmentBtn.dataset.listenerAttached="true")}function rr(){Me(t.technicianList,e=>{if(e.matches('[data-action="remove-technician"]')){const s=e.dataset.id;l.selectedTechnicians=l.selectedTechnicians.filter(r=>r!==s),vt()}}),Me(t.equipmentList,e=>{if(e.matches('[data-action="remove-equipment"]')){const s=e.dataset.id;l.selectedEquipment=l.selectedEquipment.filter(r=>r.barcode!==s),St()}}),Me(t.expenseList,e=>{if(e.matches('[data-action="remove-expense"]')){const s=e.dataset.id;l.expenses=l.expenses.filter(r=>String(r.id)!==String(s)),xt(),Ne(),At(),pe()}})}function xs(){t.discountValue&&t.discountValue.dataset.listenerAttached!=="true"&&(t.discountValue.addEventListener("input",e=>{const s=e.target;s instanceof HTMLInputElement&&(s.value=h(s.value||""))}),t.discountValue.dataset.listenerAttached="true"),t.companyShare&&t.companyShare.dataset.listenerAttached!=="true"&&(t.companyShare.addEventListener("change",()=>{be("share")}),t.companyShare.dataset.listenerAttached="true"),t.taxCheckbox&&t.taxCheckbox.dataset.projectListenerAttached!=="true"&&(t.taxCheckbox.addEventListener("change",()=>{be("tax")}),t.taxCheckbox.dataset.projectListenerAttached="true"),t.paymentStatus&&t.paymentStatus.dataset.billingListenerAttached!=="true"&&(t.paymentStatus.addEventListener("change",()=>{t.paymentStatus.dataset.userSelected="true"}),t.paymentStatus.dataset.billingListenerAttached="true"),t.paymentProgressValue&&t.paymentProgressValue.dataset.listenerAttached!=="true"&&(t.paymentProgressValue.addEventListener("input",e=>{const s=e.target;s instanceof HTMLInputElement&&(s.value=h(s.value||""))}),t.paymentProgressValue.dataset.listenerAttached="true"),t.servicesClientPrice&&t.servicesClientPrice.dataset.normalizeAttached!=="true"&&(t.servicesClientPrice.addEventListener("input",e=>{const s=e.target;if(!(s instanceof HTMLInputElement))return;const r=s.selectionStart,n=h(s.value||"");if(s.value=n,r!=null){const o=Math.min(n.length,r);s.setSelectionRange(o,o)}}),t.servicesClientPrice.dataset.normalizeAttached="true"),be(t.companyShare?.checked?"share":"tax"),pe()}function tt(){const e=t.paymentHistory;if(!e)return;const s=Array.isArray(W)?W:[];if(!s.length){e.innerHTML=`<div class="reservation-payment-history__empty">${u(d("reservations.paymentHistory.empty","Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯ÙØ¹Ø§Øª Ù…Ø³Ø¬Ù„Ø©"))}</div>`;return}const r=s.map((n,o)=>{const a=Number.isFinite(Number(n?.amount))&&Number(n.amount)>0?D(Number(n.amount)):"â€”",i=Number.isFinite(Number(n?.percentage))&&Number(n.percentage)>0?`${h(Number(n.percentage).toFixed(2))}%`:"â€”",c=n?.recordedAt?h(z(n.recordedAt)):"â€”",p=n?.type==="percent"?d("reservations.paymentHistory.type.percent","Ùª Ø¯ÙØ¹Ø© Ù†Ø³Ø¨Ø©"):d("reservations.paymentHistory.type.amount","ğŸ’µ Ø¯ÙØ¹Ø© Ù…Ø§Ù„ÙŠØ©");return`
      <tr>
        <td>${u(p)}</td>
        <td>${u(a)}</td>
        <td>${u(i)}</td>
        <td>${u(c)}</td>
        <td class="reservation-payment-history__actions">
          <button type="button" class="btn btn-link btn-sm reservation-payment-history__remove" data-action="remove-payment" data-index="${o}" aria-label="${u(d("reservations.paymentHistory.actions.delete","Ø­Ø°Ù Ø§Ù„Ø¯ÙØ¹Ø©"))}">ğŸ—‘ï¸</button>
        </td>
      </tr>`}).join("");e.innerHTML=`
    <div class="reservation-payment-history__table-wrapper">
      <table class="table table-sm reservation-payment-history__table">
        <thead>
          <tr>
            <th>${u(d("reservations.paymentHistory.headers.method","Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙØ¹Ø©"))}</th>
            <th>${u(d("reservations.paymentHistory.headers.amount","Ø§Ù„Ù…Ø¨Ù„Øº"))}</th>
            <th>${u(d("reservations.paymentHistory.headers.percent","Ø§Ù„Ù†Ø³Ø¨Ø©"))}</th>
            <th>${u(d("reservations.paymentHistory.headers.date","Ø§Ù„ØªØ§Ø±ÙŠØ®"))}</th>
            <th>${u(d("reservations.paymentHistory.headers.note","Ù…Ù„Ø§Ø­Ø¸Ø§Øª"))}</th>
          </tr>
        </thead>
        <tbody>${r}</tbody>
      </table>
    </div>`}function Ts(){t.paymentAddButton&&t.paymentAddButton.dataset.listenerAttached!=="true"&&(t.paymentAddButton.addEventListener("click",e=>{e.preventDefault();const s=t.paymentProgressType?.value==="amount"?"amount":"percent",r=h(t.paymentProgressValue?.value||"").replace("%","").trim(),n=Number.parseFloat(r);if(!Number.isFinite(n)||n<=0){x(d("projects.toast.paymentInvalid","âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ…Ø© Ø¯ÙØ¹Ø© ØµØ­ÙŠØ­Ø©"));return}W.push({type:s,value:n,recordedAt:new Date().toISOString()}),t.paymentProgressValue&&(t.paymentProgressValue.value=""),tt()}),t.paymentAddButton.dataset.listenerAttached="true"),t.paymentHistory&&t.paymentHistory.dataset.listenerAttached!=="true"&&(t.paymentHistory.addEventListener("click",e=>{const s=e.target.closest('[data-action="remove-payment"]');if(!s)return;const r=Number.parseInt(s.dataset.index||"-1",10);!Number.isInteger(r)||r<0||(W.splice(r,1),tt())}),t.paymentHistory.dataset.listenerAttached="true")}function nr(){t.addExpenseBtn&&t.addExpenseBtn.dataset.listenerAttached!=="true"&&(t.addExpenseBtn.addEventListener("click",As),t.addExpenseBtn.dataset.listenerAttached="true"),t.expenseAmount&&t.expenseAmount.dataset.normalizeAttached!=="true"&&(t.expenseAmount.addEventListener("input",e=>{const s=e.target;if(!(s instanceof HTMLInputElement))return;const r=s.selectionStart,n=h(s.value||"");if(s.value=n,r!=null){const o=Math.min(n.length,r);s.setSelectionRange(o,o)}}),t.expenseAmount.dataset.normalizeAttached="true")}function Me(e,s){!e||e.dataset.listenerAttached==="true"||(e.addEventListener("click",r=>{const n=r.target;n instanceof HTMLElement&&s(n)}),e.dataset.listenerAttached="true")}function ar({onViewDetails:e}){!t.projectsTableBody||t.projectsTableBody.dataset.listenerAttached==="true"||(t.projectsTableBody.addEventListener("click",s=>{const r=s.target;if(r instanceof HTMLElement){if(r.matches('[data-action="view-details"]')){const n=r.dataset.id;e?.(n);return}if(r.matches('[data-action="delete-project"]')){if(!at()){Ot();return}const n=r.dataset.id;bs(n)}}}),t.projectsTableBody.dataset.listenerAttached="true")}function or(){const{customers:e}=Z();l.customers=Array.isArray(e)?e:[],le(),ce(),Ee()}function ir(){const{technicians:e}=Z();l.technicians=Array.isArray(e)?e:[],le(),ce(),Ee()}function cr(e){const{reservations:s}=Z();l.reservations=Array.isArray(s)?s:[],ce();const r=t.detailsModalEl&&t.detailsModalEl.classList.contains("show"),n=t.detailsBody?.dataset.projectId;r&&n&&l.projects.find(a=>String(a.id)===String(n))&&e?.(n)}function Cs(){const e=t.technicianSelect?.value;if(!e){x(d("projects.toast.selectTechnician","âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ Ø§Ù„Ø·Ø§Ù‚Ù…"));return}if(l.selectedTechnicians.includes(e)){x(d("projects.toast.technicianAlreadyAdded","âš ï¸ Ø§Ù„Ø¹Ø¶Ùˆ Ù…Ø¶Ø§Ù Ø¨Ø§Ù„ÙØ¹Ù„"));return}l.selectedTechnicians.push(e),le(),x(d("projects.toast.technicianAdded","âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ Ø§Ù„Ø·Ø§Ù‚Ù…"))}function Ps(){const e=t.equipmentSelect?.value;if(!e){x(d("projects.toast.selectEquipment","âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¹Ø¯Ø©"));return}const s=Math.max(1,parseInt(t.equipmentQty?.value||"1",10)||1),r=l.selectedEquipment.find(n=>n.barcode===e);r?r.qty+=s:l.selectedEquipment.push({barcode:e,qty:s}),le(),x(d("projects.toast.equipmentAdded","âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ø¯Ø© Ù„Ù„Ù…Ø´Ø±ÙˆØ¹"))}function As(){const e=(t.expenseLabel?.value||"").trim(),s=h(t.expenseAmount?.value||"0"),r=Number(s),n=h(t.servicesClientPrice?.value||"0"),o=Number.parseFloat(n)||0,a=(t.expenseNote?.value||"").trim();if(!e){x(d("projects.toast.missingExpenseLabel","âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØµÙ Ø§Ù„Ù…ØµØ±ÙˆÙ"));return}if(!Number.isFinite(r)||r<0){x(d("projects.toast.invalidExpenseAmount","âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­"));return}l.expenses.push({id:Date.now(),label:e,amount:r,salePrice:o,note:a}),At(),t.expenseLabel&&(t.expenseLabel.value=""),t.expenseAmount&&(t.expenseAmount.value=h(String(s))),t.servicesClientPrice&&(t.servicesClientPrice.value=""),t.expenseNote&&(t.expenseNote.value=""),le(),Ne(),pe()}function le(){vt(),St(),xt(),Ct(),pe()}function vt(){t.technicianList&&Tt(t.technicianList,l.selectedTechnicians,e=>{const r=l.technicians.find(n=>String(n.id)===String(e))?.name||d("projects.fallback.technicianName","Ø¹Ø¶Ùˆ Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…");return`
      <span class="chip">
        ${u(r)}
        <button type="button" class="chip__remove" data-action="remove-technician" data-id="${u(String(e))}" aria-label="${u(d("actions.remove","Ø¥Ø²Ø§Ù„Ø©"))}">âœ–</button>
      </span>
    `})}function St(){t.equipmentList&&Tt(t.equipmentList,l.selectedEquipment,e=>{const s=l.equipment.find(o=>String(o.barcode||"")===String(e.barcode)),r=s?.desc||s?.description||s?.name||d("projects.fallback.unknownEquipment","Ù…Ø¹Ø¯Ø©"),n=h(String(e.qty||1));return`
      <span class="chip">
        ${u(r)} (x${n})
        <button type="button" class="chip__remove" data-action="remove-equipment" data-id="${u(String(e.barcode))}" aria-label="${u(d("actions.remove","Ø¥Ø²Ø§Ù„Ø©"))}">âœ–</button>
      </span>
    `})}function xt(){if(!t.expenseList)return;const e=Array.isArray(l.expenses)?l.expenses:[];if(!e.length){const r=u(ut(t.expenseList));t.expenseList.innerHTML=`
      <div class="table-responsive">
        <table class="table table-sm table-hover align-middle project-services-table">
          <thead class="table-light">
            <tr>
              <th>${u(d("projects.expenses.table.headers.service","Ø§Ù„Ø®Ø¯Ù…Ø©"))}</th>
              <th>${u(d("projects.expenses.table.headers.cost","Ø§Ù„ØªÙƒÙ„ÙØ© (SR)"))}</th>
              <th>${u(d("projects.expenses.table.headers.sale","Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹ (SR)"))}</th>
              <th>${u(d("projects.expenses.table.headers.note","Ù…Ù„Ø§Ø­Ø¸Ø§Øª"))}</th>
              <th>${u(d("projects.expenses.table.headers.actions","Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"))}</th>
            </tr>
          </thead>
          <tbody>
            <tr><td colspan="5" class="text-center text-muted">${r}</td></tr>
          </tbody>
        </table>
      </div>`;return}const s=e.map(r=>{const n=u(r.label||""),o=D(Number(r.amount)||0),a=D(Number(r.salePrice)||0),i=u(r.note||""),c=u(String(r.id)),p=u(d("actions.remove","Ø¥Ø²Ø§Ù„Ø©"));return`
      <tr>
        <td>${n}</td>
        <td>${u(o)}</td>
        <td>${u(a)}</td>
        <td>${i||"â€”"}</td>
        <td>
          <button type="button" class="btn btn-sm btn-link text-danger" data-action="remove-expense" data-id="${c}" aria-label="${p}">âœ–</button>
        </td>
      </tr>`}).join("");t.expenseList.innerHTML=`
    <div class="table-responsive">
      <table class="table table-sm table-hover align-middle project-services-table">
        <thead class="table-light">
            <tr>
              <th>${u(d("projects.expenses.table.headers.service","Ø§Ù„Ø®Ø¯Ù…Ø©"))}</th>
              <th>${u(d("projects.expenses.table.headers.cost","Ø§Ù„ØªÙƒÙ„ÙØ© (SR)"))}</th>
              <th>${u(d("projects.expenses.table.headers.sale","Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹ (SR)"))}</th>
              <th>${u(d("projects.expenses.table.headers.note","Ù…Ù„Ø§Ø­Ø¸Ø§Øª"))}</th>
              <th>${u(d("projects.expenses.table.headers.actions","Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"))}</th>
            </tr>
        </thead>
        <tbody>${s}</tbody>
      </table>
    </div>`}function Tt(e,s,r){if(e){if(!s||s.length===0){const n=u(ut(e));e.innerHTML=`<span class="text-muted">${n}</span>`;return}e.innerHTML=s.map(n=>r(n)).join("")}}function Ct(){if(!t.submitBtn)return;const e=!!l.editingProjectId,s=e?"projects.form.buttons.update":"projects.form.buttons.save",r=e?"ğŸ” ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø´Ø±ÙˆØ¹":"ğŸ†• Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹";t.submitBtn.textContent=d(s,r)}function ks(){return l.expenses.reduce((e,s)=>e+(Number(s.amount)||0),0)}function st(e){return h(String(e||"")).trim().toLowerCase()}function ws(){if(!Array.isArray(l.selectedEquipment)||l.selectedEquipment.length===0)return{items:[],missing:[]};const e=new Map((l.equipment||[]).map(n=>[st(n?.barcode),n])),s=[],r=[];return l.selectedEquipment.forEach(n=>{const o=st(n?.barcode);if(!o){s.push(n?.barcode||"");return}const a=e.get(o);if(!a||a.id==null){s.push(n?.barcode||o);return}const i=Number.parseInt(String(n?.qty??0),10);r.push({equipmentId:a.id,qty:Number.isInteger(i)&&i>0?i:1})}),{items:r,missing:s}}function lr(e){return!e||!Array.isArray(e.equipment)?[]:e.equipment.map(s=>{const r=s?.equipmentId??s?.equipment_id??s?.id??null,n=Number.parseInt(String(s?.qty??s?.quantity??0),10);return r?{equipmentId:r,qty:Number.isInteger(n)&&n>0?n:1}:null}).filter(Boolean)}function Es(){return l.selectedEquipment.reduce((e,s)=>{const r=l.equipment.find(o=>String(o.barcode||"")===String(s.barcode)),n=Number(r?.price||r?.daily_rate||r?.dailyRate||0);return e+n*(s.qty||1)},0)}async function Ns(e){if(e.preventDefault(),Fe)return;const s=t.title?.value.trim(),r=t.type?.value||"",n=t.client?.value?.trim()||"",o=t.client?.dataset?.customerId||"",a=t.startDate?.value?.trim()||"",i=t.startTime?.value?.trim()||"";if(!s||!r||!a){x(d("projects.toast.missingRequiredFields","âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©"));return}const c=is(n,o);if(!c){x(d("projects.toast.customerNotFound","âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¨Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø®Ù„")),t.client?.focus();return}const p=String(c.id);t.client&&(t.client.dataset.customerId=p,t.client.value=c.customerName||c.name||t.client.value),X(c);const f=t.endDate?.value?.trim()||"",j=t.endTime?.value?.trim()||"",m=ke(a,i),y=f?ke(f,j):"",b=new Date(m),C=y?new Date(y):null;if(C&&b>C){x(d("projects.toast.invalidDateRange","âš ï¸ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨Ø¹Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©"));return}t.expenseAmount&&(t.expenseAmount.value=h(t.expenseAmount.value||""));const g=ks(),S=Es(),A=h(t.servicesClientPrice?.value||"");let _=l.servicesClientPriceTotal||Number.parseFloat(A);(!Number.isFinite(_)||_<0)&&(_=0);const E=t.taxCheckbox?.checked===!0,k=t.discountType?.value==="amount"?"amount":"percent",q=h(t.discountValue?.value||"0");let L=Number.parseFloat(q);(!Number.isFinite(L)||L<0)&&(L=0);const O=t.companyShare,R=O?.checked===!0;let w=R?Number.parseFloat(h(String(O.dataset.companyShare??O.value??Y))):null;(!Number.isFinite(w)||w<=0)&&(w=R?Y:null);const K=Ss({equipmentEstimate:S,expensesTotal:g,servicesClientPrice:_,discountValue:L,discountType:k,applyTax:E,companyShareEnabled:R,companySharePercent:w}),$=t.paymentProgressType?.value==="amount"?"amount":"percent",ee=h(t.paymentProgressValue?.value||""),de=ee?Number.parseFloat(ee):null,B=Xt({totalAmount:K.totalWithTax,progressType:$,progressValue:de,history:Array.isArray(W)?[...W]:[]}),H=t.paymentStatus?.dataset?.userSelected==="true",te=(t.paymentStatus?.value||"unpaid").toLowerCase(),se=["paid","partial"].includes(te)?te:"unpaid",qe=Zt({manualStatus:H?se:null,paidAmount:B.paidAmount,paidPercent:B.paidPercent,totalAmount:K.totalWithTax}),re=H?se:qe;!H&&t.paymentStatus&&(t.paymentStatus.value=re),t.paymentStatus?.dataset&&delete t.paymentStatus.dataset.userSelected;const{items:ne,missing:xe}=ws();if(xe.length){x(d("projects.toast.equipmentMissing","âš ï¸ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¹Ø¯Ø§Øª"),"error");return}const ue=!!l.editingProjectId,F=ue?l.projects.find(P=>String(P.id)===String(l.editingProjectId)):null;if(ue&&!F){x(d("projects.toast.editMissing","âš ï¸ ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØªØ¹Ø¯ÙŠÙ„Ù‡"));return}const me=c.companyName||c.company||"",$e=t.description?.value.trim()||"",je=Wt({projectCode:F?.projectCode||(ue?null:nt()),title:s,type:r,clientId:p,clientCompany:me,description:$e,start:m,end:y||null,applyTax:E,paymentStatus:re,equipmentEstimate:S,expenses:l.expenses.map(P=>({id:P.id,label:P.label,amount:P.amount,salePrice:P.salePrice,note:P.note||void 0})),servicesClientPrice:_,discount:L,discountType:k,companyShareEnabled:R&&E,companySharePercent:R&&E?w:null,companyShareAmount:K.companyShareAmount,taxAmount:K.taxAmount,totalWithTax:K.totalWithTax,confirmed:F?.confirmed??!1,technicians:l.selectedTechnicians,equipment:ne,paidAmount:B.paidAmount,paidPercentage:B.paidPercent,paymentProgressType:B.paymentProgressType,paymentProgressValue:B.paymentProgressValue,payments:Array.isArray(W)?W:[]});Fe=!0;try{let P=F?.projectId??F?.id??null;if(ue){const G=await Kt(P??l.editingProjectId,je);P=G?.projectId??G?.id??P,await Ze(P,re),x(d("projects.toast.updated","âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ù†Ø¬Ø§Ø­"))}else{const G=await Gt(je);P=G?.projectId??G?.id??null,await Ze(P,re),x(d("projects.toast.saved","âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ù†Ø¬Ø§Ø­"));try{ot({projectsTab:"projects-section",projectsSubTab:"projects-list-tab"}).catch(()=>{});const ae=document.querySelector('.tab-button[data-tab-target="projects-section"]');ae&&typeof ae.click=="function"&&ae.click();const ye=document.querySelector('.sub-tab-button[data-project-subtab-target="projects-list-tab"]');ye&&typeof ye.click=="function"&&setTimeout(()=>ye.click(),0)}catch{}}await $s(P)||Pt(),l.editingProjectId=null,t.form.reset(),gt(),mt(),ge(),t.client&&(t.client.dataset.customerId=""),t.type&&(t.type.value="");try{await it()}catch{}l.projects=He(),l.reservations=I(),ce(),Ne(),document.dispatchEvent(new CustomEvent("projects:changed"))}catch(P){console.error("âŒ [projects] handleSubmitProject failed",P);const fe=ct(P)?P.message:d("projects.toast.saveFailed","ØªØ¹Ø°Ø± Ø­ÙØ¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰");x(fe,"error")}finally{Fe=!1}}function ke(e,s){if(!e)return"";const r=s&&/\d{1,2}:\d{2}/.test(s)?s:"00:00",[n="00",o="00"]=r.split(":"),a=n.padStart(2,"0"),i=o.padStart(2,"0");return`${e}T${a}:${i}`}function Ie(){if(typeof window>"u"||!window.sessionStorage)return null;const e=window.sessionStorage.getItem(_e);if(!e)return null;try{const s=JSON.parse(e);return s&&typeof s=="object"?s:null}catch(s){return console.warn("âš ï¸ [projects] Failed to parse project form draft",s),null}}function We(e){if(!(typeof window>"u"||!window.sessionStorage))try{window.sessionStorage.setItem(_e,JSON.stringify(e))}catch(s){console.warn("âš ï¸ [projects] Unable to persist project form draft",s)}}function Pt(){typeof window>"u"||!window.sessionStorage||(window.sessionStorage.removeItem(_e),ve())}function _s(){const e=Ie()||{};return{...e,type:t.type?.value||"",title:t.title?.value||"",client:t.client?.value||"",customerId:t.client?.dataset.customerId||"",clientCompany:t.clientCompany?.value||"",paymentStatus:t.paymentStatus?.value||"unpaid",taxChecked:t.taxCheckbox?.checked===!0,discountType:t.discountType?.value||"percent",discountValue:t.discountValue?.value||"",companyShareEnabled:t.companyShare?.checked===!0,companySharePercent:t.companyShare?.dataset.companyShare||t.companyShare?.value||String(Y),paymentProgressType:t.paymentProgressType?.value||"percent",paymentProgressValue:t.paymentProgressValue?.value||"",startDate:t.startDate?.value||"",startTime:t.startTime?.value||"",endDate:t.endDate?.value||"",endTime:t.endTime?.value||"",description:t.description?.value||"",expenses:Array.isArray(l.expenses)?l.expenses.map(s=>({...s})):[],servicesClientPriceTotal:Number.isFinite(Number(l.servicesClientPriceTotal))?l.servicesClientPriceTotal:0,technicians:Array.isArray(l.selectedTechnicians)?[...l.selectedTechnicians]:[],equipment:Array.isArray(l.selectedEquipment)?l.selectedEquipment.map(s=>({...s})):[],linkedReservationIds:Array.isArray(e.linkedReservationIds)?[...e.linkedReservationIds]:[],savedAt:Date.now()}}function pr(){const e=Ie();return e?(t.type&&(t.type.value=e.type||""),t.title&&(t.title.value=e.title||""),t.client&&(t.client.value=e.client||"",t.client.dataset.customerId=e.customerId||""),t.clientCompany&&(t.clientCompany.value=e.clientCompany||""),t.paymentStatus&&e.paymentStatus&&(t.paymentStatus.value=e.paymentStatus),t.taxCheckbox&&(t.taxCheckbox.checked=e.taxChecked===!0),t.discountType&&e.discountType&&(t.discountType.value=e.discountType),t.discountValue&&(t.discountValue.value=e.discountValue||""),t.companyShare&&(e.companySharePercent?t.companyShare.dataset.companyShare=String(e.companySharePercent):t.companyShare.dataset.companyShare=String(Y),t.companyShare.checked=e.companyShareEnabled===!0),t.paymentProgressType&&e.paymentProgressType&&(t.paymentProgressType.value=e.paymentProgressType),t.paymentProgressValue&&(t.paymentProgressValue.value=e.paymentProgressValue||""),l.servicesClientPriceTotal=Number.isFinite(Number(e.servicesClientPriceTotal))?Number(e.servicesClientPriceTotal):0,t.startDate&&(t.startDate.value=e.startDate||""),t.startTime&&(t.startTime.value=e.startTime||""),t.endDate&&(t.endDate.value=e.endDate||""),t.endTime&&(t.endTime.value=e.endTime||""),t.description&&(t.description.value=e.description||""),l.expenses=Array.isArray(e.expenses)?e.expenses.map(s=>({...s})):[],l.selectedTechnicians=Array.isArray(e.technicians)?[...e.technicians]:[],l.selectedEquipment=Array.isArray(e.equipment)?e.equipment.map(s=>({...s})):[],be("tax"),ve(),pe(),!0):(ve(),!1)}function dr(){!t.linkedReservationBtn||t.linkedReservationBtn.dataset.listenerAttached==="true"||(t.linkedReservationBtn.addEventListener("click",Is),t.linkedReservationBtn.dataset.listenerAttached="true")}function Is(e){e.preventDefault();const s=e.currentTarget;if(s?.classList?.contains("btn-disabled")||s?.getAttribute("aria-disabled")==="true"){x(d("projects.form.linkedReservation.buttonDisabledToast","âš ï¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø±Ø¨ÙˆØ· Ø¨Ø­Ø¬Ø² Ù…Ø³Ø¨Ù‚Ø§Ù‹"));return}const n=_s();if(!(n.customerId&&n.customerId!==""||n.client&&n.client.trim())){x(d("projects.form.linkedReservation.missingClient","âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù‚Ø¨Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø¬Ø²"));return}const a=n.startDate&&n.startTime,i=n.endDate&&n.endTime;if(!a||!i){x(d("projects.form.linkedReservation.missingSchedule","âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‚Ø¨Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø¬Ø²"));return}We(n);const c=qs(n);let p="";try{p=encodeURIComponent(JSON.stringify(c))}catch(j){console.warn("âš ï¸ [projects] Unable to encode reservation context",j)}ot({dashboardTab:"reservations-tab",dashboardSubTab:"create-tab"}).catch(j=>{console.warn("âš ï¸ [projects] Failed to persist dashboard preference before redirect",j)});const f=p?`?reservationProjectContext=${p}`:"";window.location.href=`dashboard.html${f}#reservations`}function qs(e){const s=ke(e.startDate,e.startTime)||null,r=ke(e.endDate,e.endTime)||null;return{fromProjectForm:!0,draftStorageKey:_e,returnUrl:vs,start:s,end:r,customerId:e.customerId||null,customerName:e.client||"",clientCompany:e.clientCompany||"",projectTitle:e.title||"",projectType:e.type||"",description:e.description||""}}async function $s(e){if(!e)return;const s=Ie(),r=Array.isArray(s?.linkedReservationIds)?s.linkedReservationIds:[];if(!r.length)return;const n=[];let o=!1;for(const i of r){const c=i!=null?String(i):"";if(c)try{await Se(c,{project_id:e}),o=!0}catch(p){console.error("âŒ [projects] Failed to link reservation to project",c,p),n.push(c)}}if(o)try{await dt(),l.reservations=I(),document.dispatchEvent(new CustomEvent("reservations:changed"))}catch(i){console.warn("âš ï¸ [projects] Failed to refresh reservations after linking",i)}const a={linkedReservationIds:n,savedAt:Date.now()};return We(a),n.length&&x(d("projects.toast.linkReservationFailed","âš ï¸ ØªØ¹Ø°Ø± Ø±Ø¨Ø· Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø¨Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ ÙŠØ¯ÙˆÙŠÙ‹Ø§"),"error"),ve(),n.length}function Ds(){const e=new Map,s=n=>{if(!n)return;[n.id,n.reservationId,n.reservation_id,n.reservation_code].map(a=>a!=null?String(a):"").filter(Boolean).forEach(a=>{e.has(a)||e.set(a,n)})};Array.isArray(l.reservations)&&l.reservations.forEach(s);const r=Z();return Array.isArray(r?.reservations)&&r.reservations.forEach(s),e}function Ls(e){if(!e||typeof e!="object")return"";const s=[e.name,e.full_name,e.fullName,e.technician_name,e.technicianName,e.label,e.displayName];for(const r of s)if(typeof r=="string"&&r.trim())return r.trim();return""}function Rs(e){if(!e)return[];const s=new Set;(Array.isArray(e.techniciansDetails)?e.techniciansDetails:[]).forEach(o=>{const a=Ls(o);a&&s.add(a)});const n=Array.isArray(e.technicians)?e.technicians:[];if(n.length){const o=Array.isArray(l.technicians)?l.technicians:[];n.forEach(a=>{const i=o.find(p=>String(p?.id)===String(a)),c=i?.name||i?.full_name||"";c&&s.add(String(c).trim())})}return Array.from(s)}function ve(){const e=document.getElementById("project-linked-reservation-summary");if(!e)return;const s=Ie(),r=t.linkedReservationBtn;let n=Array.isArray(s?.linkedReservationIds)?Array.from(new Set(s.linkedReservationIds.map(c=>String(c)).filter(Boolean))):[];const o=Ds(),a=n.filter(c=>o.has(c));if(a.length!==n.length){n=a;const c={...s||{},linkedReservationIds:n,savedAt:Date.now()};We(c)}if(!n.length){e.dataset.state="empty",e.innerHTML=`<p class="project-linked-reservation__summary-empty">${u(d("projects.form.linkedReservation.empty","Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø¹Ø¯."))}</p>`,r&&(r.disabled=!1,r.classList.remove("btn-disabled"),r.removeAttribute("aria-disabled"),r.title="");return}const i=n.map(c=>{const p=o.get(c);if(!p)return`
        <li class="project-linked-reservation__summary-item">
          <div class="project-linked-reservation__summary-item-title">#${u(h(c))}</div>
          <div class="project-linked-reservation__summary-item-meta">
            <span>${u(d("projects.form.linkedReservation.pendingItem","ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ ÙˆØ³ÙŠØªÙ… Ø±Ø¨Ø·Ù‡ Ø¨Ø¹Ø¯ Ø­ÙØ¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹."))}</span>
          </div>
        </li>`;const f=p.reservation_code||p.reservationId||p.id||c,j=`#${h(String(f))}`,m=Array.isArray(p.items)?p.items:[],y=m.reduce((k,q)=>k+(Number(q?.qty)||0),0)||m.length||0,b=Rs(p),g=(Array.isArray(p.technicians)?p.technicians:[]).length||b.length||0,S=ze(p),A=[],_=d("projects.form.linkedReservation.meta.equipment","Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª: {count}").replace("{count}",h(String(y)));A.push(_);const E=d("projects.form.linkedReservation.meta.crew","Ø¹Ø¯Ø¯ Ø§Ù„ÙØ±ÙŠÙ‚: {count}").replace("{count}",h(String(g)));if(A.push(E),b.length){const k=typeof Ce=="function"&&Ce()==="en"?", ":"ØŒ ",q=d("projects.form.linkedReservation.meta.crewNames","Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚: {names}").replace("{names}",b.join(k));A.push(q)}if(Number.isFinite(S)){const k=d("projects.form.linkedReservation.meta.total","Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬Ø²: {amount}").replace("{amount}",D(S));A.push(k)}return`
      <li class="project-linked-reservation__summary-item">
        <div class="project-linked-reservation__summary-item-title">${u(j)}</div>
        <div class="project-linked-reservation__summary-item-meta">
          ${A.map(k=>`<span>${u(k)}</span>`).join("")}
        </div>
      </li>`}).join("");e.dataset.state="has-linked",e.innerHTML=`<ul class="project-linked-reservation__summary-list">${i}</ul>`,r&&(r.disabled=!1,r.classList.add("btn-disabled"),r.setAttribute("aria-disabled","true"),r.setAttribute("data-allow-click","true"),r.title=d("projects.form.linkedReservation.buttonDisabled","âš ï¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø±Ø¨ÙˆØ· Ø¨Ø­Ø¬Ø² Ù…Ø³Ø¨Ù‚Ø§Ù‹"))}function At(){const e=Array.isArray(l.expenses)?l.expenses.reduce((s,r)=>s+(Number(r?.salePrice)||0),0):0;l.servicesClientPriceTotal=Math.round(e*100)/100}function pe(){t.servicesClientTotalIndicator||document.getElementById("project-services-client-total-indicator");const e=t.servicesClientTotalValue||document.getElementById("project-services-client-total-value");if(!e)return;const s=Number(l.servicesClientPriceTotal)||0;e.textContent=D(s)}export{Ks as A,tr as B,sr as C,rr as D,nr as E,dr as F,ar as G,ns as H,cr as I,Us as J,le as K,Os as L,pr as M,or as N,ir as O,Ee as a,Xs as b,Ss as c,t as d,et as e,Oe as f,er as g,Ae as h,yt as i,u as j,D as k,Ys as l,z as m,bs as n,Js as o,Gs as p,lr as q,ce as r,l as s,Qs as t,Ne as u,Ze as v,Zs as w,zs as x,Ct as y,Ws as z};
