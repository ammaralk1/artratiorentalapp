import"./app.BkkBR8h4.js";import{b as g,i as p,J as f,K as w,t as m}from"./maintenance.BnsilVv3.js";import"./reservations.DRN0EUrN.js";import"./projects.LJ2hsl-k.js";import"./reports.Db7PepGB.js";window.__ART_RATIO_SKIP_PREF_FETCH__=!0;g({skipRemote:!0});p();f();const r=document.getElementById("login-form"),a=document.getElementById("username"),t=document.getElementById("password"),o=document.querySelector('[data-action="toggle-password"]'),d=o?.querySelector('[data-role="password-toggle-label"]')||null,c=o?.querySelector('[data-icon="show"]')||null,u=o?.querySelector('[data-icon="hide"]')||null;async function y(){if(!(!a||!t))try{if(typeof navigator>"u"||typeof window>"u"||!("credentials"in navigator)||typeof navigator.credentials.get!="function"||!window.isSecureContext)return;const e=await navigator.credentials.get({password:!0,mediation:"optional"});e&&e.type==="password"&&(!a.value&&e.id&&(a.value=e.id),!t.value&&e.password&&(t.value=e.password))}catch(e){console.warn("⚠️ [login-page] Failed to retrieve stored credentials",e)}}function s(e){if(!o||!t)return;c&&c.classList.toggle("hidden",e),u&&u.classList.toggle("hidden",!e),o.setAttribute("aria-pressed",String(e));const i=m(e?"login.form.password.toggleHide":"login.form.password.toggleShow",e?"إخفاء كلمة المرور":"إظهار كلمة المرور");o.setAttribute("aria-label",i),d&&(d.textContent=i)}o&&t&&(s(t.type==="text"),o.addEventListener("click",()=>{const e=t.type==="password";t.type=e?"text":"password",s(e),t.focus({preventScroll:!0});try{const{length:n}=t.value;t.setSelectionRange(n,n)}catch{}}),document.addEventListener("language:changed",()=>{s(t.type==="text")}));r?r.addEventListener("submit",async e=>{e.preventDefault();const n=a?a.value.trim():"",l=t?t.value.trim():"";await w(n,l,{form:r})}):console.warn("[login-page] #login-form not found");y();
