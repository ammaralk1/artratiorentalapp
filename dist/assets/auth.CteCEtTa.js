(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const Ge={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://127.0.0.1:8000/api"},Ke="/backend/api",$=new Map;let J=0,O=0;const Ve=5e3,We=3e4,Ye=12e3;class A extends Error{constructor(t,{status:n,payload:r}={}){super(t),this.name="ApiError",this.status=n??null,this.payload=r??null}}function Je(){const e=typeof import.meta<"u"&&Ge&&"http://127.0.0.1:8000/api",t=typeof window<"u"?window.APP_API_BASE:null;return String(e||t||Ke).replace(/\/$/,"")}async function H(e,{method:t="GET",headers:n={},body:r,signal:o,credentials:a="include",timeout:i=Ye}={}){let s=e;try{if(typeof URL<"u"&&e instanceof URL)s=e.href;else if(typeof Request<"u"&&e instanceof Request)s=e.url;else if(e&&typeof e=="object"){const f=e.path||e.url||e.endpoint||null;s=String(f||e)}}catch{}typeof s!="string"&&(s=String(s||""));const l=/^https?:\/\//i.test(s),c=l||s.charAt(0)==="/"?s:`/${s}`,u=l?c:`${Je()}${c}`;try{if(typeof navigator<"u"&&navigator&&navigator.onLine===!1){const f=new A("Network offline",{status:0});throw f.offline=!0,f}}catch{}const y=Date.now(),T=Math.min(We,Ve*Math.max(1,Math.pow(2,Math.max(0,O-1))));if(O>0&&y-J<T){const f=new A("Network cooldown after failures",{status:0});throw f.cooldown=!0,f}const p={Accept:"application/json",...n},d={method:t,headers:p,signal:o,credentials:a};r!==void 0&&(r instanceof FormData?(delete p["Content-Type"],d.body=r):typeof r=="string"?(p["Content-Type"]=p["Content-Type"]||"application/json",d.body=r):(p["Content-Type"]=p["Content-Type"]||"application/json",d.body=JSON.stringify(r)));const P=`${t} ${u}`;if($.has(P))return $.get(P);const se=(async()=>{const f=typeof AbortController<"u"?new AbortController:null,ie=f&&Number.isFinite(i)&&i>0?setTimeout(()=>{try{f.abort()}catch{}},i):null,$e=f?o?new ze([o,f.signal]):f.signal:o;function ze(D){const ce=new AbortController,le=()=>{try{ce.abort()}catch{}};return D.filter(Boolean).forEach(Y=>{try{Y.aborted?le():Y.addEventListener("abort",le,{once:!0})}catch{}}),ce.signal}try{const D=await fetch(u,{...d,signal:$e});return O=0,J=0,D}catch(D){throw O=Math.min(10,O+1),J=Date.now(),D}finally{ie&&clearTimeout(ie)}})().finally(()=>{$.delete(P)});$.set(P,se);const R=await se,Be=R.headers.get("content-type")||"";let m=null,b="";try{b=await R.text()}catch{b=""}if(Be.includes("application/json"))try{m=b?JSON.parse(b):null}catch{m=b?{raw:b}:null}else if(b){const f=b.trim();if(f.startsWith("{")||f.startsWith("["))try{m=JSON.parse(f)}catch{m={raw:b}}else m={raw:b}}else m=null;if(!R.ok){const f=m?.error||`Request failed with status ${R.status}`;throw new A(f,{status:R.status,payload:m})}if(m&&typeof m=="object"&&m.ok===!1){const f=m.error||"API returned an error response";throw new A(f,{status:R.status,payload:m})}return m}const E=Object.freeze({language:"ar",theme:"light",dashboardTab:null,dashboardSubTab:null,projectsTab:null,projectsSubTab:null});let w=null,z=null;const Z=new Set,Ee="__ART_RATIO_SKIP_PREF_FETCH__",Ae="__ART_RATIO_PREFERENCES__";function Te(){try{return typeof window>"u"?!1:!!window[Ee]}catch{return!1}}function Xe(){try{typeof window<"u"&&delete window[Ee]}catch{}}function I(e={}){const t=e.language==="en"?"en":"ar",n=e.theme==="dark"?"dark":"light",r=typeof e.dashboardTab=="string"?G(e.dashboardTab):null,o=typeof e.dashboardSubTab=="string"?G(e.dashboardSubTab):null,a=typeof e.projectsTab=="string"?G(e.projectsTab):null,i=typeof e.projectsSubTab=="string"?G(e.projectsSubTab):null;return{language:t,theme:n,dashboardTab:r,dashboardSubTab:o,projectsTab:a,projectsSubTab:i}}function G(e){const t=String(e||"").trim();return t&&/^[a-z0-9\-]+$/i.test(t)?t:null}function Qe(){try{if(typeof window>"u"||!window.localStorage)return null;const e=window.localStorage.getItem(Ae);if(!e)return null;const t=JSON.parse(e);return I(t)}catch(e){return console.warn("âš ï¸ [preferencesService] Failed to read cached preferences",e),null}}function Ze(e){try{if(typeof window>"u"||!window.localStorage)return;window.localStorage.setItem(Ae,JSON.stringify(e))}catch(t){console.warn("âš ï¸ [preferencesService] Failed to persist preferences",t)}}const ue=Qe();ue&&(w=ue);function et(){const e=g();Z.forEach(t=>{try{t(e)}catch(n){console.error("âš ï¸ [preferencesService] listener failed",n)}})}function v(e){const n={...w?{...w}:{...E},...e};w=I(n),Ze(w),et()}function g(){return w?{...w}:null}function Se(e){if(typeof e!="function")return()=>{};if(Z.add(e),w)try{e(g())}catch(t){console.error("âš ï¸ [preferencesService] listener failed",t)}return()=>{Z.delete(e)}}function _e({refresh:e=!1}={}){if(Te()){const t=g()||{...E};return Promise.resolve(t)}return!e&&w?Promise.resolve(g()):(z||(z=H("/preferences/").then(t=>{const n=t?.data??E;return v(n),g()}).catch(t=>t instanceof A&&t.status===401?(w=null,E):(console.warn("âš ï¸ [preferencesService] Failed to load preferences",t),v(E),E)).finally(()=>{z=null})),z)}function tt(e=null){if(!e){const t=g();return I(t||E)}return I(e)}async function te(e={}){if(Te())return v(e),g()||{...E};e.language!==void 0&&e.language,e.theme!==void 0&&e.theme,e.dashboardTab!==void 0&&e.dashboardTab,e.dashboardSubTab!==void 0&&e.dashboardSubTab,e.projectsTab!==void 0&&e.projectsTab,e.projectsSubTab!==void 0&&e.projectsSubTab;const t=tt(),n={...t,...e},r=I(n),o={},a={};["language","theme","dashboardTab","dashboardSubTab","projectsTab","projectsSubTab"].forEach(c=>{if(e[c]===void 0)return;const u=r[c],y=t[c];u!==y&&(o[c]=u,(c==="language"||c==="theme")&&(a[c]=u))});const s=Object.keys(o).length>0,l=Object.keys(a).length>0;if(!l&&!s)return g();if(!l&&s)return v(r),g();try{const c=await H("/preferences/",{method:"PATCH",body:a});return v(c?.data??E),s&&v({...g(),...o}),g()}catch(c){if(c instanceof A&&c.status===422)return console.warn("âš ï¸ [preferencesService] Server rejected preference update (no changes)."),v(r),g();throw c}}const nt="__ART_RATIO_SKIP_PREF_FETCH__";function rt(){try{return typeof window<"u"&&!!window[nt]}catch{return!1}}const L="ar",ot="ar",at="language-loading",de="language-ready",Le=["Placeholder","Title","AriaLabel","AriaDescription","Value"],q={ar:Object.create(null),en:Object.create(null)};let k=L,F=!1,K=null;function j(e){return e==="en"?"en":"ar"}function ve(){if(!K){const e=g();if(e?.language){const t=j(e.language);x(t,{persist:!1,dispatch:!1})}if(rt()){const t=e?.language?j(e.language):L;x(t,{persist:!1}),F=!0,K=Promise.resolve(t)}else K=_e().then(t=>{const n=j(t?.language??L);return x(n,{persist:!1}),F=!0,n}).catch(t=>(console.warn("âš ï¸ ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ ØªÙØ¶ÙŠÙ„ Ø§Ù„Ù„ØºØ© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…",t),x(L,{persist:!1}),F=!0,L))}return K}function st(e){if(e.dataset.i18nCached==="true")return;e.dataset.i18nHtml==="true"?e.dataset.arHtml===void 0&&(e.dataset.arHtml=e.innerHTML):e.dataset.ar===void 0&&(e.dataset.ar=e.textContent),Le.forEach(n=>{const r=n.charAt(0).toLowerCase()+n.slice(1),o=e.getAttribute(r);o!=null&&e.dataset[`ar${n}`]===void 0&&(e.dataset[`ar${n}`]=o)}),e.dataset.i18nCached="true"}function fe(e,t){if(!t)return;const n=q[e]??(q[e]=Object.create(null));Object.entries(t).forEach(([r,o])=>{typeof r=="string"&&(n[r]=o)})}function me(e,t){if(!t)return;const n=q[e];return n?n[t]:void 0}function it(e,t){st(e);const n=e.dataset.i18nHtml==="true",r=e.dataset.i18nKey,o=me(t,r);o!==void 0?n?e.innerHTML=o:e.textContent=o:t==="en"?n?e.dataset.enHtml!==void 0&&(e.innerHTML=e.dataset.enHtml):e.dataset.en!==void 0&&(e.textContent=e.dataset.en):n?e.innerHTML=e.dataset.arHtml??e.innerHTML:e.textContent=e.dataset.ar??e.textContent,Le.forEach(a=>{const i=a.charAt(0).toLowerCase()+a.slice(1),s=e.dataset[`i18n${a}Key`],l=me(t,s);if(l!==void 0){e.setAttribute(i,l);return}const c=t==="en"?`en${a}`:`ar${a}`,u=e.dataset[c];u!==void 0&&e.setAttribute(i,u)})}function Ce(e){document.querySelectorAll("[data-i18n]").forEach(n=>it(n,e))}function ct(e){const t=document.documentElement,n=document.body,r=e===ot?"rtl":"ltr";t.setAttribute("lang",e),t.setAttribute("dir",r),n&&(n.setAttribute("dir",r),n.dataset.lang=e)}function lt(){const e=document.documentElement;e&&(e.classList.contains(de)||(e.classList.remove(at),e.classList.add(de)))}function ke(e){document.querySelectorAll(".language-toggle-btn").forEach(t=>{const n=t.dataset.labelAr||"ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",r=t.dataset.labelEn||"ğŸ‡¬ğŸ‡§ English";t.textContent=e==="en"?n:r,t.setAttribute("aria-pressed",e==="en"?"true":"false")})}function x(e,{persist:t=!1,dispatch:n=!0}={}){const r=j(e);k===r&&F&&!t||(k=r,F=!0,ct(r),Ce(r),ke(r),lt(),n&&document.dispatchEvent(new CustomEvent("language:changed",{detail:{language:r}})),t&&te({language:r}).catch(o=>{console.warn("âš ï¸ ØªØ¹Ø°Ø± Ø­ÙØ¸ ØªÙØ¶ÙŠÙ„ Ø§Ù„Ù„ØºØ© ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…",o)}))}function ut(){dt(k==="ar"?"en":"ar")}function Pe(){document.querySelectorAll(".language-toggle-btn").forEach(t=>{t.dataset.listenerAttached||(t.addEventListener("click",()=>{ut()}),t.dataset.listenerAttached="true")}),ke(k)}function Re(e={}){fe("ar",e.ar),fe("en",e.en);const t=ee();Ce(t),document.dispatchEvent(new CustomEvent("language:translationsReady",{detail:{language:t}}))}function _(e,t=""){if(!e)return t;const n=k||L,r=q[n];if(r&&r[e]!==void 0)return r[e];const a=q[n==="en"?"ar":"en"];return a&&a[e]!==void 0?a[e]:t}function dt(e){const t=j(e);x(t,{persist:!0})}function Ut(){ve().catch(()=>L).finally(()=>{Pe()})}function ee(){return k}function ge(){ve().catch(()=>L),Pe()}Se(e=>{e&&e.language&&j(e.language)!==k&&x(e.language,{persist:!1})});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ge,{once:!0}):ge();Re({ar:{"actions.logout":"ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬","actions.toggleTheme":"ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ","theme.toggle.toLight":"â˜€ï¸ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø§Ø¯ÙŠ","theme.toggle.toDark":"ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ","theme.toggle.titleLight":"Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø§Ø¯ÙŠ","theme.toggle.titleDark":"Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ","theme.toggle.ariaLight":"Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø§Ø¯ÙŠ Ù…ÙØ¹Ù„","theme.toggle.ariaDark":"Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ Ù…ÙØ¹Ù„","common.boolean.yes":"Ù†Ø¹Ù…","common.boolean.no":"Ù„Ø§","language.toggle.labelAr":"ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©","language.toggle.labelEn":"ğŸ‡¬ğŸ‡§ English","login.pageTitle":"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„","login.header.title":"ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„","login.header.subtitle":"Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ….","login.form.username":"Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…","login.form.username.placeholder":"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…","login.form.password":"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±","login.form.password.placeholder":"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±","login.form.password.toggleShow":"Ø¥Ø¸Ù‡Ø§Ø± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±","login.form.password.toggleHide":"Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±","login.form.submit":"Ø¯Ø®ÙˆÙ„","login.errors.invalidCredentials":"âŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©","login.errors.network":"ğŸŒ ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.","login.errors.generic":"âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.","login.footer.note":"Ù…Ø­Ù…ÙŠ Ù„Ø£Ø¹Ø¶Ø§Ø¡ ÙØ±ÙŠÙ‚ Art Ratio. ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´ÙƒÙ„Ø© ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.","actions.clearFilters":"ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØµÙÙŠØ©","actions.view":"ğŸ‘ï¸ Ø¹Ø±Ø¶","actions.delete":"ğŸ—‘ï¸ Ø­Ø°Ù","actions.remove":"Ø¥Ø²Ø§Ù„Ø©","auth.permissions.denied":"âš ï¸ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„ØªÙ†ÙÙŠØ° Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡","home.nav.brand":"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…","home.hero.title":"Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ","home.hero.subtitle":"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„Ùƒ.","home.hero.greetingUser":"Ù…Ø±Ø­Ø¨Ø§Ù‹ {name}","home.bookings.title":"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª","home.bookings.description":"Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§ØªØŒ Ø§Ù„Ù…Ø¹Ø¯Ø§ØªØŒ Ø§Ù„ØµÙŠØ§Ù†Ø©ØŒ ÙˆØ§Ù„Ø·Ø§Ù‚Ù….","home.bookings.button":"Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…","home.projects.title":"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","home.projects.description":"Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ØŒ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø·Ø§Ù‚Ù… ÙˆØ§Ù„Ù…Ø¹Ø¯Ø§ØªØŒ ÙˆØªØªØ¨Ø¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨ÙƒÙ„ Ù…Ø´Ø±ÙˆØ¹.","home.projects.button":"ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹","home.users.title":"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†","home.users.description":"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§ØªØŒ ÙˆØ§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø§Øª ÙˆØ§Ù„Ù†Ø´Ø§Ø·.","home.users.button":"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†","actions.refresh":"ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª","home.summary.title":"ğŸ“Š Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹","home.summary.subtitle":"Ø£Ø±Ù‚Ø§Ù… Ù…Ø®ØªØµØ±Ø© ØªØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø± Ø¨Ø³Ø±Ø¹Ø©.","home.summary.loading":"â³ Ø¬Ø§Ø±Ù Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…...","home.summary.error":"ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹","home.summary.empty":"Ù„Ø§ ØªØªÙˆÙØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯. Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø³Ø¬Ù„Ø§Øª.","home.summary.customers":"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡","home.summary.reservationsToday":"Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„ÙŠÙˆÙ…","home.summary.reservationsUpcoming":"Ø­Ø¬ÙˆØ²Ø§Øª Ù‚Ø§Ø¯Ù…Ø©","home.summary.projectsActive":"Ù…Ø´Ø§Ø±ÙŠØ¹ Ù†Ø´Ø·Ø©","home.summary.equipmentMaintenance":"Ù…Ø¹Ø¯Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„ØµÙŠØ§Ù†Ø©","home.summary.maintenanceHigh":"Ø¨Ù„Ø§ØºØ§Øª ØµÙŠØ§Ù†Ø© Ø¹Ø§Ø¬Ù„Ø©","home.summary.techniciansBusy":"Ø£Ø¹Ø¶Ø§Ø¡ Ø·Ø§Ù‚Ù… Ù…Ø´ØºÙˆÙ„ÙˆÙ†"},en:{"actions.logout":"ğŸšª Log Out","actions.toggleTheme":"ğŸŒ™ Dark Mode","theme.toggle.toLight":"â˜€ï¸ Light Mode","theme.toggle.toDark":"ğŸŒ™ Dark Mode","theme.toggle.titleLight":"Switch to Light Mode","theme.toggle.titleDark":"Switch to Dark Mode","theme.toggle.ariaLight":"Light mode enabled","theme.toggle.ariaDark":"Dark mode enabled","common.boolean.yes":"Yes","common.boolean.no":"No","language.toggle.labelAr":"ğŸ‡¸ğŸ‡¦ Arabic","language.toggle.labelEn":"ğŸ‡¬ğŸ‡§ English","login.pageTitle":"Log In","login.header.title":"ğŸ” Log In","login.header.subtitle":"Enter your account credentials to access the dashboard.","login.form.username":"Username","login.form.username.placeholder":"Enter username","login.form.password":"Password","login.form.password.placeholder":"Enter password","login.form.password.toggleShow":"Show password","login.form.password.toggleHide":"Hide password","login.form.submit":"Sign In","login.errors.invalidCredentials":"âŒ Incorrect username or password","login.errors.network":"ğŸŒ Unable to reach the server. Please try again.","login.errors.generic":"âš ï¸ Something went wrong. Please try again.","login.footer.note":"Restricted to Art Ratio team members. Contact us if you run into any login issues.","actions.clearFilters":"ğŸ”„ Reset filters","actions.view":"ğŸ‘ï¸ View","actions.delete":"ğŸ—‘ï¸ Delete","actions.remove":"Remove","auth.permissions.denied":"âš ï¸ You do not have permission to perform this action","home.nav.brand":"Control Panel","home.hero.title":"Welcome","home.hero.subtitle":"Choose the best path to manage your operations.","home.hero.greetingUser":"Welcome {name}","home.bookings.title":"Bookings Management","home.bookings.description":"Access the full dashboard for bookings, equipment, maintenance, and crew.","home.bookings.button":"Open Dashboard","home.projects.title":"Projects Management","home.projects.description":"Create and follow up on projects, assign crew and equipment, and track expenses.","home.projects.button":"Open Projects Hub","home.users.title":"User Management","home.users.description":"Create accounts, adjust roles, and review session and activity logs.","home.users.button":"Manage Users","actions.refresh":"ğŸ”„ Refresh data","home.summary.title":"ğŸ“Š Quick Snapshot","home.summary.subtitle":"Key metrics that keep you informed at a glance.","home.summary.loading":"â³ Fetching system metrics...","home.summary.error":"Unable to load system metrics. Please try again later.","home.summary.empty":"No data yet. Start by adding your first records.","home.summary.customers":"Total Customers","home.summary.reservationsToday":"Reservations Today","home.summary.reservationsUpcoming":"Upcoming Reservations","home.summary.projectsActive":"Active Projects","home.summary.equipmentMaintenance":"Equipment in Maintenance","home.summary.maintenanceHigh":"Urgent Maintenance Tickets","home.summary.techniciansBusy":"Crew Members Busy"}});Re({ar:{"equipment.packages.selection.addToPackage":"â• Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø²Ù…Ø©","reservations.create.equipment.selector.addToReservation":"â• Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¬Ø²"},en:{"equipment.packages.selection.addToPackage":"â• Add to package","reservations.create.equipment.selector.addToReservation":"â• Add to reservation"}});const N="dark-mode",V=new WeakSet,he="theme-loading",De="art-ratio:session-theme";let pe=!1;function xe(){return Array.from(document.querySelectorAll("[data-theme-toggle], .theme-toggle-btn"))}function Ne(e){return e==="dark"?"dark":"light"}function ft(e){try{window.sessionStorage?.setItem(De,Ne(e))}catch{}}function mt(){try{const e=window.sessionStorage?.getItem(De);return e==="dark"?"dark":e==="light"?"light":null}catch{return null}}function gt(){document.documentElement.classList.remove(he);const e=document.body;e&&e.classList.remove(he)}function W(e,{persist:t=!0}={}){const n=Ne(e),r=document.documentElement,o=document.body;n==="dark"?(r.classList.add(N,"dark"),o&&o.classList.add(N,"dark")):(r.classList.remove(N,"dark"),o&&o.classList.remove(N,"dark"));const a=n==="dark"?"dark":"light";r.setAttribute("data-theme",a),o&&o.setAttribute("data-theme",a),ft(n),ne(n);try{document.dispatchEvent(new CustomEvent("theme:changed",{detail:{theme:n}}))}catch(i){console.warn("âš ï¸ [theme.js] Failed to dispatch theme change event",i)}t&&te({theme:n}).catch(i=>{console.warn("âš ï¸ ØªØ¹Ø°Ø± Ø­ÙØ¸ ØªÙØ¶ÙŠÙ„ Ø§Ù„Ø³Ù…Ø© ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…",i)})}function B(){const e=document.body;return e&&e.classList.contains(N)||document.documentElement.classList.contains(N)?"dark":"light"}function X(){const e=B()==="dark"?"light":"dark";W(e,{persist:!0})}function ht(e,t){if(!e)return;const n=t==="dark",r=_("theme.toggle.toLight","â˜€ï¸ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø§Ø¯ÙŠ"),o=_("theme.toggle.toDark","ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ"),a=_("theme.toggle.ariaLight","Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø§Ø¯ÙŠ Ù…ÙØ¹Ù„"),i=_("theme.toggle.ariaDark","Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ Ù…ÙØ¹Ù„"),s=_("theme.toggle.titleLight","Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø§Ø¯ÙŠ"),l=_("theme.toggle.titleDark","Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ");if(e.matches("[data-theme-toggle]")){const c=e.matches("input")?e:e.querySelector('input[type="checkbox"]'),u=n?r:o,y=n?a:i,T=n?s:l;c&&(c.checked=n,c.setAttribute("aria-label",u),c.setAttribute("aria-checked",String(n))),e.setAttribute("title",T),e.setAttribute("aria-label",y),e.setAttribute("data-theme-state",n?"dark":"light");const p=e.querySelector("[data-theme-label]");p&&(p.textContent=u)}else e.textContent=n?r:o,e.setAttribute("aria-pressed",String(n)),e.setAttribute("title",n?s:l),e.setAttribute("aria-label",n?a:i)}function ne(e){xe().forEach(t=>ht(t,e)),gt()}function pt(){const e=xe();ne(B()),e.forEach(t=>{if(!(!t||V.has(t))){if(t.matches("[data-theme-toggle]")){const n=t.matches("input")?t:t.querySelector('input[type="checkbox"]'),r=()=>{X()};n&&!V.has(n)?(n.addEventListener("change",r),V.add(n)):n||t.addEventListener("click",o=>{o.preventDefault(),X()})}else t.getAttribute("type")||t.setAttribute("type","button"),t.addEventListener("click",n=>{n.preventDefault(),X()});V.add(t)}})}function Ft({skipRemote:e=!1}={}){const t=g(),o=(t?.theme==="dark"?"dark":t?.theme==="light"?"light":null)||mt()||yt();W(o,{persist:!1}),bt({skipRemote:e})}function yt(){try{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}catch{}return"light"}function bt({skipRemote:e=!1}={}){pe||(pe=!0,!e&&_e().then(t=>{const n=t?.theme==="dark"?"dark":t?.theme==="light"?"light":null;n&&W(n,{persist:!1})}).catch(t=>{console.warn("âš ï¸ ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ ØªÙØ¶ÙŠÙ„ Ø§Ù„Ø³Ù…Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…",t)}))}document.addEventListener("language:changed",()=>{ne(B()),pt()});Se(e=>{const t=e?.theme==="dark"?"dark":e?.theme==="light"?"light":null;t&&t!==B()&&W(t,{persist:!1})});function re(){const e=typeof window<"u"?window:globalThis;return e.__APP_DATA_STORE__||(e.__APP_DATA_STORE__={customers:[],reservations:[],equipment:[],technicians:[],maintenance:[],projects:[],technicianPayouts:[],packages:[]}),e.__APP_DATA_STORE__}function S(e,t,n){n!=null&&(e[t]=Array.isArray(n)?[...n]:n)}function wt(){const e=re();return{customers:[...e.customers],reservations:[...e.reservations],equipment:[...e.equipment],technicians:[...e.technicians],maintenance:[...e.maintenance],projects:[...e.projects],technicianPayouts:[...e.technicianPayouts],packages:[...e.packages]}}function qt(e={}){const t=re();S(t,"customers",e.customers),S(t,"reservations",e.reservations),S(t,"equipment",e.equipment),S(t,"technicians",e.technicians),S(t,"maintenance",e.maintenance),S(t,"projects",e.projects),S(t,"technicianPayouts",e.technicianPayouts),S(t,"packages",e.packages)}let Q=!1;function Ht(e=null){if(Q)return;const t=e||(typeof window<"u"?window.__LEGACY_DATA__:null);if(!t||typeof t!="object"){Q=!0;return}const n=re();if(["customers","reservations","equipment","technicians","maintenance","projects","technicianPayouts","packages"].forEach(o=>{const a=t[o];Array.isArray(a)&&a.length>0&&(n[o]=[...a])}),Q=!0,!e&&typeof window<"u")try{delete window.__LEGACY_DATA__}catch{}}function Ie(){let e=document.getElementById("toast-container");return e||(e=document.createElement("div"),e.id="toast-container",e.style.position="fixed",e.style.top="20px",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.zIndex="110000",e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center",e.style.width="min(92vw, 380px)",e.style.pointerEvents="none",document.body.appendChild(e)),e}function je(e){e.style.background="#333",e.style.color="#fff",e.style.padding="10px 18px",e.style.marginTop="10px",e.style.borderRadius="10px",e.style.boxShadow="0 8px 24px rgba(15, 23, 42, 0.32)",e.style.opacity="0",e.style.transition="opacity 0.3s ease",e.style.fontSize="0.875rem",e.style.lineHeight="1.4",e.style.pointerEvents="auto",e.style.backdropFilter="blur(4px)"}function Me(e){requestAnimationFrame(()=>{e.style.opacity="1"})}function Oe(e,t){let n;const r=()=>{n&&(clearTimeout(n),n=null),e.style.opacity="0",setTimeout(()=>e.remove(),320)};return n=setTimeout(r,t),{hide:r,timeoutId:n}}function oe(e,t=3e3,n){const r=Ie(),o=document.createElement("div");o.className="toast-message",o.textContent=e;const a=new Set(["success","error","info","warning"]);let i="info",s=3e3;typeof t=="number"&&Number.isFinite(t)?s=Math.max(0,t):typeof t=="string"&&a.has(t)&&(i=t,typeof n=="number"&&Number.isFinite(n)&&(s=Math.max(0,n))),je(o);const l={success:{bg:"#14532d",border:"rgba(34,197,94,0.35)",glow:"rgba(34,197,94,0.35)"},error:{bg:"#7f1d1d",border:"rgba(239,68,68,0.35)",glow:"rgba(239,68,68,0.35)"},info:{bg:"#1e3a8a",border:"rgba(59,130,246,0.35)",glow:"rgba(59,130,246,0.35)"},warning:{bg:"#7c2d12",border:"rgba(245,158,11,0.35)",glow:"rgba(245,158,11,0.35)"}},{bg:c,border:u,glow:y}=l[i]||l.info;o.style.background=c,o.style.border=`1px solid ${u}`,o.style.boxShadow=`0 8px 24px rgba(15, 23, 42, 0.32), 0 0 0 4px ${y}`,r.appendChild(o),Me(o);const{hide:T}=Oe(o,s);o.addEventListener("click",T)}function Bt({message:e,duration:t=6e3,actionLabel:n,onAction:r,linkLabel:o,linkHref:a}={}){const i=Ie(),s=document.createElement("div");s.className="toast-message",je(s);const l=document.createElement("div");l.style.display="flex",l.style.flexDirection="column",l.style.gap="8px";const c=document.createElement("span");c.textContent=e,l.appendChild(c);const u=document.createElement("div");u.style.display="flex",u.style.flexWrap="wrap",u.style.gap="8px";let y=!1,T=()=>{};if(o&&a){const d=document.createElement("a");d.href=a,d.textContent=o,d.target="_blank",d.rel="noopener noreferrer",d.style.color="#bfdbfe",d.style.textDecoration="underline",d.style.fontWeight="500",d.style.pointerEvents="auto",u.appendChild(d),y=!0}if(n&&typeof r=="function"){const d=document.createElement("button");d.type="button",d.textContent=n,d.style.border="1px solid rgba(255,255,255,0.4)",d.style.background="rgba(15, 23, 42, 0.2)",d.style.color="#fff",d.style.borderRadius="999px",d.style.padding="6px 14px",d.style.fontSize="0.78rem",d.style.cursor="pointer",d.addEventListener("click",P=>{P.preventDefault();try{r()}catch(ae){console.error("âš ï¸ [toast] action callback failed",ae)}finally{T()}}),u.appendChild(d),y=!0}y&&l.appendChild(u),s.appendChild(l),i.appendChild(s),Me(s);const{hide:p}=Oe(s,t);T=p,s.addEventListener("click",p)}const ye="RSV",be="PRJ",Et=4,M=(()=>{try{const e=typeof globalThis<"u"?globalThis:window;return e.__APP_SEQUENCE_STATE__=e.__APP_SEQUENCE_STATE__||{reservation:0,project:0},e.__APP_SEQUENCE_STATE__}catch{return{reservation:0,project:0}}})();function At(){return Number.isFinite(M.reservation)?M.reservation:0}function Tt(e){M.reservation=Math.max(0,Number.parseInt(e,10)||0)}function St(){return Number.isFinite(M.project)?M.project:0}function _t(e){M.project=Math.max(0,Number.parseInt(e,10)||0)}function Ue(){try{const e=wt();return{reservations:Array.isArray(e?.reservations)?e.reservations:[],projects:Array.isArray(e?.projects)?e.projects:[]}}catch(e){return console.warn("âš ï¸ [utils] Failed to load data snapshot for code generation",e),{reservations:[],projects:[]}}}function Lt(e,t){if(e==null)return 0;if(typeof e=="number")return Number.isFinite(e)?Math.max(0,Math.trunc(e)):0;const n=String(e).trim();if(!n)return 0;const r=`${t.toUpperCase()}-`,o=n.toUpperCase();let a=n;o.startsWith(r)&&(a=n.slice(r.length));const i=a.match(/(\d+)$/);if(i){const l=Number.parseInt(i[1],10);return Number.isFinite(l)?Math.max(0,l):0}const s=Number.parseInt(n,10);return Number.isFinite(s)?Math.max(0,s):0}function vt(e){return Array.isArray(e)?e:[e]}function Fe(e,t,n){return!Array.isArray(e)||e.length===0?0:e.reduce((r,o)=>{const a=n(o),s=vt(a).reduce((l,c)=>{const u=Lt(c,t);return u>l?u:l},0);return s>r?s:r},0)}function qe(e,t){const n=Math.max(0,Number.parseInt(t,10)||0);return`${e}-${String(n).padStart(Et,"0")}`}function $t(){const{reservations:e}=Ue(),t=Fe(e,ye,r=>[r?.reservationCode,r?.reservation_code,r?.reservationId,r?.reservation_id,r?.id]),n=Math.max(t,At())+1;return Tt(n),qe(ye,n)}function zt(){const{projects:e}=Ue(),t=Fe(e,be,r=>[r?.projectCode,r?.project_code,r?.code,r?.id]),n=Math.max(t,St())+1;return _t(n),qe(be,n)}function Gt(e,t={}){if(!e)return"-";const n=new Date(e);if(Number.isNaN(n.getTime()))return"-";const r=document?.documentElement?.getAttribute("lang")||(typeof ee=="function"?ee():null)||"ar",a=String(r).toLowerCase().startsWith("ar")?"ar-SA-u-ca-gregory-nu-latn":"en-US",s=new Intl.DateTimeFormat(a,{dateStyle:"short",timeStyle:"short",hour12:!0,calendar:"gregory",...t}).formatToParts(n),l=n.getHours()>=12?"PM":"AM",c=s.map(u=>u.type==="dayPeriod"?l:u.value).join("").replace(/\u200f/g,"");return Ct(c)}function Ct(e){if(e==null)return"";e=String(e);const t=["Ù ","Ù¡","Ù¢","Ù£","Ù¤","Ù¥","Ù¦","Ù§","Ù¨","Ù©"],n=["Û°","Û±","Û²","Û³","Û´","Ûµ","Û¶","Û·","Û¸","Û¹"],r=["0","1","2","3","4","5","6","7","8","9"];return Array.from(e).map(o=>{const a=t.indexOf(o);if(a>-1)return r[a];const i=n.indexOf(o);return i>-1?r[i]:o}).join("")}const we={INVALID:{key:"login.errors.invalidCredentials",fallback:"âŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©"},NETWORK:{key:"login.errors.network",fallback:"ğŸŒ ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰."},GENERIC:{key:"login.errors.generic",fallback:"âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰."}};let h=null;const kt={USER_UPDATED:"auth:user-updated"};function Pt(){try{const e=window?.location?.hostname||"";return e==="localhost"||e==="127.0.0.1"||e===""||e==="::1"}catch{return!1}}function He(){try{if(!Pt())return!1;const e=new URL(window.location.href),t=(e.searchParams.get("bypassAuth")||e.searchParams.get("dev")||e.searchParams.get("debug")||"").toLowerCase();return window.__BYPASS_AUTH__===!0||t==="1"||t==="true"}catch{return!1}}function Rt(e){if(typeof document>"u")return;const t=document.documentElement;t&&(e?t.dataset.userRole=e:delete t.dataset.userRole)}function Dt(){typeof document>"u"||document.dispatchEvent(new CustomEvent(kt.USER_UPDATED,{detail:h?{...h}:null}))}function C(e){if(e&&typeof e=="object"){const t=typeof e.role=="string"?e.role.trim().toLowerCase():null;h={id:Number.isFinite(e.id)?Number(e.id):null,username:String(e.username||""),loginAt:e.loginAt??null,role:t}}else h=null;Rt(h?.role||""),Dt()}function xt(e="INVALID",t){if(t&&typeof t=="string")return t;const n=we[e]||we.INVALID;return _(n.key,n.fallback)}function Nt(){const e=document.getElementById("login-error");e&&(e.textContent="",e.classList.add("hidden"))}function U(e="INVALID",t){const n=xt(e,t);oe(n);const r=document.getElementById("login-error");r&&(r.textContent=n,r.classList.remove("hidden"))}async function It({username:e,password:t,form:n}){if(!(!e||!t))try{if(typeof window>"u"||typeof navigator>"u"||!window.isSecureContext||!navigator.credentials||typeof navigator.credentials.store!="function")return;const r=(()=>{try{const a=document.querySelector('link[rel~="icon"]');return a?a.href:void 0}catch{return}})();let o=null;if(n&&n instanceof HTMLFormElement&&typeof window.PasswordCredential<"u")try{o=new window.PasswordCredential(n)}catch(a){console.warn("âš ï¸ ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ù…Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬",a)}if(!o&&typeof window.PasswordCredential<"u")try{o=new window.PasswordCredential({id:e,name:e,password:t,iconURL:r})}catch(a){console.warn("âš ï¸ ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ PasswordCredential Ù…Ø¨Ø§Ø´Ø±",a)}!o&&typeof navigator.credentials.create=="function"&&(o=await navigator.credentials.create({password:{id:e,name:e,password:t,iconURL:r}})),o&&await navigator.credentials.store(o)}catch(r){console.warn("âš ï¸ ØªØ¹Ø°Ø± Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­",r)}}async function Kt(e,t,{form:n}={}){const r=(e||"").trim(),o=t||"";if(Nt(),!r||!o)return U("INVALID"),!1;try{const a=await H("/auth/",{method:"POST",body:{username:r,password:o}});C(a?.data??null);try{await te({theme:B()})}catch(i){console.warn("âš ï¸ ØªØ¹Ø°Ø± Ø­ÙØ¸ ØªÙØ¶ÙŠÙ„ Ø§Ù„Ø³Ù…Ø© Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",i)}return Xe(),await It({username:r,password:o,form:n}),window.location.href="home.html",!0}catch(a){if(console.error("âŒ ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",a),C(null),a instanceof A)if(a.status===401||a.status===403)U("INVALID");else if(a.status>=500)U("GENERIC");else{const s=typeof a.message=="string"&&!/^request failed with status/i.test(a.message)?a.message:null;U("GENERIC",s)}else U("NETWORK");return!1}}async function Vt(){try{await H("/auth/",{method:"DELETE"})}catch(e){console.warn("âš ï¸ ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…",e)}finally{C(null),oe("ğŸšª ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬"),window.location.href="login.html"}}async function jt({refresh:e=!1}={}){if(He())return h||C({id:0,username:"dev-local",loginAt:new Date().toISOString(),role:"admin"}),h;if(!e&&h)return h;try{const t=await H("/auth/");return C(t?.data??null),h}catch(t){throw t instanceof A&&t.status===401&&C(null),t}}function Wt({redirect:e=!0}={}){return He()?(h||C({id:0,username:"dev-local",loginAt:new Date().toISOString(),role:"admin"}),Promise.resolve(h)):jt({refresh:!0}).then(t=>(!t&&e&&(window.location.href="login.html"),t)).catch(t=>t instanceof A&&t.status===401?(e&&(window.location.href="login.html"),null):(console.error("âŒ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¬Ù„Ø³Ø©",t),e&&(window.location.href="login.html"),null))}function Mt(){return h?.role||null}function Yt(){return Mt()==="admin"}function Jt(){oe(_("auth.permissions.denied","âš ï¸ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„ØªÙ†ÙÙŠØ° Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡"),"error")}export{A,Bt as B,Ft as a,H as b,Wt as c,wt as d,g as e,_e as f,jt as g,qt as h,pt as i,oe as j,Ut as k,Vt as l,Ht as m,Ct as n,Kt as o,ee as p,kt as q,Re as r,Se as s,_ as t,te as u,Gt as v,Yt as w,Jt as x,zt as y,$t as z};
