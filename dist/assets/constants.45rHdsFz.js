import{n as u}from"./auth.BDXZMkvU.js";import{n as g}from"./reservationsService.Cqdx1FDo.js";function m(a){const e=new Date;if(e.setHours(0,0,0,0),a==="today")return{startDate:o(e),endDate:o(e)};if(a==="week"){const t=new Date(e),n=t.getDay(),r=n===0?6:n-1;t.setDate(t.getDate()-r);const s=new Date(t);return s.setDate(t.getDate()+6),{startDate:o(t),endDate:o(s)}}if(a==="month"){const t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0);return{startDate:o(t),endDate:o(n)}}return a==="upcoming"?{startDate:o(e),endDate:""}:{startDate:"",endDate:""}}function v(){const a=document.getElementById("search-reservation"),e=document.getElementById("filter-start-date"),t=document.getElementById("filter-end-date"),n=document.getElementById("reservation-date-range"),r=document.getElementById("reservation-status-filter");let s=u(e?.value||"").trim(),c=u(t?.value||"").trim(),l=n?.value||"";if(new Set(["","today","week","month"]).has(l)||(l="",n&&(n.value=""),i(e),i(t),s="",c=""),!s&&!c&&l){const f=m(l);s=f.startDate,c=f.endDate}return{searchTerm:g(a?.value||""),startDate:s,endDate:c,status:r?.value||"",quickRange:l}}function I(a){const e=()=>{typeof a=="function"&&a()},t=document.getElementById("search-reservation");t&&!t.dataset.listenerAttached&&(t.addEventListener("input",()=>{t.value=u(t.value),e()}),t.dataset.listenerAttached="true");const n=document.getElementById("filter-start-date");n&&!n.dataset.listenerAttached&&(n.addEventListener("change",()=>{const d=document.getElementById("reservation-date-range");d&&(d.value=""),e()}),n.dataset.listenerAttached="true");const r=document.getElementById("filter-end-date");r&&!r.dataset.listenerAttached&&(r.addEventListener("change",()=>{const d=document.getElementById("reservation-date-range");d&&(d.value=""),e()}),r.dataset.listenerAttached="true");const s=document.getElementById("reservation-date-range");s&&!s.dataset.listenerAttached&&(s.addEventListener("change",()=>{E(s.value),e()}),s.dataset.listenerAttached="true");const c=document.getElementById("reservation-status-filter");c&&!c.dataset.listenerAttached&&(c.addEventListener("change",e),c.dataset.listenerAttached="true");const l=document.getElementById("clear-filters");l&&!l.dataset.listenerAttached&&(l.addEventListener("click",()=>{t&&(t.value=""),i(n),i(r),s&&(s.value=""),c&&(c.value=""),e()}),l.dataset.listenerAttached="true")}function E(a){const e=document.getElementById("filter-start-date"),t=document.getElementById("filter-end-date");if(!e||!t)return;const{startDate:n,endDate:r}=m(a);e._flatpickr?n?e._flatpickr.setDate(n,!1,"Y-m-d"):e._flatpickr.clear():e.value=n,t._flatpickr?r?t._flatpickr.setDate(r,!1,"Y-m-d"):t._flatpickr.clear():t.value=r}function o(a){if(!a)return"";const e=a.getTimezoneOffset()*6e4;return new Date(a.getTime()-e).toISOString().split("T")[0]}function i(a){a&&(a._flatpickr&&a._flatpickr.clear(),a.value="")}const _="project",A="editProject",h=3600*1e3,R=.15,y=6,B="projectsTab",S="projectsSubTab",T={create:"create-project-tab",list:"projects-list-tab",reports:"projects-reports-tab",expenses:"projects-expenses-tab"},k={upcoming:"Upcoming",ongoing:"In Progress",completed:"Completed",cancelled:"Cancelled",conflict:"Conflict"};export{y as M,h as O,B as P,S as a,T as b,R as c,_ as d,A as e,I as f,v as g,m as r,k as s};
