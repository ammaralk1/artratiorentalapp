@import './core.css';
@import './maintenance.css';
@import './reservations.css';
@import './tabs.css';
@import './reports.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    font-feature-settings: 'kern';
    scroll-behavior: smooth;
  }

  html {
    @apply font-tajawal;
  }

  body {
    @apply bg-base-200 text-base-content min-h-screen antialiased;
  }

  [dir='rtl'] {
    font-family: 'Tajawal', ui-sans-serif, system-ui, sans-serif;
  }
}

@layer components {
  .page-shell {
    @apply min-h-screen bg-base-200 text-base-content;
  }

  .page-grid {
    @apply flex flex-col min-h-screen w-full;
    background: linear-gradient(135deg, rgba(238, 242, 255, 0.96) 0%, rgba(248, 250, 252, 0.94) 55%, rgba(248, 250, 252, 0.92));
  }

  html.dark,
  body.dark {
    background: linear-gradient(180deg, #040914 0%, #0b1120 55%, #111a2e 100%);
    color: #e2e8f0;
  }

  html.dark .page-grid,
  body.dark .page-grid {
    background: linear-gradient(135deg, rgba(11, 17, 32, 0.98) 0%, rgba(8, 14, 30, 0.94) 45%, rgba(16, 25, 46, 0.9) 100%);
  }

  .dashboard-header {
    @apply sticky top-0 z-40 backdrop-blur border-b border-base-200 bg-base-100 shadow-sm;
    background-color: hsl(var(--b1) / 0.92);
    overflow: visible;
  }

  .dashboard-hero-brand-text {
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
    min-width: 0;
    text-align: start;
    align-items: flex-start;
  }

  [dir='rtl'] .dashboard-hero-brand-text {
    text-align: right;
    align-items: flex-end;
  }

  [dir='ltr'] .dashboard-hero-brand-text {
    text-align: left;
    align-items: flex-start;
  }

  .dashboard-header-nav {
    @apply mx-auto grid items-center gap-4 px-4 py-3 text-center;
    width: min(100%, 312rem);
    grid-auto-flow: column;
    grid-template-columns: auto minmax(18rem, 1fr) auto;
    justify-content: space-between;
    justify-items: center;
  }

  .dashboard-header-start {
    @apply flex flex-wrap items-center gap-3 sm:gap-4;
    min-width: 0;
  }

  .dashboard-header-center {
    @apply flex justify-center;
    min-width: clamp(16rem, 45vw, 26rem);
    padding-block: 0.25rem;
    justify-self: center;
  }

  .dashboard-hero-callout {
    @apply flex w-full items-center justify-center gap-3 rounded-3xl px-4 py-4 text-sm font-medium leading-relaxed;
    min-height: 3.5rem;
    text-align: center;
    color: hsl(var(--bc) / 0.82);
  }

  @media (min-width: 768px) {
    .dashboard-hero-callout {
      @apply justify-start text-base;
      padding-inline: 1.75rem;
      padding-block: 1.1rem;
      text-align: start;
    }
  }

  .dashboard-header-end {
    @apply flex items-center gap-2 sm:gap-3 flex-wrap;
    min-width: 0;
  }

  [dir='rtl'] .dashboard-header-start {
    justify-content: flex-end;
  }

  [dir='ltr'] .dashboard-header-start {
    justify-content: flex-start;
  }

  [dir='rtl'] .dashboard-header-end {
    justify-content: flex-start;
  }

  [dir='ltr'] .dashboard-header-end {
    justify-content: flex-end;
  }

  .dashboard-logo-img {
    width: 70%;
    height: 70%;
    object-fit: contain;
    display: block;
    margin: 0 auto;
  }

  @media (max-width: 767px) {
    .dashboard-header-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: nowrap;
      gap: 0.75rem;
      width: 100%;
    }

    .dashboard-header-start {
      @apply flex items-center gap-2;
      flex: 1 1 auto;
      min-width: 0;
      flex-wrap: nowrap;
      gap: 0.75rem;
    }

    .dashboard-header-start .mobile-sidebar-toggle {
      flex: 0 0 auto;
      width: 2.85rem;
      height: 2.85rem;
      border-radius: 0.95rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .dashboard-header-start .dashboard-hero-brand {
      flex: 1 1 auto;
      min-width: 0;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    [dir='rtl'] .dashboard-header-start .dashboard-hero-brand {
      margin-inline-end: auto;
    }

    [dir='ltr'] .dashboard-header-start .dashboard-hero-brand {
      margin-inline-start: auto;
    }

    .dashboard-header-center {
      display: none;
    }

    .dashboard-header-end {
      display: grid;
      grid-template-columns: repeat(2, max-content);
      column-gap: 0.55rem;
      row-gap: 0.45rem;
      justify-content: flex-start;
      align-items: stretch;
      margin-inline-end: auto;
    }

    .dashboard-header-end .language-toggle-btn,
    .dashboard-header-end .theme-toggle-btn,
    .dashboard-header-end #logout-btn {
      @apply btn-xs;
      min-height: 2.1rem;
    }

  .dashboard-header-end .language-toggle-btn,
  .dashboard-header-end .theme-toggle-btn {
    padding: 0.3rem 0.6rem;
    font-size: 0.7rem;
    border-radius: 0.75rem;
    white-space: nowrap;
    line-height: 1.1;
    min-width: 5.2rem;
  }

    .dashboard-header-end .language-toggle-btn {
      grid-column: 1;
      grid-row: 1;
    }

    .dashboard-header-end .theme-toggle-btn {
      grid-column: 2;
      grid-row: 1;
    width: 2.4rem;
    min-width: 2.4rem;
    padding: 0.3rem;
    border-radius: 0.75rem;
  }

  .dashboard-header-end #logout-btn {
    grid-column: 1 / -1;
    grid-row: 2;
    justify-self: stretch;
    padding: 0.35rem 0.7rem;
    font-size: 0.74rem;
    border-radius: 0.9rem;
      min-width: 5.2rem;
    }

    .dashboard-greeting-toggle,
    .dashboard-greeting-toggle-label {
      display: none;
    }

    [dir='rtl'] .dashboard-header-start {
      justify-content: flex-end;
    }
  }

  @media (min-width: 1024px) {
    .dashboard-header-nav {
      width: min(100%, 336rem);
      padding-inline: 2.5rem;
      grid-template-columns: auto minmax(18rem, 28vw) auto;
      gap: clamp(2.5rem, 6vw, 4.5rem);
    }
  }

  .dashboard-metrics-card {
    @apply flex flex-col gap-4 w-full;
  }

  .summary-card {
    @apply relative flex flex-col items-center justify-center gap-2 rounded-3xl text-center transition-transform duration-200;
    padding: clamp(0.95rem, 2vw, 1.4rem);
    border: 1px solid rgba(76, 110, 245, 0.18);
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.98), rgba(232, 238, 255, 0.9));
    box-shadow: 0 16px 34px rgba(15, 23, 42, 0.1);
    text-decoration: none;
  }

  a.summary-card {
    cursor: pointer;
  }

  .summary-card:hover,
  .summary-card:focus-visible {
    transform: translateY(-4px);
    box-shadow: 0 24px 48px rgba(15, 23, 42, 0.16);
  }

  .summary-card:focus-visible {
    outline: 2px solid rgba(76, 110, 245, 0.55);
    outline-offset: 4px;
  }

  .summary-card__icon {
    @apply flex h-12 w-12 items-center justify-center rounded-2xl text-2xl;
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.18), rgba(76, 110, 245, 0.35));
    color: rgba(37, 56, 140, 0.95);
  }

  .summary-card__value {
    @apply block font-bold tracking-tight;
    font-size: clamp(1.4rem, 3vw, 2rem);
    color: hsl(var(--bc));
  }

  .summary-card__label {
    @apply block text-sm font-semibold tracking-tight;
    color: hsl(var(--bc) / 0.68);
  }

  .summary-card--compact {
    padding: clamp(0.75rem, 1.8vw, 1.1rem);
    gap: 0.75rem;
  }

  .summary-card--compact .summary-card__value {
    font-size: clamp(1.25rem, 2.5vw, 1.65rem);
  }

  .summary-card--compact .summary-card__label {
    font-size: 0.9rem;
  }

  :where(html.dark, body.dark) .summary-card {
    border-color: rgba(96, 165, 250, 0.28);
    background: linear-gradient(135deg, rgba(15, 24, 45, 0.92), rgba(20, 30, 60, 0.85));
    box-shadow: 0 24px 44px rgba(3, 8, 22, 0.55);
  }

  :where(html.dark, body.dark) .summary-card__icon {
    background: linear-gradient(135deg, rgba(37, 56, 140, 0.35), rgba(59, 130, 246, 0.28));
    color: rgba(226, 232, 240, 0.85);
  }

  :where(html.dark, body.dark) .summary-card__label {
    color: rgba(203, 213, 225, 0.78);
  }

  :where(html.dark, body.dark) .summary-card__value {
    color: rgba(224, 231, 255, 0.98);
  }

  .sidebar-shell {
    @apply flex flex-col gap-4 backdrop-blur border-l border-base-200 shadow-soft p-6 w-72 xl:w-80;
    background: linear-gradient(180deg, rgba(248, 250, 255, 0.96) 0%, rgba(238, 242, 255, 0.9) 100%);
    height: calc(100vh - 1.5rem);
    overflow-y: auto;
    scrollbar-width: thin;
  }

  :where(html.dark, body.dark) .sidebar-shell {
    background: linear-gradient(180deg, rgba(9, 14, 28, 0.97) 0%, rgba(8, 18, 40, 0.92) 100%);
    border-color: rgba(63, 93, 245, 0.28);
    box-shadow: 0 32px 55px rgba(4, 9, 22, 0.65);
  }

  .sidebar-shell::-webkit-scrollbar {
    width: 6px;
  }

  .sidebar-shell::-webkit-scrollbar-thumb {
    background: rgba(148, 197, 255, 0.35);
    border-radius: 999px;
  }

  :where(html.dark, body.dark) .sidebar-shell::-webkit-scrollbar-thumb {
    background: rgba(63, 93, 245, 0.45);
  }

  .sidebar-panel {
    @apply bg-base-100 shadow-soft border border-base-200 rounded-3xl p-5;
    background: linear-gradient(140deg, rgba(248, 250, 255, 0.96) 0%, rgba(238, 242, 255, 0.9) 100%);
    backdrop-filter: blur(18px);
    box-shadow: 0 18px 35px rgba(15, 23, 42, 0.08);
  }

  .sidebar-panel + .sidebar-panel {
    @apply mt-4;
  }

  :where(html.dark, body.dark) .sidebar-panel {
    background: linear-gradient(140deg, rgba(14, 24, 48, 0.96) 0%, rgba(9, 17, 36, 0.9) 100%);
    border-color: rgba(63, 93, 245, 0.32);
    box-shadow: inset 0 0 0 1px rgba(63, 93, 245, 0.16), 0 26px 48px rgba(4, 9, 22, 0.68);
  }

  :where(html.dark, body.dark) .sidebar-shell p,
  :where(html.dark, body.dark) .sidebar-shell span {
    color: rgba(219, 234, 254, 0.85);
  }

  :where(html.dark, body.dark) .sidebar-shell .badge-soft {
    background: rgba(63, 93, 245, 0.22);
    border-color: rgba(99, 102, 241, 0.4);
    color: #e2e8f0;
  }

  :where(html.dark, body.dark) .sidebar-shell .badge-soft strong {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-shell hr,
  :where(html.dark, body.dark) .sidebar-shell .divider {
    border-color: rgba(63, 93, 245, 0.18);
  }

  .sidebar-menu {
    @apply flex flex-col gap-2;
  }

  .sidebar-heading {
    @apply text-sm font-semibold;
    color: hsl(var(--bc) / 0.68);
    line-height: 1.35;
    letter-spacing: 0.02em;
  }

  :where(html.dark, body.dark) .sidebar-heading {
    color: rgba(203, 213, 225, 0.75);
  }

  .sidebar-link {
    @apply flex w-full items-center gap-3 rounded-2xl border border-base-200 px-4 py-3 text-sm font-medium text-base-content;
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.96), rgba(238, 242, 255, 0.9));
    box-shadow: 0 14px 28px rgba(15, 23, 42, 0.08);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease;
  }

  .sidebar-link svg {
    color: hsl(var(--bc) / 0.55);
    transition: color 0.2s ease;
  }

  .sidebar-link span {
    @apply flex-1 text-start;
  }

  .sidebar-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 20px 38px rgba(15, 23, 42, 0.12);
    background: linear-gradient(135deg, rgba(234, 240, 255, 0.98), rgba(228, 236, 255, 0.92));
    color: hsl(var(--bc));
  }

  .sidebar-link:hover svg {
    color: hsl(var(--bc));
  }

  .sidebar-panel--tabs {
    @apply space-y-3;
  }

  .sidebar-panel--stats {
    @apply space-y-4;
  }

  .sidebar-stats {
    @apply flex flex-col gap-3;
  }

  .sidebar-stats-row {
    @apply flex items-center justify-between gap-3 rounded-2xl border border-base-200 px-4 py-3 text-sm font-semibold text-base-content;
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.96), rgba(238, 242, 255, 0.9));
    box-shadow: 0 14px 28px rgba(15, 23, 42, 0.08);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease;
  }

  .sidebar-stats-row > span:first-child {
    @apply flex-1 text-start;
  }

  .sidebar-stats-row:hover {
    transform: translateY(-2px);
    box-shadow: 0 20px 38px rgba(15, 23, 42, 0.12);
    background: linear-gradient(135deg, rgba(234, 240, 255, 0.98), rgba(228, 236, 255, 0.92));
    color: hsl(var(--bc));
  }

  .sidebar-stats-row:hover .badge-soft {
    background: rgba(76, 110, 245, 0.16);
    color: hsl(var(--bc));
  }

  .sidebar-panel--tabs .tab-buttons {
    @apply flex flex-col gap-3 p-0 border-0 bg-transparent shadow-none;
    background: transparent;
    border-radius: 0;
  }

  .sidebar-panel--tabs .tab-button {
    @apply relative flex w-full flex-col items-center justify-center gap-2 rounded-2xl border border-base-200 px-5 py-4 text-base font-semibold text-base-content text-center;
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.96), rgba(234, 240, 255, 0.94));
    box-shadow: 0 14px 28px rgba(15, 23, 42, 0.08);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  }

  .sidebar-panel--tabs .tab-button__content {
    @apply flex w-full flex-col items-center justify-center gap-3 text-base font-semibold leading-tight;
    text-align: center;
  }

  .sidebar-panel--tabs .tab-button svg {
    width: 1.75rem;
    height: 1.75rem;
    color: hsl(var(--bc) / 0.55);
    transition: color 0.2s ease, transform 0.2s ease;
  }

  .sidebar-panel--tabs .tab-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 22px 42px rgba(15, 23, 42, 0.16);
    background: linear-gradient(135deg, rgba(234, 240, 255, 0.98), rgba(221, 232, 255, 0.95));
    border-color: rgba(76, 110, 245, 0.45);
    color: rgba(41, 64, 185, 1);
  }

  .sidebar-panel--tabs .tab-button:hover svg {
    color: rgba(49, 73, 198, 1);
    transform: scale(1.05);
  }

  .sidebar-panel--tabs .tab-button__content span {
    display: block;
    width: 100%;
    text-align: center;
    line-height: 1.4;
  }

  .sidebar-panel--tabs .tab-button.active {
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.95), rgba(90, 141, 255, 0.92));
    border-color: rgba(76, 110, 245, 0.42);
    box-shadow: 0 22px 42px rgba(76, 110, 245, 0.22);
    color: #fff;
  }

  .sidebar-panel--tabs .tab-button.active svg {
    color: #fff;
  }

  :where(html.dark, body.dark) .sidebar-stats-row {
    background: linear-gradient(135deg, rgba(14, 24, 48, 0.96), rgba(9, 17, 36, 0.9));
    border-color: rgba(63, 93, 245, 0.32);
    box-shadow: inset 0 0 0 1px rgba(63, 93, 245, 0.14), 0 20px 42px rgba(4, 9, 22, 0.65);
    color: rgba(219, 234, 254, 0.9);
  }

  :where(html.dark, body.dark) .sidebar-stats-row .badge-soft {
    background: rgba(63, 93, 245, 0.25);
    border-color: rgba(99, 102, 241, 0.38);
    color: #e2e8f0;
  }

  :where(html.dark, body.dark) .sidebar-stats-row:hover {
    background: linear-gradient(135deg, rgba(32, 54, 112, 0.92), rgba(28, 45, 94, 0.88));
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-link {
    background: linear-gradient(135deg, rgba(24, 33, 59, 0.95), rgba(18, 28, 52, 0.88));
    border-color: rgba(63, 93, 245, 0.32);
    box-shadow: 0 18px 36px rgba(3, 8, 26, 0.58);
    color: rgba(226, 232, 240, 0.9);
  }

  :where(html.dark, body.dark) .sidebar-link svg {
    color: rgba(148, 197, 255, 0.75);
  }

  :where(html.dark, body.dark) .sidebar-link:hover {
    background: linear-gradient(135deg, rgba(47, 71, 120, 0.95), rgba(37, 58, 102, 0.88));
    box-shadow: 0 24px 44px rgba(3, 8, 26, 0.78);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-link:hover svg {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button {
    background: linear-gradient(135deg, rgba(24, 33, 59, 0.95), rgba(18, 28, 52, 0.9));
    border-color: rgba(63, 93, 245, 0.35);
    box-shadow: 0 18px 38px rgba(3, 8, 26, 0.62);
    color: rgba(226, 232, 240, 0.92);
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button svg {
    color: rgba(148, 197, 255, 0.78);
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button:hover {
    background: linear-gradient(135deg, rgba(47, 71, 120, 0.95), rgba(37, 58, 102, 0.88));
    box-shadow: 0 24px 46px rgba(3, 8, 26, 0.8);
    border-color: rgba(129, 140, 248, 0.55);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button:hover svg {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button.active {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(99, 102, 241, 0.88));
    border-color: rgba(99, 102, 241, 0.45);
    box-shadow: 0 26px 52px rgba(37, 99, 235, 0.35);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button.active svg {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .dashboard-header h1 {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .dashboard-header p {
    color: rgba(203, 213, 225, 0.75);
  }

  .dashboard-hero-brand {
    @apply flex items-center gap-2;
    min-width: 0;
  }

  .dashboard-hero-logo {
    @apply transition-all duration-200 ease-in-out;
    width: 2.5rem;
    height: 2.5rem;
  }

  :where(html.dark, body.dark) .dashboard-hero-logo {
    background: rgba(63, 93, 245, 0.25);
    color: #f8fafc;
    box-shadow: 0 18px 35px rgba(10, 19, 40, 0.55);
  }

  .dashboard-hero-title {
    @apply transition-colors duration-200 ease-in-out;
    font-size: 1rem;
    line-height: 1.3;
  }

  @media (min-width: 768px) {
    .dashboard-hero-logo {
      width: 2.75rem;
      height: 2.75rem;
    }

    .dashboard-hero-title {
      font-size: 1.12rem;
    }

  }

  .sidebar-link-active {
    @apply flex w-full items-center gap-3 rounded-2xl border border-transparent px-4 py-3 text-sm font-semibold text-primary-content;
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.95), rgba(90, 141, 255, 0.92));
    box-shadow: 0 24px 46px rgba(76, 110, 245, 0.28);
  }

  .sidebar-link-active svg {
    color: currentColor;
  }

  :where(html.dark, body.dark) .sidebar-link-active {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(99, 102, 241, 0.9));
    box-shadow: 0 28px 52px rgba(37, 99, 235, 0.35);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-link-active svg {
    color: currentColor;
  }

  .dashboard-greeting {
    @apply flex flex-col items-center gap-3;
    position: relative;
    flex: 0 1 clamp(32rem, 66vw, 48rem);
    min-width: clamp(30rem, 60vw, 42rem);
    max-width: clamp(32rem, 66vw, 48rem);
    width: 100%;
    margin-inline: auto;
  }

  .dashboard-greeting-panel {
    transition: opacity 0.24s ease;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.94), rgba(241, 245, 255, 0.88));
    border: 1px solid rgba(148, 163, 255, 0.24);
    box-shadow: 0 20px 42px rgba(15, 23, 42, 0.08);
    backdrop-filter: blur(14px);
    width: min(100%, 46rem);
    padding: 1.8rem;
    overflow: hidden;
    overflow-x: clip;
  }

  .dashboard-greeting-toggle {
    @apply flex items-center justify-center gap-3 rounded-3xl border border-base-200 px-4 py-3 text-sm font-semibold text-base-content cursor-pointer;
    width: clamp(12rem, 45vw, 20rem);
    max-width: 100%;
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.9), rgba(238, 242, 255, 0.84));
    box-shadow: 0 12px 24px rgba(15, 23, 42, 0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
  }

  .dashboard-greeting-toggle:hover {
    transform: translateY(-1px);
    background: linear-gradient(135deg, rgba(234, 240, 255, 0.94), rgba(228, 236, 255, 0.88));
    box-shadow: 0 16px 30px rgba(15, 23, 42, 0.12);
  }

  .dashboard-greeting-toggle:focus-visible {
    outline: 3px solid rgba(76, 110, 245, 0.35);
    outline-offset: 3px;
  }

  .dashboard-greeting-toggle-label {
    @apply flex-1 text-center;
    font-size: clamp(1.05rem, 2.2vw, 1.4rem);
    font-weight: 700;
    letter-spacing: 0.01em;
  }

  .dashboard-greeting-toggle-icon {
    @apply h-3.5 w-3.5;
    transition: transform 0.2s ease;
  }

  .dashboard-greeting[data-state='open'] .dashboard-greeting-toggle {
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.12), rgba(90, 141, 255, 0.1));
    border-color: rgba(76, 110, 245, 0.25);
    box-shadow: 0 22px 42px rgba(76, 110, 245, 0.18);
  }

  .dashboard-greeting[data-state='open'] .dashboard-greeting-toggle-icon {
    transform: rotate(180deg);
  }

  :where(html.dark, body.dark) .dashboard-greeting-toggle {
    background: linear-gradient(135deg, rgba(24, 33, 59, 0.96), rgba(18, 28, 52, 0.92));
    border-color: rgba(63, 93, 245, 0.32);
    box-shadow: 0 18px 38px rgba(3, 8, 26, 0.6);
    color: rgba(226, 232, 240, 0.92);
  }

  :where(html.dark, body.dark) .dashboard-greeting-toggle:hover {
    background: linear-gradient(135deg, rgba(47, 71, 120, 0.95), rgba(37, 58, 102, 0.88));
    box-shadow: 0 26px 48px rgba(3, 8, 26, 0.78);
  }

  :where(html.dark, body.dark) .dashboard-greeting[data-state='open'] .dashboard-greeting-toggle {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.18), rgba(79, 70, 229, 0.16));
    border-color: rgba(99, 102, 241, 0.4);
    box-shadow: 0 26px 52px rgba(37, 99, 235, 0.28);
  }

  @media (min-width: 768px) {
    .dashboard-greeting-panel {
      position: absolute;
      top: calc(100% + 0.65rem);
      left: 50%;
      transform: translateX(-50%);
      width: clamp(32rem, 64vw, 46rem);
      opacity: 0;
      pointer-events: none;
      z-index: 60;
    }

    .dashboard-greeting-panel:not([hidden]) {
      opacity: 1;
      pointer-events: auto;
    }
  }

  .dashboard-main {
    @apply flex-1;
  }

  .dashboard-main-inner {
    @apply container mx-auto px-4 py-8 lg:py-10;
  }

  .stats-cards {
    @apply grid gap-4 sm:grid-cols-2 xl:grid-cols-4;
  }

  .card-surface {
    @apply bg-base-100 rounded-3xl border border-base-200 shadow-soft p-6 space-y-4;
  }

  .glass-card {
    @apply bg-base-100 shadow-soft border border-base-200 backdrop-blur-sm rounded-3xl p-6;
    background-color: hsl(var(--b1) / 0.88);
  }

  .box {
    @apply glass-card;
  }

  :where(html.dark, body.dark) .glass-card,
  :where(html.dark, body.dark) .box {
    background: #18213beb;
    border-color: rgba(63, 93, 245, 0.28);
    box-shadow: 0 28px 55px #040916a6;
  }

  :where(html.dark, body.dark) .dashboard-greeting-panel {
    background: linear-gradient(140deg, rgba(12, 22, 48, 0.96) 0%, rgba(8, 16, 36, 0.92) 45%, rgba(10, 18, 40, 0.9) 100%);
    border-color: rgba(82, 116, 246, 0.32);
    box-shadow: 0 26px 52px rgba(3, 8, 22, 0.55);
  }

  .dashboard-greeting-panel .stats {
    @apply grid gap-5 w-full;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    align-items: stretch;
  }

  @media (max-width: 1023px) {
    .dashboard-greeting-panel .stats {
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }
  }

  .dashboard-greeting-panel .stat {
    @apply flex flex-col items-center justify-center gap-3 rounded-3xl border bg-transparent px-6 py-7 text-center shadow-none;
    border-color: rgba(203, 213, 225, 0.55);
    min-height: 150px;
  }

  .dashboard-greeting-panel .stat-figure {
    font-size: 0;
    margin-bottom: 0.4rem;
  }

  .dashboard-greeting-panel .stat-title {
    @apply text-sm font-semibold tracking-tight;
    color: hsl(var(--bc) / 0.72);
  }

  .dashboard-greeting-panel .stat-value {
    @apply text-3xl font-extrabold leading-tight;
    color: hsl(var(--bc));
  }

  .dashboard-greeting-panel .stat-desc {
    @apply text-xs leading-relaxed mt-1;
    color: hsl(var(--bc) / 0.52);
    max-width: 14rem;
  }

  :where(html.dark, body.dark) .dashboard-greeting-panel .stat {
    border-color: rgba(82, 116, 246, 0.38);
  }

  :where(html.dark, body.dark) .dashboard-greeting-panel .stat-title {
    color: rgba(226, 232, 240, 0.82);
  }

  :where(html.dark, body.dark) .dashboard-greeting-panel .stat-value {
    color: rgba(248, 250, 255, 0.98);
  }

  :where(html.dark, body.dark) .dashboard-greeting-panel .stat-desc {
    color: rgba(203, 213, 225, 0.72);
  }

  .tab-buttons {
    @apply flex flex-wrap items-center gap-3 bg-base-100 border border-base-200 rounded-3xl p-2 shadow-sm;
    background-color: hsl(var(--b1) / 0.92);
  }

  .tab-button {
    @apply btn btn-sm lg:btn-md btn-ghost rounded-3xl px-4 transition;
  }

  .tab-button.active {
    @apply btn-active btn-primary text-primary-content shadow-lg;
  }

  .tab-buttons-vertical {
    @apply flex-col items-stretch gap-2;
  }

  .tab-buttons-vertical .tab-button {
    @apply justify-between text-start;
  }

  :where(html.dark, body.dark) .tab-buttons-vertical {
    background: linear-gradient(135deg, rgba(17, 26, 46, 0.94), rgba(14, 25, 50, 0.88));
    border-color: rgba(99, 102, 241, 0.35);
    box-shadow: inset 0 0 0 1px rgba(56, 189, 248, 0.08), 0 18px 45px rgba(5, 12, 28, 0.55);
  }

  :where(html.dark, body.dark) .tab-buttons-vertical .tab-button {
    color: rgba(226, 232, 240, 0.86);
    border-color: transparent;
  }

  :where(html.dark, body.dark) .tab-buttons-vertical .tab-button:hover {
    background: rgba(63, 93, 245, 0.25);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .tab-buttons-vertical .tab-button.active {
    background: linear-gradient(135deg, rgba(63, 93, 245, 0.65), rgba(56, 189, 248, 0.45));
    color: #f8fafc;
    border-color: rgba(99, 102, 241, 0.6);
    box-shadow: 0 22px 40px rgba(9, 17, 39, 0.6);
  }

  :where(html.dark, body.dark) .tab-buttons-vertical .tab-button.active svg {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .tab-buttons-vertical .tab-button svg {
    color: rgba(148, 197, 255, 0.9);
  }

  :where(html.dark, body.dark) .sidebar-link span {
    color: inherit;
  }

  :where(html.dark, body.dark) .management-form .form-control,
  :where(html.dark, body.dark) .management-form .form-select,
  :where(html.dark, body.dark) .management-form textarea,
  :where(html.dark, body.dark) .notes-input textarea {
    background: var(--clr-card, #1f2a44);
    border-color: rgba(148, 163, 184, 0.35);
    color: var(--clr-text);
    caret-color: var(--clr-text);
    box-shadow: inset 0 1px 2px rgba(3, 8, 26, 0.25);
  }

  :where(html.dark, body.dark) .management-form textarea::placeholder,
  :where(html.dark, body.dark) .notes-input textarea::placeholder {
    color: rgba(148, 163, 184, 0.65);
  }

  :where(html.dark, body.dark) .management-form textarea:focus,
  :where(html.dark, body.dark) .notes-input textarea:focus,
  :where(html.dark, body.dark) .management-form .form-control:focus,
  :where(html.dark, body.dark) .management-form .form-select:focus {
    border-color: rgba(99, 102, 241, 0.6);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.28);
  }

  .sidebar-brand {
    @apply mb-2;
  }

  .sidebar-brand-text p:first-child {
    @apply uppercase tracking-widest text-xs font-semibold;
  }

  :where(html.dark, body.dark) .sidebar-brand-text p:first-child {
    color: rgba(148, 197, 255, 0.75) !important;
  }

  :where(html.dark, body.dark) .sidebar-brand-text p:last-child {
    color: #f8fafc !important;
  }

  .sidebar-brand-logo {
    @apply shadow-soft flex items-center justify-center rounded-2xl transition-all duration-200 ease-in-out;
    width: 2.65rem;
    height: 2.65rem;
    background: linear-gradient(145deg, rgba(99, 102, 241, 0.18), rgba(59, 130, 246, 0.12));
    border: 1px solid rgba(99, 102, 241, 0.22);
    color: rgba(59, 130, 246, 0.95);
  }

  .sidebar-logo-img {
    display: block;
    width: 70%;
    height: 70%;
    object-fit: contain;
  }

  :where(html.dark, body.dark) .sidebar-brand-logo {
    background: linear-gradient(145deg, rgba(63, 93, 245, 0.35), rgba(56, 189, 248, 0.22));
    border-color: rgba(99, 102, 241, 0.4);
    color: rgba(224, 231, 255, 0.95);
    box-shadow: 0 14px 32px rgba(9, 17, 39, 0.6);
  }

  .tab-buttons-horizontal {
    @apply flex items-center gap-2 overflow-x-auto;
    align-items: stretch;
  }

  .tab-buttons-horizontal .tab-button {
    @apply flex-shrink-0 flex items-center justify-center;
    white-space: normal;
    min-height: 2.9rem;
  }

  .tab-scroll {
    position: relative;
  }

  .tab-scroll-track {
    @apply flex items-center;
    overflow-x: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
    scroll-behavior: smooth;
    gap: 0.5rem;
    padding-inline: 2.4rem;
    touch-action: pan-x;
  }

  .tab-scroll-track::-webkit-scrollbar {
    display: none;
  }

  .tab-scroll-track > .tab-buttons,
  .tab-scroll-track > .sub-tab-buttons {
    @apply flex items-center gap-2;
    flex: 0 0 auto;
    min-width: max-content;
  }

  .tab-scroll-btn {
    @apply btn btn-circle btn-ghost;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 2.25rem;
    height: 2.25rem;
    min-height: 2.25rem;
    border-radius: 999px;
    border: 1px solid rgba(148, 163, 184, 0.25);
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.85), rgba(30, 41, 59, 0.68));
    color: rgba(248, 250, 252, 0.9);
    box-shadow: 0 12px 28px rgba(15, 23, 42, 0.28);
    z-index: 2;
    padding: 0;
    transition: opacity 0.18s ease, transform 0.18s ease, border-color 0.18s ease;
  }

  .tab-scroll-btn span {
    font-size: 1.2rem;
    line-height: 1;
  }

  .tab-scroll-btn[hidden] {
    display: none;
  }

  .tab-scroll-btn:disabled {
    opacity: 0.3;
    pointer-events: none;
  }

  .tab-scroll-btn--prev {
    inset-inline-start: 0.35rem;
  }

  .tab-scroll-btn--next {
    inset-inline-end: 0.35rem;
  }

  .tab-scroll::before,
  .tab-scroll::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    width: 2rem;
    pointer-events: none;
    z-index: 1;
    transition: opacity 0.2s ease;
    opacity: 0;
  }

  .tab-scroll::before {
    inset-inline-start: 0;
    background: linear-gradient(to right, rgba(15, 23, 42, 0.22), rgba(15, 23, 42, 0));
  }

  .tab-scroll::after {
    inset-inline-end: 0;
    background: linear-gradient(to left, rgba(15, 23, 42, 0.22), rgba(15, 23, 42, 0));
  }

  :where(html.dark, body.dark) .tab-scroll-btn {
    border-color: rgba(129, 140, 248, 0.35);
    background: linear-gradient(135deg, rgba(18, 28, 48, 0.92), rgba(59, 73, 120, 0.68));
    color: rgba(226, 232, 240, 0.95);
    box-shadow: 0 18px 36px rgba(5, 10, 25, 0.55);
  }

  :where(html.dark, body.dark) .tab-scroll::before {
    background: linear-gradient(to right, rgba(10, 18, 38, 0.65), rgba(10, 18, 38, 0));
  }

  :where(html.dark, body.dark) .tab-scroll::after {
    background: linear-gradient(to left, rgba(10, 18, 38, 0.65), rgba(10, 18, 38, 0));
  }

  .tab-scroll.has-left::before {
    opacity: 1;
  }

  .tab-scroll.has-right::after {
    opacity: 1;
  }

  @media (min-width: 1024px) {
    .tab-scroll-track {
      padding-inline: 0;
      overflow: visible;
      gap: 1rem;
    }

    .tab-scroll-btn {
      display: none;
    }

    .tab-scroll::before,
    .tab-scroll::after {
      display: none;
    }
  }

  .dashboard-tabbar {
    @apply mx-auto;
    max-width: min(100%, 72rem);
    width: min(100%, 96vw);
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.9), rgba(232, 240, 255, 0.82));
    border: 1px solid rgba(76, 110, 245, 0.18);
    box-shadow: 0 22px 48px rgba(15, 23, 42, 0.12);
  }

  @media (max-width: 1023px) {
    .dashboard-tabbar {
      padding-inline: clamp(0.4rem, 3vw, 1rem);
    }
  }

  .dashboard-tabbar .tab-buttons-horizontal {
    @apply justify-between;
    gap: clamp(0.6rem, 2vw, 1rem);
  }

  .dashboard-tabbar .tab-buttons {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.88), rgba(236, 243, 255, 0.82));
    border: 1px solid rgba(76, 110, 245, 0.12);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.35), 0 12px 24px rgba(76, 110, 245, 0.08);
    padding: 0.35rem 0.8rem;
    border-radius: 999px;
    width: 100%;
    max-width: 100%;
    flex-wrap: nowrap;
    overflow-x: auto;
    scrollbar-width: none;
  }

  .projects-page .dashboard-tabbar .tab-buttons-horizontal {
    @apply justify-center;
  }

  .projects-page .dashboard-tabbar .tab-buttons {
    justify-content: center;
  }

  @media (min-width: 1024px) {
    .projects-page .dashboard-tabbar:not(.p-3) .tab-buttons {
      width: fit-content;
      margin-inline: auto;
    }
  }

  .dashboard-tabbar .tab-buttons::-webkit-scrollbar {
    display: none;
  }

  .dashboard-tabbar .tab-button {
    @apply btn btn-sm lg:btn-md;
    border: none;
    background: transparent;
    color: hsl(var(--bc) / 0.72);
    font-weight: 600;
    border-radius: 999px;
    padding-inline: 1.1rem;
    position: relative;
    transition: color 0.2s ease, background 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
  }

  .dashboard-tabbar .tab-button span {
    @apply inline-flex items-center justify-center gap-1;
  }

  [dir='ltr'] .dashboard-tabbar .tab-button {
    max-width: 8.2rem;
    line-height: 1.2;
    white-space: normal;
  }

  [dir='ltr'] .dashboard-tabbar .tab-button span {
    max-width: 7rem;
    text-align: center;
    white-space: normal;
    font-size: 0.9rem;
    line-height: 1.2;
  }

  @media (max-width: 767px) {
    [dir='ltr'] .dashboard-tabbar .tab-button {
      max-width: 6.4rem;
      padding-inline: 0.8rem;
      font-size: 0.82rem;
      line-height: 1.1;
      min-height: 2.95rem;
    }

    [dir='ltr'] .dashboard-tabbar .tab-button span {
      max-width: 5.4rem;
      font-size: 0.82rem;
      line-height: 1.1;
    }
  }

  .dashboard-tabbar .tab-button:hover {
    color: hsl(var(--bc));
    background: rgba(76, 110, 245, 0.12);
    box-shadow: 0 12px 26px rgba(76, 110, 245, 0.2);
    transform: translateY(-1px);
  }

  .home-welcome-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: clamp(10rem, 18vh, 16rem);
    width: min(100%, 40rem);
    margin-inline: auto;
    text-align: center;
  }

  .home-welcome-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    text-align: center;
    width: 100%;
    max-width: 32rem;
    margin-inline: auto;
  }

  .home-welcome-content p {
    line-height: 1.7;
  }

  .home-main-tabbar .tab-buttons.tab-buttons-horizontal {
    justify-content: center;
  }

  .home-main-tabbar .tab-buttons {
    justify-content: center;
    gap: clamp(0.8rem, 3vw, 1.4rem);
    width: auto;
    max-width: none;
    margin-inline: auto;
  }

  .home-main-tabbar .tab-button {
    transition: background-color 0.25s ease, color 0.25s ease, box-shadow 0.25s ease, transform 0.25s ease;
    border-radius: 999px;
    padding-inline: clamp(1.2rem, 3vw, 1.8rem);
    padding-block: clamp(0.6rem, 2vw, 0.9rem);
  }

  .home-main-tabbar .tab-button:hover,
  .home-main-tabbar .tab-button:focus-visible {
    background-color: rgba(76, 110, 245, 0.12);
    box-shadow: 0 12px 24px -16px rgba(76, 110, 245, 0.35);
    transform: translateY(-2px);
    color: inherit;
  }

  .dashboard-tabbar .tab-button.active {
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.92), rgba(90, 141, 255, 0.88));
    color: #fff;
    box-shadow: 0 20px 40px rgba(76, 110, 245, 0.28);
  }

  @media (min-width: 1536px) {
    .dashboard-tabbar {
      max-width: min(100%, 78rem);
    }
  }

  @media (min-width: 1024px) {
    .dashboard-tabbar {
      max-width: min(100%, 72rem);
      padding: 1.25rem 1.5rem;
      border-radius: 2.25rem;
    }

    .dashboard-tabbar .tab-buttons {
      padding: 0.85rem 1.1rem;
      gap: 1rem;
    }

    .dashboard-tabbar .tab-button {
      font-size: 1.05rem;
      padding-inline: 1.75rem;
      padding-block: 0.9rem;
    }
  }

  :where(html.dark, body.dark) .dashboard-tabbar {
    background: linear-gradient(135deg, rgba(26, 35, 62, 0.92), rgba(18, 28, 52, 0.88));
    border-color: rgba(63, 93, 245, 0.32);
    box-shadow: 0 26px 52px rgba(3, 8, 26, 0.58);
  }

  :where(html.dark, body.dark) .dashboard-tabbar .tab-buttons {
    background: linear-gradient(135deg, rgba(32, 47, 82, 0.88), rgba(26, 39, 70, 0.82));
    border-color: rgba(99, 102, 241, 0.22);
    box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.18), 0 14px 28px rgba(3, 8, 26, 0.6);
  }

  :where(html.dark, body.dark) .dashboard-tabbar .tab-button {
    color: rgba(226, 232, 240, 0.85);
  }

  :where(html.dark, body.dark) .dashboard-tabbar .tab-button:hover {
    background: rgba(59, 130, 246, 0.2);
    color: #f8fafc;
    box-shadow: 0 16px 32px rgba(59, 130, 246, 0.28);
  }

  :where(html.dark, body.dark) .home-main-tabbar .tab-button:hover,
  :where(html.dark, body.dark) .home-main-tabbar .tab-button:focus-visible {
    background-color: rgba(118, 136, 255, 0.18);
    box-shadow: 0 14px 24px -16px rgba(118, 136, 255, 0.45);
  }

  :where(html.dark, body.dark) .dashboard-tabbar .tab-button.active {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.92), rgba(99, 102, 241, 0.88));
    box-shadow: 0 24px 46px rgba(37, 99, 235, 0.32);
  }

  .tab-section-header {
    @apply flex flex-col items-center justify-center gap-2 text-center mb-6;
  }

  .tab-section-title {
    @apply text-2xl sm:text-3xl font-bold tracking-tight text-base-content;
  }

  :where(html.dark, body.dark) .tab-section-title {
    color: rgba(226, 232, 240, 0.95);
  }

  .tab-section-toolbar {
    @apply flex flex-wrap items-center justify-center gap-2 mb-4;
    width: 100%;
  }

  @media (min-width: 1024px) {
    .tab-section-toolbar {
      justify-content: space-between;
    }
  }

  :is(.customer-table-wrapper, .technician-table-wrapper) {
    @apply mt-4;
    position: relative;
    border-radius: 1.75rem;
    border: 1px solid rgba(148, 163, 255, 0.32);
    background: linear-gradient(140deg, rgba(248, 250, 255, 0.96) 0%, rgba(236, 242, 255, 0.92) 48%, rgba(225, 233, 255, 0.9) 100%);
    box-shadow: 0 28px 60px rgba(15, 23, 42, 0.16);
    padding: 0;
    /* allow content (like action buttons) to render fully */
    overflow: visible;
    isolation: isolate;
    backdrop-filter: blur(18px);
  }

  /* Remove decorative overlay to avoid visual overlap with table cells */
  :is(.customer-table-wrapper, .technician-table-wrapper)::before {
    content: none !important;
    display: none !important;
  }

  :is(.customer-table, .technician-table) {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.97rem;
    color: #1f2937;
    background: #ffffff;
    position: relative;
    z-index: 1;
  }

  /* Center customers table container and constrain width a bit */
  .customer-table-wrapper {
    width: min(100%, 1100px);
    margin-inline: auto;
  }

  /* Slightly smaller text and padding for customers table to better fit page width */
  .customer-table { font-size: 0.92rem; }
  .customer-table thead th { padding: 0.9rem 1.2rem; }
  .customer-table tbody td { padding: 0.85rem 1.2rem; }

  :is(.customer-table, .technician-table) thead th {
    background: linear-gradient(135deg, rgba(226, 232, 255, 0.92), rgba(210, 220, 255, 0.86));
    color: #1e293b;
    font-weight: 700;
    padding: 1.05rem 1.35rem;
    border: 1px solid rgba(162, 178, 255, 0.35);
    text-align: center;
    letter-spacing: 0.01em;
    box-shadow: inset 0 -1px 0 rgba(148, 163, 255, 0.38);
  }

  :is(.customer-table, .technician-table) tbody td {
    padding: 1rem 1.35rem;
    border: 1px solid rgba(209, 217, 255, 0.4);
    background: #ffffff;
    color: #1f2937;
    font-weight: 500;
  }

  [dir='rtl'] :is(.customer-table, .technician-table) thead th:first-child,
  [dir='rtl'] :is(.customer-table, .technician-table) tbody tr:last-child td:first-child {
    border-top-right-radius: 1.25rem;
    border-bottom-right-radius: 1.25rem;
  }

  [dir='rtl'] :is(.customer-table, .technician-table) thead th:last-child,
  [dir='rtl'] :is(.customer-table, .technician-table) tbody tr:last-child td:last-child {
    border-top-left-radius: 1.25rem;
    border-bottom-left-radius: 1.25rem;
  }

  [dir='ltr'] :is(.customer-table, .technician-table) thead th:first-child,
  [dir='ltr'] :is(.customer-table, .technician-table) tbody tr:last-child td:first-child {
    border-top-left-radius: 1.25rem;
    border-bottom-left-radius: 1.25rem;
  }

  [dir='ltr'] :is(.customer-table, .technician-table) thead th:last-child,
  [dir='ltr'] :is(.customer-table, .technician-table) tbody tr:last-child td:last-child {
    border-top-right-radius: 1.25rem;
    border-bottom-right-radius: 1.25rem;
  }

  :is(.customer-table, .technician-table) tbody td.table-notes-cell {
    line-height: 1.6;
    white-space: normal;
  }

  :is(.customer-table-row-editing, .technician-table-row-editing) td {
    background: rgba(226, 232, 255, 0.7);
    border-color: rgba(162, 186, 255, 0.55);
    box-shadow: inset 0 0 0 1px rgba(148, 178, 255, 0.35);
  }

  .technician-status-badge {
    display: inline-flex !important;
    align-items: center;
    gap: 0.35rem;
    padding: 0.3rem 0.85rem;
    border-radius: 999px;
    font-weight: 600;
    font-size: 0.8rem;
    letter-spacing: 0.02em;
    white-space: nowrap;
    border: 1px solid var(--tech-status-border, rgba(148, 163, 184, 0.45));
    color: var(--tech-status-color, #1f2d52);
    background: var(--tech-status-background, rgba(228, 233, 255, 0.92));
    box-shadow:
      var(--tech-status-shadow, 0 8px 18px rgba(15, 23, 42, 0.12)),
      inset 0 0 16px var(--tech-status-glow, rgba(59, 130, 246, 0.15));
    transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, color 0.2s ease;
  }

  .technician-status-badge:hover,
  .technician-status-badge:focus-visible {
    box-shadow:
      0 16px 30px rgba(59, 130, 246, 0.32),
      inset 0 0 18px var(--tech-status-glow, rgba(59, 130, 246, 0.2));
    transform: translateY(-1px);
  }

  .technician-status-badge__text {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
  }

  .technician-status-badge--available {
    --tech-status-background: linear-gradient(135deg, rgba(34, 197, 94, 0.92), rgba(14, 165, 233, 0.6));
    --tech-status-border: rgba(13, 148, 136, 0.55);
    --tech-status-color: #f8fafc;
    --tech-status-shadow: 0 12px 24px rgba(13, 148, 136, 0.28);
    --tech-status-glow: rgba(56, 189, 248, 0.22);
  }

  .technician-status-badge--busy {
    --tech-status-background: linear-gradient(135deg, rgba(248, 113, 113, 0.92), rgba(239, 68, 68, 0.88));
    --tech-status-border: rgba(220, 38, 38, 0.58);
    --tech-status-color: #fef2f2;
    --tech-status-shadow: 0 12px 24px rgba(220, 38, 38, 0.28);
    --tech-status-glow: rgba(248, 113, 113, 0.24);
  }

  :where(html.dark, body.dark) .technician-status-badge {
    border-color: rgba(96, 165, 250, 0.26);
    box-shadow:
      0 12px 22px rgba(8, 15, 35, 0.45),
      inset 0 0 18px var(--tech-status-glow, rgba(59, 130, 246, 0.22));
  }

  :where(html.dark, body.dark) .technician-status-badge--available {
    --tech-status-background: linear-gradient(135deg, rgba(16, 185, 129, 0.35), rgba(34, 197, 94, 0.32));
    --tech-status-border: rgba(16, 185, 129, 0.48);
    --tech-status-color: rgba(226, 252, 239, 0.96);
    --tech-status-shadow: 0 14px 26px rgba(13, 148, 136, 0.42);
    --tech-status-glow: rgba(56, 189, 248, 0.24);
  }

  :where(html.dark, body.dark) .technician-status-badge--busy {
    --tech-status-background: linear-gradient(135deg, rgba(239, 68, 68, 0.38), rgba(220, 38, 38, 0.4));
    --tech-status-border: rgba(239, 68, 68, 0.6);
    --tech-status-color: rgba(254, 226, 226, 0.96);
    --tech-status-shadow: 0 14px 26px rgba(248, 113, 113, 0.46);
    --tech-status-glow: rgba(248, 113, 113, 0.28);
  }

  :is(.customer-action-btn, .technician-action-btn, .maintenance-action-btn) {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.42rem 0.98rem;
    border-radius: 999px;
    font-size: 0.82rem;
    font-weight: 600;
    letter-spacing: 0.01em;
    border: 1px solid rgba(191, 210, 255, 0.55);
    color: #1d4ed8;
    background: linear-gradient(135deg, rgba(226, 239, 255, 0.9), rgba(203, 222, 255, 0.85));
    transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  }

  :is(.customer-action-btn, .technician-action-btn, .maintenance-action-btn):hover,
  :is(.customer-action-btn, .technician-action-btn, .maintenance-action-btn):focus-visible {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.92), rgba(96, 165, 250, 0.9));
    color: #f8fafc;
    border-color: rgba(140, 172, 255, 0.55);
    box-shadow: 0 16px 32px rgba(59, 130, 246, 0.28);
    transform: translateY(-1px);
  }

  :is(.customer-action-btn--delete, .technician-action-btn--delete, .maintenance-action-btn--delete) {
    background: linear-gradient(135deg, rgba(254, 226, 226, 0.92), rgba(254, 215, 215, 0.88));
    border-color: rgba(254, 178, 178, 0.6);
    color: #dc2626;
  }

  :is(.customer-action-btn--delete, .technician-action-btn--delete, .maintenance-action-btn--delete):hover,
  :is(.customer-action-btn--delete, .technician-action-btn--delete, .maintenance-action-btn--delete):focus-visible {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.96), rgba(220, 38, 38, 0.92));
    border-color: rgba(248, 113, 113, 0.7);
    color: #ffffff;
    box-shadow: 0 18px 36px rgba(239, 68, 68, 0.28);
  }

  :is(.customer-table, .technician-table) a {
    color: #2563eb;
    font-weight: 600;
    text-decoration: none;
  }

  :is(.customer-table, .technician-table) a:hover,
  :is(.customer-table, .technician-table) a:focus-visible {
    color: #1d4ed8;
    text-decoration: underline;
  }

  :is(.customer-table, .technician-table) .table-actions-head,
  :is(.customer-table, .technician-table) .table-actions-cell {
    width: 12rem;
    min-width: 12rem;
    text-align: center;
  }

  :is(.customer-table):not(.maintenance-table) thead th:first-child,
  :is(.customer-table):not(.maintenance-table) tbody td:first-child {
    width: 20rem;
    min-width: 20rem;
  }

  .maintenance-table thead th:first-child,
  .maintenance-table tbody td:first-child {
    width: auto;
    min-width: initial;
  }

  :is(.customer-table, .technician-table) .table-actions-cell .table-action-buttons {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: nowrap;
  }

  :is(.customer-table, .technician-table) .table-notes-head,
  :is(.customer-table, .technician-table) tbody .table-notes-cell {
    width: 38%;
    min-width: 18rem;
    text-align: center;
  }

  :is(.customer-table, .technician-table) tbody .table-notes-cell {
    text-align: center;
    vertical-align: middle;
  }

  /* Customer table: adjust columns to give company more room and keep it on one line */
  .customer-table thead th:nth-child(1),
  .customer-table tbody td:nth-child(1) {
    width: 12rem;
    min-width: 12rem;
  }

  .customer-table thead th:nth-child(3),
  .customer-table tbody td:nth-child(3) {
    width: auto;
    min-width: 22rem;
    white-space: nowrap;
  }

  .customer-table .table-notes-head,
  .customer-table tbody .table-notes-cell {
    width: 32%;
    min-width: 14rem;
  }

  .technician-table thead th:nth-child(1),
  .technician-table tbody td:nth-child(1) {
    width: 25%;
    min-width: 12rem;
  }

  .technician-table thead th:nth-child(2),
  .technician-table tbody td:nth-child(2) {
    min-width: 9rem;
  }

  .technician-table thead th:nth-child(3),
  .technician-table tbody td:nth-child(3) {
    min-width: 9rem;
  }

  .technician-table thead th:nth-child(4),
  .technician-table tbody td:nth-child(4) {
    min-width: 9rem;
  }

  .technician-table thead th:nth-child(5),
  .technician-table tbody td:nth-child(5) {
    min-width: 13rem;
  }

  .technician-table thead th:nth-child(6),
  .technician-table tbody td:nth-child(6) {
    min-width: 6rem;
  }

  .technician-table .table-notes-head,
  .technician-table tbody .table-notes-cell {
    width: 18%;
    min-width: 13rem;
  }

  .technician-table .table-actions-head,
  .technician-table .table-actions-cell {
    width: 6%;
    min-width: 6rem;
  }

  :where(html):not(.dark):not(.dark-mode) :is(.customer-table, .technician-table),
  :where(body):not(.dark):not(.dark-mode) :is(.customer-table, .technician-table) {
    color: #1f2937;
  }

  :where(html):not(.dark):not(.dark-mode) :is(.customer-table, .technician-table) thead th,
  :where(body):not(.dark):not(.dark-mode) :is(.customer-table, .technician-table) thead th {
    color: #1e293b;
  }

  :where(html):not(.dark):not(.dark-mode) :is(.customer-table, .technician-table) tbody td,
  :where(body):not(.dark):not(.dark-mode) :is(.customer-table, .technician-table) tbody td {
    color: #1f2937;
  }

  :where(html):not(.dark):not(.dark-mode) :is(.customer-table-row-editing, .technician-table-row-editing) td,
  :where(body):not(.dark):not(.dark-mode) :is(.customer-table-row-editing, .technician-table-row-editing) td {
    color: #1f2937;
  }

  :where(html.dark, body.dark) :is(.customer-table-wrapper, .technician-table-wrapper)::before {
    inset: -14% -18% 48% -20%;
    background: radial-gradient(circle at top left, rgba(82, 124, 240, 0.4), rgba(32, 58, 142, 0.16) 48%, transparent 76%);
    opacity: 0.7;
    z-index: 0;
  }

  :where(html.dark, body.dark) :is(.customer-table, .technician-table) {
    background: rgba(5, 10, 24, 0.98);
    color: #ffffff;
  }

  :where(html.dark, body.dark) :is(.customer-table, .technician-table) thead th {
    background: rgba(8, 16, 34, 0.98);
    border-color: rgba(62, 90, 170, 0.32);
    color: #ffffff;
  }

  :where(html.dark, body.dark) :is(.customer-table, .technician-table) tbody td {
    background: rgba(5, 10, 24, 0.98);
    border-color: rgba(60, 88, 168, 0.24);
    color: #ffffff;
  }

  :where(html.dark, body.dark) :is(.customer-table-row-editing, .technician-table-row-editing) td {
    background: rgba(10, 18, 38, 0.98);
    border-color: rgba(118, 156, 246, 0.4);
    box-shadow: inset 0 0 0 1px rgba(134, 176, 248, 0.3);
  }

  :where(html.dark, body.dark) :is(.customer-action-btn, .technician-action-btn, .maintenance-action-btn) {
    background: linear-gradient(135deg, rgba(54, 100, 226, 0.4), rgba(92, 136, 248, 0.44));
    border-color: rgba(132, 166, 244, 0.28);
    color: rgba(236, 244, 255, 0.96);
  }

  :where(html.dark, body.dark) :is(.customer-action-btn, .technician-action-btn, .maintenance-action-btn):hover,
  :where(html.dark, body.dark) :is(.customer-action-btn, .technician-action-btn, .maintenance-action-btn):focus-visible {
    background: linear-gradient(135deg, rgba(60, 118, 246, 0.92), rgba(108, 154, 255, 0.9));
    border-color: rgba(156, 188, 255, 0.46);
  }

  :where(html.dark, body.dark) :is(.customer-action-btn--delete, .technician-action-btn--delete, .maintenance-action-btn--delete) {
    background: linear-gradient(135deg, rgba(240, 86, 120, 0.38), rgba(220, 64, 132, 0.38));
    border-color: rgba(244, 132, 160, 0.34);
  }

  :where(html.dark, body.dark) :is(.customer-action-btn--delete, .technician-action-btn--delete, .maintenance-action-btn--delete):hover,
  :where(html.dark, body.dark) :is(.customer-action-btn--delete, .technician-action-btn--delete, .maintenance-action-btn--delete):focus-visible {
    background: linear-gradient(135deg, rgba(238, 74, 104, 0.94), rgba(226, 66, 142, 0.92));
    border-color: rgba(250, 150, 176, 0.5);
  }

  .equipment-grid {
    display: grid;
    gap: 22px;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    justify-content: center;
  }

  @media (max-width: 640px) {
    .equipment-grid {
      grid-template-columns: minmax(0, 1fr);
      justify-content: stretch;
    }
  }

  .equipment-filters {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 18px;
  }

  .equipment-search-row {
    width: 100%;
    display: flex;
    justify-content: center;
  }

  .equipment-search-row #search-equipment {
    width: clamp(260px, 45vw, 640px);
    max-width: 640px;
    flex: none;
    border-radius: 999px;
    border: 1px solid rgba(148, 163, 255, 0.3);
    padding-inline: 18px;
    padding-block: 0;
    min-height: 3.1rem;
    height: 3.1rem;
    line-height: 3.1rem;
    box-shadow: 0 10px 22px rgba(59, 91, 220, 0.08);
  }

  :where(html.dark, body.dark) .equipment-search-row #search-equipment {
    border-color: rgba(59, 130, 246, 0.35);
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.85));
    color: rgba(226, 232, 240, 0.95);
    line-height: 3.1rem;
    box-shadow: 0 12px 26px rgba(15, 23, 42, 0.45);
  }

  .equipment-filter-controls {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 14px;
    margin-inline: auto;
  }

  .equipment-selection-banner[hidden] {
    display: none !important;
  }

  .equipment-selection-banner {
    border-radius: 16px;
    border: 1px solid rgba(37, 99, 235, 0.35);
    background: linear-gradient(135deg, rgba(239, 246, 255, 0.95), rgba(219, 234, 254, 0.92));
    padding: 1.1rem 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 18px 38px rgba(59, 130, 246, 0.08);
  }

  .equipment-selection-banner__content {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
  }

  .equipment-selection-banner__copy {
    flex: 1 1 260px;
    max-width: 780px;
  }

  .equipment-selection-banner__title {
    display: block;
    margin-bottom: 0.25rem;
    font-size: 1rem;
    font-weight: 700;
    color: #1d4ed8;
  }

  .equipment-selection-banner__hint {
    margin: 0;
    color: #1f2937;
    font-size: 0.95rem;
    line-height: 1.6;
  }

  .equipment-selection-banner__actions {
    display: flex;
    flex: 0 0 auto;
    gap: 0.5rem;
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-selection-banner {
    border-color: rgba(37, 99, 235, 0.55);
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.94));
    box-shadow: 0 18px 38px rgba(15, 23, 42, 0.35);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-selection-banner__title {
    color: #93c5fd;
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-selection-banner__hint {
    color: rgba(226, 232, 240, 0.88);
  }

  .equipment-filters .form-select,
  .equipment-filters .enhanced-select {
    max-width: 220px;
    width: 100%;
    flex: 0 0 220px;
  }

  .equipment-filters .form-select {
    padding-inline: 1.25rem 2.75rem;
    font-size: 0.95rem;
    height: 3.1rem;
  }

  .equipment-filters .enhanced-select__trigger {
    font-size: 0.95rem;
    height: 3.1rem;
    line-height: 3.1rem;
  }

  .equipment-status-field {
    width: 25%;
    max-width: 220px;
    min-width: 160px;
  }

  .equipment-status-field .form-label {
    margin-bottom: 0.25rem;
  }

  .equipment-status-select {
    min-height: 2.75rem;
    height: 2.75rem;
    line-height: 2.75rem;
    padding-inline: 1rem 2.1rem;
    padding-block: 0;
  }

  :where(html.dark, body.dark) .equipment-status-select {
    padding-inline: 1rem 2.1rem;
  }

  :where(html[dir='rtl']) .equipment-status-select {
    padding-inline: 2.1rem 1rem;
    background-position: right 1.1rem center;
  }

  :where(html.dark, body.dark) .equipment-filters .form-select {
    padding-inline: 1.25rem 2.75rem;
  }

  :where(html[dir='rtl']) .equipment-filters .form-select {
    padding-inline: 2.75rem 1.25rem;
    background-position: right 1.35rem center;
  }

  @media (min-width: 1024px) {
    .equipment-filter-controls {
      flex-wrap: nowrap;
    }

    .equipment-filter-controls > * {
      flex: 0 0 220px;
      max-width: 220px;
    }

    .equipment-status-field {
      width: 220px;
    }
  }

  .equipment-card {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 14px;
    padding: 26px 22px;
    border-radius: 24px;
    border: 1px solid rgba(148, 163, 255, 0.22);
    background: linear-gradient(150deg, rgba(248, 250, 255, 0.95) 0%, rgba(236, 242, 255, 0.9) 60%, rgba(219, 233, 255, 0.88) 100%);
    box-shadow: 0 24px 44px rgba(15, 23, 42, 0.15);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    max-width: 360px;
    width: 100%;
    min-height: 520px;
  }

  .equipment-card:hover,
  .equipment-card:focus-within {
    transform: translateY(-2px);
    box-shadow: 0 30px 56px rgba(59, 91, 220, 0.18);
  }

  .equipment-card__header {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 18px;
    width: 100%;
  }

  .equipment-card__status-block {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 6px;
    align-self: flex-start;
    width: auto;
  }

  .equipment-card__status-text {
    font-size: 0.85rem;
    font-weight: 600;
    color: rgba(17, 24, 39, 0.72);
  }

  .equipment-card__availability {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    margin-top: 2px;
    padding: 0.25rem 0.75rem;
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 600;
    border: 1px solid transparent;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
    transition: all 0.2s ease;
  }

  .equipment-card__availability--available {
    background: rgba(34, 197, 94, 0.18);
    color: rgba(16, 185, 129, 0.96);
    box-shadow:
      inset 0 0 0 1px rgba(16, 185, 129, 0.35),
      0 6px 18px rgba(16, 185, 129, 0.28),
      0 0 18px rgba(16, 185, 129, 0.35);
  }

  .equipment-card__availability--reserved {
    background: rgba(248, 113, 113, 0.2);
    color: rgba(220, 38, 38, 0.92);
    box-shadow:
      inset 0 0 0 1px rgba(248, 113, 113, 0.35),
      0 6px 18px rgba(248, 113, 113, 0.25),
      0 0 18px rgba(220, 38, 38, 0.32);
  }

  .equipment-card__availability--maintenance {
    background: rgba(249, 115, 22, 0.2);
    color: rgba(194, 65, 12, 0.9);
    box-shadow:
      inset 0 0 0 1px rgba(250, 204, 21, 0.35),
      0 6px 18px rgba(249, 115, 22, 0.25),
      0 0 18px rgba(249, 115, 22, 0.3);
  }

  .equipment-card__availability--retired {
    background: rgba(148, 163, 184, 0.2);
    color: rgba(71, 85, 105, 0.9);
    box-shadow:
      inset 0 0 0 1px rgba(148, 163, 184, 0.35),
      0 6px 18px rgba(148, 163, 184, 0.22),
      0 0 18px rgba(100, 116, 139, 0.3);
  }

  .equipment-card__availability--unavailable {
    background: rgba(148, 163, 184, 0.18);
    color: rgba(71, 85, 105, 0.9);
    box-shadow:
      inset 0 0 0 1px rgba(148, 163, 184, 0.35),
      0 6px 18px rgba(148, 163, 184, 0.22),
      0 0 18px rgba(100, 116, 139, 0.28);
  }

  .equipment-card__media {
    width: 160px;
    height: 160px;
    border-radius: 28px;
    background: linear-gradient(135deg, rgba(226, 232, 255, 0.82), rgba(203, 213, 225, 0.65));
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6), 0 16px 28px rgba(15, 23, 42, 0.16);
  }

  .equipment-card__media-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    width: 100%;
  }

  .equipment-card__media img {
    width: 100%;
    height: auto;
    object-fit: contain;
  }

  [dir='rtl'] .equipment-card__status-block {
    text-align: center;
  }

  [dir='rtl'] .equipment-card__header {
    direction: ltr;
  }

  [dir='rtl'] .equipment-card__header > * {
    direction: rtl;
  }

  .equipment-card__placeholder {
    font-size: 2rem;
    color: rgba(37, 99, 235, 0.75);
  }

  .equipment-card__details {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    text-align: center;
    width: 100%;
    max-width: 260px;
  }

  .equipment-card__info-row {
    display: flex;
    align-items: stretch;
    justify-content: center;
    column-gap: 16px;
    flex-wrap: nowrap;
    width: 100%;
    max-width: 260px;
  }

  .equipment-card__info-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    padding: 0 12px;
    position: relative;
    min-width: 0;
  }

  .equipment-card__info-item:not(:first-child)::before {
    content: "";
    position: absolute;
    top: 50%;
    left: -6px;
    transform: translateY(-50%);
    width: 1px;
    height: 22px;
    background: rgba(148, 163, 255, 0.45);
  }

  .equipment-card__body {
    display: flex;
    flex-direction: column;
    gap: 14px;
    align-items: center;
    justify-content: center;
    flex: 1 1 auto;
    width: 100%;
  }

  .equipment-card__description {
    display: flex;
    flex-direction: column;
    gap: 4px;
    align-items: center;
    text-align: center;
    width: 100%;
    max-width: 240px;
  }

  [dir='rtl'] .equipment-card__description {
    text-align: center;
  }

  .equipment-card__label {
    display: block;
    font-size: 0.65rem;
    font-weight: 600;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: rgba(100, 116, 139, 0.75);
  }

  .equipment-card__label--status {
    font-size: 0.55rem;
    letter-spacing: 0.14em;
    text-align: center;
    width: auto;
  }

  .equipment-card__title {
    margin: 0;
    font-weight: 700;
    font-size: 0.95rem;
    color: #1e293b;
    line-height: 1.35;
  }

  .equipment-card__category,
  .equipment-card__alias {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3px;
    padding: 4px 6px;
    border-radius: 10px;
    background: rgba(248, 250, 255, 0.85);
    border: 1px solid rgba(208, 220, 255, 0.4);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
    min-width: 0;
  }

  .equipment-card__categories {
    display: flex;
    gap: 4px;
    flex-wrap: wrap;
    justify-content: center;
    width: 100%;
  }

  .equipment-card__category {
    flex: 0 1 auto;
    max-width: none;
    padding: 4px 6px;
  }

  .equipment-card__alias {
    width: 100%;
  }

  .equipment-tag {
    border-radius: 999px;
    padding-inline: 0.75rem;
    padding-block: 0.35rem;
    font-weight: 600;
    font-size: 0.7rem;
    border: 1px solid rgba(148, 163, 255, 0.4);
    color: #1d4ed8;
    background: rgba(226, 232, 255, 0.65);
    box-shadow: 0 8px 16px rgba(59, 91, 220, 0.1);
  }

  .equipment-card__detail-label {
    font-size: 0.62rem;
    font-weight: 600;
    color: rgba(100, 116, 139, 0.75);
    text-transform: uppercase;
    white-space: nowrap;
  }

  .equipment-card__detail-value {
    font-size: 0.82rem;
    font-weight: 600;
    color: #1f2937;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .equipment-card__actions {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
  }

  .equipment-card__info-row--center {
    justify-content: center;
  }

  .equipment-card__info-item--stacked {
    align-items: center;
    text-align: center;
  }

  .equipment-card__actions--center {
    justify-content: center;
  }

  .equipment-card__actions--center .equipment-card__action-btn {
    margin-inline: auto;
  }

  .equipment-card[data-equipment-card="true"] {
    cursor: pointer;
  }

  .equipment-card[data-equipment-card="true"]:focus {
    outline: none;
  }

  .equipment-card[data-equipment-card="true"]:focus-visible {
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card {
    border-color: rgba(59, 130, 246, 0.28);
    background: radial-gradient(circle at 20% 0%, rgba(37, 99, 235, 0.18), transparent 55%),
      radial-gradient(circle at 80% 0%, rgba(14, 165, 233, 0.12), transparent 60%),
      linear-gradient(190deg, rgba(9, 15, 35, 0.94), rgba(8, 16, 44, 0.92) 55%, rgba(6, 12, 32, 0.92));
    box-shadow: 0 28px 60px rgba(8, 15, 38, 0.55);
    color: rgba(226, 232, 240, 0.96);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__status-block {
    align-items: center;
    text-align: center;
    align-self: flex-start;
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__status-text {
    color: rgba(203, 213, 225, 0.8);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__availability {
    border-color: transparent;
    box-shadow: inset 0 0 0 1px rgba(100, 116, 139, 0.25);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__availability--available {
    background: rgba(22, 101, 52, 0.45);
    color: rgba(209, 250, 229, 0.94);
    box-shadow:
      inset 0 0 0 1px rgba(16, 185, 129, 0.45),
      0 8px 22px rgba(16, 185, 129, 0.32),
      0 0 18px rgba(16, 185, 129, 0.38);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__availability--reserved {
    background: rgba(185, 28, 28, 0.5);
    color: rgba(254, 226, 226, 0.95);
    box-shadow:
      inset 0 0 0 1px rgba(248, 113, 113, 0.45),
      0 8px 22px rgba(248, 113, 113, 0.35),
      0 0 18px rgba(248, 113, 113, 0.45);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__availability--maintenance {
    background: rgba(202, 138, 4, 0.55);
    color: rgba(255, 237, 213, 0.95);
    box-shadow:
      inset 0 0 0 1px rgba(250, 204, 21, 0.45),
      0 8px 22px rgba(245, 158, 11, 0.35),
      0 0 18px rgba(250, 204, 21, 0.45);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__availability--retired,
  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__availability--unavailable {
    background: rgba(71, 85, 105, 0.45);
    color: rgba(226, 232, 240, 0.9);
    box-shadow:
      inset 0 0 0 1px rgba(148, 163, 184, 0.45),
      0 8px 22px rgba(148, 163, 184, 0.35),
      0 0 18px rgba(148, 163, 184, 0.45);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__media {
    background: linear-gradient(140deg, rgba(25, 33, 64, 0.85), rgba(46, 60, 102, 0.72));
    box-shadow: inset 0 1px 0 rgba(59, 130, 246, 0.25), 0 20px 40px rgba(5, 10, 30, 0.52);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__label,
  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__detail-label {
    color: rgba(148, 163, 184, 0.72);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__label--status {
    color: rgba(165, 180, 203, 0.76);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__title {
    color: rgba(248, 250, 255, 0.96);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__detail-value {
    color: rgba(241, 245, 249, 0.95);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__info-item:not(:first-child)::before {
    background: rgba(148, 163, 184, 0.35);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__category,
  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__alias {
    background: rgba(17, 24, 48, 0.82);
    border-color: rgba(59, 130, 246, 0.38);
    box-shadow: inset 0 0 0 1px rgba(37, 99, 235, 0.18), 0 16px 30px rgba(8, 15, 38, 0.4);
    color: rgba(226, 232, 240, 0.92);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__category .equipment-card__detail-label,
  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__alias .equipment-card__detail-label {
    color: rgba(148, 163, 184, 0.68);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__actions {
    justify-content: center;
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__action-btn--edit {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.95), rgba(217, 119, 6, 0.92));
    color: #0f172a;
    box-shadow: 0 18px 38px rgba(245, 158, 11, 0.48);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__action-btn--delete {
    background: linear-gradient(135deg, rgba(248, 113, 113, 0.95), rgba(239, 68, 68, 0.9));
    color: rgba(255, 241, 241, 0.95);
    box-shadow: 0 18px 36px rgba(239, 68, 68, 0.5);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__action-btn--edit:hover {
    box-shadow: 0 20px 42px rgba(245, 158, 11, 0.55);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-card__action-btn--delete:hover {
    box-shadow: 0 20px 42px rgba(239, 68, 68, 0.6);
  }

  .equipment-card__action-btn {
    border: none;
    border-radius: 999px;
    font-weight: 600;
    font-size: 0.78rem;
    padding: 0.45rem 1.1rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.25s ease, filter 0.2s ease;
    box-shadow: 0 10px 18px rgba(15, 23, 42, 0.12);
    background: linear-gradient(135deg, rgba(226, 232, 255, 0.92), rgba(203, 213, 225, 0.85));
    color: #1f2937;
    text-transform: none;
  }

  .equipment-card__action-btn:focus-visible {
    outline: 2px solid rgba(59, 130, 246, 0.45);
    outline-offset: 2px;
  }

  .equipment-card__action-btn--edit {
    color: #1f2937;
    background: linear-gradient(135deg, rgba(253, 224, 71, 0.94), rgba(250, 204, 21, 0.9));
    box-shadow: 0 14px 22px rgba(250, 204, 21, 0.32);
  }

  .equipment-card__action-btn--select {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(37, 99, 235, 0.9));
    color: #f8fafc;
    box-shadow: 0 14px 24px rgba(37, 99, 235, 0.35);
  }

  .equipment-card__action-btn--delete {
    background: linear-gradient(135deg, rgba(248, 113, 113, 0.95), rgba(239, 68, 68, 0.9));
    color: #fff7f7;
    box-shadow: 0 14px 22px rgba(239, 68, 68, 0.28);
  }

  .equipment-card__action-btn:hover {
    transform: translateY(-2px);
    filter: brightness(1.02);
  }

  .equipment-card__action-btn--edit:hover {
    box-shadow: 0 18px 26px rgba(250, 204, 21, 0.45);
  }

  .equipment-card__action-btn--select:hover {
    box-shadow:
      0 18px 28px rgba(37, 99, 235, 0.45),
      0 0 18px rgba(37, 99, 235, 0.35);
  }

  .equipment-card__action-btn--delete:hover {
    box-shadow:
      0 18px 26px rgba(239, 68, 68, 0.45),
      0 0 18px rgba(239, 68, 68, 0.5);
    filter: brightness(1.08);
  }

  .equipment-card__action-btn:active {
    transform: translateY(0);
    filter: brightness(0.97);
  }

  .equipment-card__action-btn--select[disabled] {
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.35), rgba(148, 163, 184, 0.3));
    color: rgba(59, 72, 99, 0.8);
    box-shadow: none;
    cursor: not-allowed;
    filter: none;
  }

  .equipment-card__selection-controls {
    display: grid;
    gap: 0.35rem;
    margin-bottom: 0.75rem;
    min-width: 140px;
  }

  .equipment-card__selection-label {
    font-weight: 600;
    font-size: 0.85rem;
    color: rgba(30, 41, 59, 0.85);
  }

  .equipment-card__quantity-select {
    border-radius: 10px;
    border: 1px solid rgba(148, 163, 184, 0.4);
    padding: 0.45rem 0.75rem;
    font-size: 0.9rem;
    font-weight: 600;
    min-width: 120px;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }

  .equipment-card__quantity-select:focus {
    outline: none;
    border-color: rgba(59, 130, 246, 0.55);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.18);
  }

  .equipment-card__quantity-select:disabled {
    background: rgba(241, 245, 249, 0.65);
    color: rgba(100, 116, 139, 0.85);
    cursor: not-allowed;
  }

  .equipment-card__selection-hint {
    font-size: 0.78rem;
    color: rgba(71, 85, 105, 0.85);
  }

  .equipment-details-header {
    position: relative;
    display: flex;
    flex-wrap: wrap;
    align-items: flex-start;
    justify-content: flex-start;
    align-content: flex-start;
    padding: clamp(1.25rem, 1.65vw + 1rem, 2.05rem) clamp(1.25rem, 2vw, 2.25rem);
    padding-inline-start: clamp(2.75rem, 5vw, 3.75rem);
    padding-inline-end: clamp(1.5rem, 3vw, 2.75rem);
    row-gap: clamp(0.75rem, 1.4vw, 1.5rem);
    column-gap: clamp(0.75rem, 1.2vw, 1.25rem);
    background: linear-gradient(135deg, hsl(var(--b2) / 0.92), hsl(var(--b1)));
    border-bottom: 1px solid hsl(var(--p) / 0.14);
  }

  html.dark .equipment-details-header,
  body.dark .equipment-details-header {
    background: linear-gradient(135deg, hsl(var(--b3) / 0.6), hsl(var(--b2) / 0.32));
    border-bottom-color: hsl(var(--p) / 0.3);
  }

  .equipment-details-header__title {
    margin: 0;
    font-weight: 700;
    color: hsl(var(--bc));
  }
  .equipment-details-header__close {
    position: absolute;
    top: clamp(0.6rem, 1.4vw, 1rem);
    left: clamp(0.95rem, 2.6vw, 1.6rem);
    right: auto;
    border-radius: 999px;
    padding: 0.5rem;
    opacity: 0.85;
    transition: transform 0.2s ease, opacity 0.2s ease;
  }

  [dir='ltr'] .equipment-details-header__close {
    left: auto;
    right: clamp(0.95rem, 2.6vw, 1.6rem);
  }

  .equipment-details-header__close:hover,
  .equipment-details-header__close:focus-visible {
    opacity: 1;
    transform: translateY(-1px);
  }

  .equipment-details-header__content {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: clamp(0.65rem, 1vw, 1rem);
    flex: 1 1 100%;
    width: min(100%, clamp(240px, 70vw, 360px));
    text-align: start;
  }

  .equipment-details-header__media {
    align-self: flex-start;
    width: clamp(120px, 45vw, 220px);
    height: clamp(120px, 45vw, 220px);
    max-width: 100%;
    border-radius: 22px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background: hsl(var(--b2) / 0.9);
    border: 1px solid hsl(var(--p) / 0.2);
    box-shadow: 0 18px 32px rgba(15, 23, 42, 0.18);
  }

  html.dark .equipment-details-header__media,
  body.dark .equipment-details-header__media {
    background: hsl(var(--b3) / 0.55);
    border-color: hsl(var(--p) / 0.28);
    box-shadow: 0 22px 36px rgba(4, 10, 25, 0.52);
  }

  .equipment-details-header__media.has-image {
    background: hsl(var(--b1) / 0.24);
    border-color: transparent;
  }

  html.dark .equipment-details-header__media.has-image,
  body.dark .equipment-details-header__media.has-image {
    background: hsl(var(--b3) / 0.38);
  }

  .equipment-details-header__media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .equipment-details-header__placeholder {
    font-size: clamp(2rem, 4vw, 2.6rem);
    color: hsl(var(--p));
  }

  @media (max-width: 768px) {
    .equipment-details-header {
      justify-content: flex-start;
      align-items: flex-start;
      padding-inline-start: clamp(2.25rem, 9vw, 3.25rem);
      padding-inline-end: clamp(1.25rem, 6vw, 2.5rem);
      row-gap: 1.25rem;
    }

    .equipment-details-header__content {
      align-items: flex-start;
      text-align: start;
      width: 100%;
    }

    .equipment-details-header__media {
      align-self: flex-start;
      width: clamp(110px, 60vw, 180px);
      height: clamp(110px, 60vw, 180px);
    }
  }

  .equipment-details-header__content > * {
    max-width: 100%;
  }

  .equipment-details-grid {
    display: grid;
    gap: clamp(1rem, 1.6vw, 1.75rem);
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    margin-bottom: clamp(1.6rem, 2vw, 2.3rem);
  }

  .equipment-details-field {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
    padding: clamp(0.75rem, 1vw, 1rem);
    border-radius: 0.9rem;
    background: hsl(var(--b1));
    border: 1px solid rgba(76, 110, 245, 0.25);
    box-shadow: var(--shadow-xs, 0 8px 18px rgba(15, 23, 42, 0.05));
    width: 100%;
  }

  html.dark .equipment-details-field,
  body.dark .equipment-details-field {
    background: rgba(15, 23, 42, 0.92);
    border-color: rgba(99, 102, 241, 0.45);
    box-shadow: 0 16px 32px rgba(4, 10, 25, 0.55);
  }

  .equipment-details-field label {
    font-weight: 600;
    color: hsl(var(--bc));
    letter-spacing: 0.01em;
    display: flex;
    align-items: center;
    gap: 0.45rem;
    white-space: normal;
    overflow-wrap: anywhere;
  }

  .equipment-details-field .form-control {
    border-radius: 0.75rem;
    border: 1px solid rgba(76, 110, 245, 0.25);
    background: hsl(var(--b1));
    color: hsl(var(--bc));
    box-shadow: none;
    min-height: 2.5rem;
    width: 100%;
    resize: vertical;
    overflow-wrap: anywhere;
    white-space: normal;
  }

  html.dark .equipment-details-field .form-control,
  body.dark .equipment-details-field .form-control {
    background: rgba(30, 41, 59, 0.85);
    border: 1px solid rgba(99, 102, 241, 0.45);
    color: rgba(226, 232, 240, 0.95);
  }

  @media (max-width: 640px) {
    .equipment-details-field {
      padding: 0.75rem;
    }

    .equipment-details-field label {
      white-space: normal;
      overflow-wrap: anywhere;
    }

    .equipment-details-field .form-control {
      flex: 1 1 100%;
      white-space: normal;
      overflow: auto;
    }
  }

  html.dark .equipment-details-field .form-control,
  body.dark .equipment-details-field .form-control {
    background: hsl(var(--b3) / 0.55);
    border: none;
    color: rgba(226, 232, 240, 0.94);
    box-shadow: none;
  }

  .equipment-details-form input[disabled] {
    background-color: transparent;
    border: none;
    color: hsl(var(--bc) / 0.55);
    opacity: 1;
  }

  html.dark .equipment-details-form input[disabled],
  body.dark .equipment-details-form input[disabled] {
    background-color: transparent;
    border: none;
    color: rgba(226, 232, 240, 0.65);
  }

  html.dark .equipment-details-header__placeholder,
  body.dark .equipment-details-header__placeholder {
    color: hsl(var(--p) / 0.8);
  }

  html.dark .equipment-details-field label,
  body.dark .equipment-details-field label {
    color: rgba(226, 232, 240, 0.9);
  }

  .equipment-details-form:not(.equipment-details-form--editing) .form-control {
    background: hsl(var(--b1) / 0.6);
    border: none;
    color: hsl(var(--bc) / 0.72);
    box-shadow: none;
  }

  html.dark .equipment-details-form:not(.equipment-details-form--editing) .form-control,
  body.dark .equipment-details-form:not(.equipment-details-form--editing) .form-control {
    background: transparent;
    border: none;
    color: rgba(226, 232, 240, 0.65);
    box-shadow: none;
  }

  .equipment-details-form--editing .form-control {
    background: hsl(var(--b1));
    border: 1px solid rgba(76, 110, 245, 0.45);
    color: hsl(var(--bc));
  }

  html.dark .equipment-details-form--editing .form-control,
  body.dark .equipment-details-form--editing .form-control {
    background: hsl(var(--b3) / 0.55);
    border: 1px solid rgba(99, 102, 241, 0.52);
    color: rgba(226, 232, 240, 0.94);
  }

  .equipment-details-form--editing .form-control:focus {
    border-color: hsl(var(--p));
    box-shadow: 0 0 0 3px hsl(var(--p) / 0.22);
    background: hsl(var(--b1));
  }

  html.dark .equipment-details-form--editing .form-control:focus,
  body.dark .equipment-details-form--editing .form-control:focus {
    border-color: hsl(var(--p));
    box-shadow: 0 0 0 3px hsl(var(--p) / 0.28);
    background: hsl(var(--b3) / 0.6);
  }

  .equipment-variants-section {
    margin-top: clamp(1.75rem, 2.4vw, 2.75rem);
    padding-top: clamp(1.1rem, 1.8vw, 2rem);
    border-top: 1px solid hsl(var(--p) / 0.12);
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .equipment-variants-section[hidden] {
    display: none !important;
  }

  html.dark .equipment-variants-section,
  body.dark .equipment-variants-section {
    border-top-color: hsl(var(--p) / 0.25);
  }

  .equipment-variants-section__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem;
  }

  .equipment-variants-section__title {
    margin: 0;
    font-weight: 700;
    font-size: 1rem;
    color: hsl(var(--bc));
  }

  html.dark .equipment-variants-section__title,
  body.dark .equipment-variants-section__title {
    color: rgba(226, 232, 240, 0.94);
  }

  .equipment-variants-count {
    font-size: 0.85rem;
    padding: 0.35rem 0.75rem;
    border-radius: 999px;
  }

  .equipment-variants-table-wrapper {
    border-radius: 1.25rem;
  }

  .equipment-variants-table thead th,
  .equipment-variants-table tbody td {
    text-align: center;
    vertical-align: middle;
  }

  .equipment-variants-table__row--current {
    background: hsl(var(--p) / 0.12);
  }

  html.dark .equipment-variants-table__row--current,
  body.dark .equipment-variants-table__row--current {
    background: hsl(var(--p) / 0.28);
  }

  .equipment-variants-current-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    margin-inline-start: 0.5rem;
    padding: 0.15rem 0.6rem;
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 600;
    background: hsl(var(--p) / 0.18);
    color: hsl(var(--p));
  }

  html.dark .equipment-variants-current-badge,
  body.dark .equipment-variants-current-badge {
    background: hsl(var(--p) / 0.32);
    color: rgba(191, 219, 254, 0.95);
  }

  .equipment-variants-table td .equipment-status-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.3rem 0.85rem;
    border-radius: 999px;
    font-weight: 600;
    font-size: 0.75rem;
    border: 1px solid transparent;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.45);
    transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
  }

  .equipment-variants-table td .equipment-status-badge--available {
    background: rgba(34, 197, 94, 0.18);
    color: rgba(16, 185, 129, 0.96);
    border-color: rgba(16, 185, 129, 0.35);
    box-shadow:
      inset 0 0 0 1px rgba(16, 185, 129, 0.35),
      0 6px 18px rgba(16, 185, 129, 0.25);
  }

  .equipment-variants-table td .equipment-status-badge--reserved {
    background: rgba(248, 113, 113, 0.18);
    color: rgba(220, 38, 38, 0.92);
    border-color: rgba(248, 113, 113, 0.35);
    box-shadow:
      inset 0 0 0 1px rgba(248, 113, 113, 0.35),
      0 6px 18px rgba(248, 113, 113, 0.25);
  }

  .equipment-variants-table td .equipment-status-badge--maintenance {
    background: rgba(249, 115, 22, 0.18);
    color: rgba(194, 65, 12, 0.9);
    border-color: rgba(249, 115, 22, 0.35);
    box-shadow:
      inset 0 0 0 1px rgba(249, 115, 22, 0.35),
      0 6px 18px rgba(249, 115, 22, 0.25);
  }

  .equipment-variants-table td .equipment-status-badge--retired {
    background: rgba(148, 163, 184, 0.18);
    color: rgba(71, 85, 105, 0.92);
    border-color: rgba(148, 163, 184, 0.35);
    box-shadow:
      inset 0 0 0 1px rgba(148, 163, 184, 0.35),
      0 6px 18px rgba(148, 163, 184, 0.22);
  }

  html.dark .equipment-variants-table td .equipment-status-badge--available {
    background: rgba(22, 101, 52, 0.45);
    color: rgba(209, 250, 229, 0.94);
    border-color: rgba(16, 185, 129, 0.45);
    box-shadow:
      inset 0 0 0 1px rgba(16, 185, 129, 0.45),
      0 8px 20px rgba(16, 185, 129, 0.32);
  }

  html.dark .equipment-variants-table td .equipment-status-badge--reserved {
    background: rgba(185, 28, 28, 0.5);
    color: rgba(254, 226, 226, 0.95);
    border-color: rgba(248, 113, 113, 0.45);
    box-shadow:
      inset 0 0 0 1px rgba(248, 113, 113, 0.45),
      0 8px 20px rgba(248, 113, 113, 0.35);
  }

  html.dark .equipment-variants-table td .equipment-status-badge--maintenance {
    background: rgba(202, 138, 4, 0.55);
    color: rgba(255, 237, 213, 0.95);
    border-color: rgba(250, 204, 21, 0.45);
    box-shadow:
      inset 0 0 0 1px rgba(250, 204, 21, 0.45),
      0 8px 20px rgba(245, 158, 11, 0.35);
  }

  html.dark .equipment-variants-table td .equipment-status-badge--retired {
    background: rgba(71, 85, 105, 0.45);
    color: rgba(226, 232, 240, 0.9);
    border-color: rgba(148, 163, 184, 0.45);
    box-shadow:
      inset 0 0 0 1px rgba(148, 163, 184, 0.45),
      0 8px 20px rgba(148, 163, 184, 0.35);
  }

  .equipment-variant-actions {
    flex-wrap: wrap;
    gap: 0.65rem;
  }

  .equipment-variant-action {
    border-radius: 999px;
    font-weight: 600;
    padding-inline: 1rem;
    min-width: 6.25rem;
  }

  .equipment-variant-action--danger {
    box-shadow: 0 16px 28px rgba(239, 68, 68, 0.22);
  }

  html.dark .equipment-variant-action--danger,
  body.dark .equipment-variant-action--danger {
    box-shadow: 0 18px 32px rgba(239, 68, 68, 0.3);
  }

  #editEquipmentModal .modal-footer {
    flex-wrap: wrap;
    gap: 0.75rem;
    justify-content: flex-end;
  }

  @media (max-width: 576px) {
    #editEquipmentModal .modal-footer {
      justify-content: center;
    }

    .equipment-details-actions {
      margin-inline-start: 0;
      justify-content: center;
    }
  }

  .equipment-details-actions {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: flex-end;
    gap: 0.75rem;
    margin-inline-start: auto;
    width: 100%;
    max-width: 100%;
  }

  .equipment-status-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.35rem;
    border-radius: 999px;
    padding: 0.42rem 1.05rem;
    font-weight: 600;
    font-size: 0.8rem;
    letter-spacing: 0.02em;
    min-width: 0;
    border: 1px solid transparent;
    box-shadow: 0 14px 26px rgba(59, 91, 220, 0.16);
    text-transform: none;
  }

  .equipment-status-badge--available {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.9), rgba(16, 185, 129, 0.88));
    border-color: rgba(16, 185, 129, 0.35);
    color: #f0fdfa;
  }

  .equipment-status-badge--reserved {
    background: linear-gradient(135deg, rgba(250, 204, 21, 0.92), rgba(245, 158, 11, 0.88));
    border-color: rgba(217, 119, 6, 0.4);
    color: #1f2937;
  }

  .equipment-status-badge--maintenance {
    background: linear-gradient(135deg, rgba(249, 115, 22, 0.92), rgba(234, 88, 12, 0.88));
    border-color: rgba(234, 88, 12, 0.42);
    color: #fff7ed;
  }

  .equipment-status-badge--retired {
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.82), rgba(107, 114, 128, 0.76));
    border-color: rgba(107, 114, 128, 0.42);
    color: #f8fafc;
  }

  .equipment-status-badge--default {
    background: linear-gradient(135deg, rgba(226, 232, 255, 0.9), rgba(203, 213, 225, 0.85));
    border-color: rgba(148, 163, 184, 0.42);
    color: #1f2937;
  }

  .equipment-empty-state {
    grid-column: 1 / -1;
    padding: 36px 28px;
    border-radius: 22px;
    border: 1px dashed rgba(148, 163, 255, 0.45);
    background: rgba(248, 250, 255, 0.9);
    color: #1f2d52;
    text-align: center;
    display: grid;
    place-items: center;
    gap: 12px;
  }

  .equipment-empty-state__icon {
    font-size: 2rem;
  }

  .equipment-empty-state__text {
    margin: 0;
    font-weight: 600;
    font-size: 0.95rem;
    color: rgba(71, 85, 105, 0.9);
  }

  .equipment-empty-state--error {
    border-color: rgba(239, 68, 68, 0.35);
    background: rgba(254, 226, 226, 0.85);
    color: #b91c1c;
  }

  @media (max-width: 768px) {
    .equipment-card {
      padding: 16px;
    }

    .equipment-card__header {
      grid-template-columns: minmax(0, 1fr);
      grid-template-areas:
        "status"
        "media";
    }

    .equipment-card__media {
      width: 110px;
      height: 110px;
    }
  }

  :where(html.dark, body.dark) .equipment-card {
    border-color: rgba(56, 87, 200, 0.42);
    background: linear-gradient(165deg, rgba(12, 19, 42, 0.96) 0%, rgba(7, 13, 30, 0.94) 62%, rgba(10, 18, 40, 0.9) 100%);
    box-shadow: 0 30px 60px rgba(2, 6, 23, 0.75);
  }

  :where(html.dark, body.dark) .equipment-card__media {
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.88), rgba(59, 130, 246, 0.18));
    box-shadow: inset 0 1px 0 rgba(59, 130, 246, 0.2), 0 12px 28px rgba(0, 0, 0, 0.4);
  }

  :where(html.dark, body.dark) .equipment-card__title {
    color: rgba(226, 232, 240, 0.96);
  }

  :where(html.dark, body.dark) .equipment-card__description {
    color: rgba(226, 232, 240, 0.92);
  }

  :where(html.dark, body.dark) .equipment-card__subtitle {
    color: rgba(148, 163, 184, 0.78);
  }

  :where(html.dark, body.dark) .equipment-card__label,
  :where(html.dark, body.dark) .equipment-card__detail-label {
    color: rgba(148, 163, 184, 0.76);
  }

  :where(html.dark, body.dark) .equipment-card__category,
  :where(html.dark, body.dark) .equipment-card__alias {
    background: rgba(24, 35, 62, 0.82);
    border-color: rgba(59, 130, 246, 0.35);
    box-shadow: 0 0 18px rgba(37, 99, 235, 0.25);
  }

  :where(html.dark, body.dark) .equipment-card__detail-value {
    color: rgba(226, 232, 240, 0.96);
  }

  :where(html.dark, body.dark) .equipment-card__info-item:not(:first-child)::before {
    background: rgba(96, 165, 250, 0.45);
  }

  :where(html.dark, body.dark) .equipment-card__action-btn {
    box-shadow: 0 12px 22px rgba(15, 23, 42, 0.5);
    color: rgba(15, 23, 42, 0.92);
  }

  :where(html.dark, body.dark) .equipment-card__action-btn--select {
    background: linear-gradient(135deg, rgba(37, 99, 235, 0.85), rgba(30, 64, 175, 0.78));
    color: rgba(226, 232, 240, 0.95);
    box-shadow: 0 14px 24px rgba(30, 64, 175, 0.48);
  }

  :where(html.dark, body.dark) .equipment-card__action-btn--select[disabled] {
    background: linear-gradient(135deg, rgba(100, 116, 139, 0.5), rgba(71, 85, 105, 0.45));
    color: rgba(148, 163, 184, 0.85);
    box-shadow: none;
  }

  :where(html.dark, body.dark) .equipment-card__selection-label {
    color: rgba(226, 232, 240, 0.88);
  }

  :where(html.dark, body.dark) .equipment-card__quantity-select {
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.85), rgba(15, 23, 42, 0.78));
    border-color: rgba(71, 85, 105, 0.55);
    color: rgba(226, 232, 240, 0.92);
  }

  :where(html.dark, body.dark) .equipment-card__quantity-select:focus {
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.28);
  }

  :where(html.dark, body.dark) .equipment-card__quantity-select:disabled {
    background: rgba(30, 41, 59, 0.65);
    color: rgba(148, 163, 184, 0.8);
  }

  :where(html.dark, body.dark) .equipment-card__selection-hint {
    color: rgba(148, 163, 184, 0.88);
  }

  :where(html.dark, body.dark) .equipment-card__action-btn--edit {
    background: linear-gradient(135deg, rgba(253, 224, 71, 0.86), rgba(250, 204, 21, 0.82));
  }

  :where(html.dark, body.dark) .equipment-card__action-btn--delete {
    background: linear-gradient(135deg, rgba(248, 113, 113, 0.88), rgba(239, 68, 68, 0.82));
    color: rgba(255, 241, 241, 0.96);
  }

  :where(html.dark, body.dark) .equipment-card__action-btn--delete:hover {
    box-shadow:
      0 18px 26px rgba(248, 113, 113, 0.5),
      0 0 18px rgba(248, 113, 113, 0.6);
    filter: brightness(1.08);
  }

  :where(html.dark, body.dark) .equipment-tag {
    color: rgba(191, 219, 254, 0.95);
    border-color: rgba(96, 165, 250, 0.45);
    background: rgba(37, 55, 88, 0.6);
    box-shadow: 0 0 18px rgba(59, 130, 246, 0.45);
  }

  :where(html.dark, body.dark) .equipment-status-badge {
    border-color: rgba(59, 130, 246, 0.35);
    box-shadow: 0 0 22px rgba(37, 99, 235, 0.25);
  }

  :where(html.dark, body.dark) .equipment-status-badge--available {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.55), rgba(16, 185, 129, 0.48));
    color: rgba(236, 253, 245, 0.95);
    box-shadow: 0 0 22px rgba(16, 185, 129, 0.55);
  }

  :where(html.dark, body.dark) .equipment-status-badge--reserved {
    background: linear-gradient(135deg, rgba(250, 204, 21, 0.6), rgba(217, 119, 6, 0.5));
    color: rgba(255, 247, 237, 0.95);
    box-shadow: 0 0 22px rgba(245, 158, 11, 0.45);
  }

  :where(html.dark, body.dark) .equipment-status-badge--maintenance {
    background: linear-gradient(135deg, rgba(251, 146, 60, 0.62), rgba(234, 88, 12, 0.54));
    color: rgba(255, 243, 237, 0.96);
    box-shadow: 0 0 24px rgba(251, 146, 60, 0.55);
  }

  :where(html.dark, body.dark) .equipment-status-badge--retired {
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.58), rgba(107, 114, 128, 0.5));
    color: rgba(226, 232, 240, 0.94);
    box-shadow: 0 0 20px rgba(148, 163, 184, 0.45);
  }

  :where(html.dark, body.dark) .equipment-status-badge--default {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.42), rgba(37, 99, 235, 0.38));
    color: rgba(226, 232, 240, 0.94);
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.45);
  }

  :where(html.dark, body.dark) .equipment-empty-state {
    border-color: rgba(59, 130, 246, 0.32);
    background: rgba(15, 23, 42, 0.82);
    color: rgba(226, 232, 240, 0.9);
  }

  :where(html.dark, body.dark) .equipment-empty-state__text {
    color: rgba(148, 163, 184, 0.85);
  }

  :where(html.dark, body.dark) .equipment-empty-state--error {
    border-color: rgba(252, 165, 165, 0.45);
    background: rgba(127, 29, 29, 0.68);
    color: rgba(254, 226, 226, 0.92);
  }

  @media (max-width: 768px) {
    .equipment-filters .form-select,
    .equipment-filters .form-control {
      max-width: 100%;
      width: 100%;
      flex: 1 1 100%;
    }

    .equipment-search-row #search-equipment {
      max-width: 100%;
      flex: 1 1 100%;
    }

    .equipment-status-field {
      width: 100%;
      max-width: 100%;
      min-width: 0;
    }

    .equipment-status-select {
      width: 100%;
    }

    .equipment-card {
      padding: 22px 18px;
      min-height: 460px;
    }

    .equipment-card__info-row {
      flex-wrap: wrap;
      row-gap: 10px;
    }

    .equipment-card__info-item {
      padding: 0 10px;
    }

    .equipment-card__info-item:not(:first-child)::before {
      display: none;
    }

    .equipment-card__media-wrapper {
      align-items: center;
      justify-self: center;
    }

    .equipment-card__body {
      align-items: center;
    }

    .equipment-card__categories {
      justify-content: center;
    }

    .equipment-card__actions {
      justify-content: center;
    }
  }

  @media (max-width: 640px) {
    .equipment-card {
      min-height: auto;
    }

    #search-customer-input.form-control {
      max-width: 100%;
      width: 100%;
      flex: 1 1 100%;
    }

    #search-technician-input.form-control,
    #technician-role-filter.form-select,
    #maintenance-status-filter.form-select {
      max-width: 100% !important;
      width: 100% !important;
      flex: 1 1 100% !important;
    }

    :is(.customer-table, .technician-table) .table-actions-cell .table-action-buttons {
      flex-wrap: wrap;
    }

    :is(.customer-action-btn, .technician-action-btn, .maintenance-action-btn) {
      padding: 0.35rem 0.75rem;
      font-size: 0.8rem;
    }
  }

  :where(html.dark, body.dark) :is(.customer-table-wrapper, .technician-table-wrapper) {
    border-color: rgba(42, 70, 158, 0.62);
    background: linear-gradient(165deg, rgba(3, 6, 16, 0.98) 8%, rgba(5, 10, 24, 0.99) 58%, rgba(8, 16, 36, 0.99) 100%);
    box-shadow: 0 44px 94px rgba(0, 3, 14, 0.82);
    backdrop-filter: blur(18px);
  }

  :where(html.dark, body.dark) :is(.customer-table-wrapper, .technician-table-wrapper)::before {
    background: radial-gradient(circle at top left, rgba(82, 120, 222, 0.28), rgba(32, 60, 138, 0.22) 46%, rgba(6, 12, 30, 0.92) 78%);
    mix-blend-mode: normal;
    opacity: 0.68;
  }

  @media (max-width: 768px) {
    :is(.customer-table-wrapper, .technician-table-wrapper) {
      overflow-x: auto;
    }
  }

  .tab-content-wrapper {
    @apply space-y-8;
  }

  .tab-content-wrapper > .tab {
    @apply hidden;
  }

  .tab-content-wrapper > .tab.active {
    @apply block;
  }

  .sub-tab-buttons:not(.tabs) {
    @apply flex flex-wrap gap-2 rounded-full bg-base-100 border border-base-200 p-1 shadow-sm;
    background-color: hsl(var(--b1) / 0.92);
  }

  .sub-tab-button:not(.tab) {
    @apply btn btn-xs sm:btn-sm md:btn-md btn-ghost rounded-full px-4;
  }

  .sub-tab-button.active:not(.tab) {
    @apply btn-active btn-primary text-primary-content shadow;
  }

  .management-form-box {
    @apply glass-card;
  }

  .management-form-header {
    @apply inline-flex items-start flex-nowrap;
    align-self: flex-start;
    max-width: 100%;
    padding: 14px 18px;
    border-radius: 18px;
    border: 1px solid rgba(76, 110, 245, 0.18);
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.08), rgba(76, 110, 245, 0.02));
    gap: 18px;
    margin-bottom: 36px;
  }

  .equipment-list-header h5,
  .equipment-list-count {
    color: var(--clr-muted);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-list-header h5,
  :where(html.dark, body.dark, html.dark-mode, body.dark-mode) .equipment-list-count {
    color: #c0c0c0;
  }

  .management-form-icon {
    @apply text-3xl w-14 h-14 flex items-center justify-center rounded-2xl bg-primary text-primary;
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.22), rgba(59, 130, 246, 0.1));
  }

  .management-form-header-text {
    @apply flex flex-col gap-2;
    flex: 1 1 auto;
    min-width: 0;
    text-align: start;
    align-items: flex-start;
    max-width: min(48ch, 100%);
  }

  .management-form-header-text > * {
    width: 100%;
    text-align: inherit;
  }

  [dir='rtl'] .management-form-header-text {
    text-align: right;
    align-items: flex-end;
  }

  [dir='ltr'] .management-form-header-text {
    text-align: left;
    align-items: flex-start;
  }

  .management-form-hint {
    @apply text-sm;
    color: hsl(var(--bc) / 0.58);
  }

  :where(html.dark, body.dark) .management-form-header {
    border-color: rgba(59, 130, 246, 0.35);
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.22), rgba(15, 23, 42, 0.65));
  }

  :where(html.dark, body.dark) .management-form-icon {
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.4), rgba(37, 99, 235, 0.18));
    color: rgba(226, 232, 240, 0.96);
  }

  @media (max-width: 768px) {
    .management-form-header {
      margin-bottom: 30px;
    }
  }

  .management-form {
    @apply space-y-6;
  }

  .management-form-grid {
    @apply grid gap-4 sm:grid-cols-2 lg:grid-cols-3;
  }

  .form-field {
    @apply flex flex-col;
    gap: 0.25rem;
  }

  .management-form-grid .col-span-full {
    @apply sm:col-span-2 lg:col-span-3;
  }

  .form-field-notes {
    @apply sm:col-span-2 lg:col-span-3 flex flex-col items-center text-center;
  }

  .form-label {
    @apply text-sm font-semibold;
    color: hsl(var(--bc) / 0.7);
    margin-bottom: 0;
  }

  .form-control,
  input.form-control,
  input.flatpickr-input,
  input.flatpickr-alt-input,
  textarea.form-control,
  .form-textarea {
    @apply rounded-2xl border border-base-300 bg-base-100 px-4 py-3 text-base-content focus:border-primary focus:ring-2 focus:ring-primary transition;
    max-width: 480px;
    width: auto;
  }

  .management-form-grid .form-field.form-field-notes textarea.form-control {
    width: min(100%, 820px) !important;
    max-width: min(100%, 820px) !important;
    margin-inline: auto;
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.98), rgba(231, 238, 255, 0.9)) !important;
    border-radius: 18px;
    border: 1px solid rgba(76, 110, 245, 0.18);
    box-shadow:
      0 12px 28px rgba(76, 110, 245, 0.08),
      0 3px 10px rgba(15, 23, 42, 0.08);
  }

  :is(html.dark, body.dark) .management-form-grid .form-field.form-field-notes textarea.form-control {
    background: linear-gradient(135deg, rgba(17, 27, 53, 0.95), rgba(31, 46, 84, 0.9)) !important;
    border-color: rgba(148, 163, 255, 0.25);
    color: rgba(226, 232, 240, 0.94);
    box-shadow:
      0 14px 32px rgba(8, 14, 32, 0.55),
      0 0 0 1px rgba(147, 197, 253, 0.12);
  }

  .enhanced-select {
    position: relative;
    display: inline-flex;
    width: auto;
    max-width: 100%;
  }

  .enhanced-select__native {
    display: none;
  }

  .enhanced-select__trigger {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 0.75rem;
    width: auto;
    max-width: 100%;
    min-height: 3.1rem;
    border-radius: 1.75rem;
    padding-inline: 1.25rem 2.75rem;
    border: 1px solid rgba(148, 163, 255, 0.24);
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.9), rgba(238, 242, 255, 0.84));
    box-shadow: 0 16px 32px rgba(15, 23, 42, 0.12);
    color: hsl(var(--bc));
    font-size: 1rem;
    font-weight: 600;
    transition: background 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    cursor: pointer;
    position: relative;
    text-align: start;
  }

  .password-field {
    position: relative;
    display: flex;
    align-items: center;
  }

  .password-field .form-control {
    width: 100%;
    padding-inline-end: 3rem;
  }

  .password-toggle-btn {
    position: absolute;
    inset-block: 0.35rem;
    inset-inline-end: 0.75rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.25rem;
    height: 2.25rem;
    border: none;
    border-radius: 999px;
    background: transparent;
    color: hsl(var(--bc) / 0.6);
    transition: color 0.2s ease, background-color 0.2s ease, transform 0.2s ease;
  }

  .password-toggle-btn:hover,
  .password-toggle-btn:focus-visible {
    color: hsl(var(--bc));
    background: hsl(var(--p) / 0.12);
    outline: none;
  }

  .password-toggle-btn:active {
    transform: translateY(1px);
  }

  :where(html.dark, body.dark) .password-toggle-btn {
    color: rgba(148, 163, 184, 0.85);
  }

  :where(html.dark, body.dark) .password-toggle-btn:hover,
  :where(html.dark, body.dark) .password-toggle-btn:focus-visible {
    color: rgba(226, 232, 240, 0.95);
    background: rgba(148, 163, 255, 0.18);
  }

  .password-toggle-icon {
    width: 1.35rem;
    height: 1.35rem;
    pointer-events: none;
  }

  .password-toggle-btn .sr-only {
    position: absolute;
    inset: 0;
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    width: 1px;
    height: 1px;
    margin: -1px;
    border: 0;
    padding: 0;
    overflow: hidden;
    white-space: nowrap;
  }

  .enhanced-select__trigger:disabled,
  .enhanced-select--disabled .enhanced-select__trigger {
    cursor: not-allowed;
    opacity: 0.6;
    box-shadow: none;
  }


  .enhanced-select__trigger:hover,
  .enhanced-select__trigger:focus-visible,
  .enhanced-select[data-open='true'] .enhanced-select__trigger {
    border-color: rgba(76, 110, 245, 0.35);
    background: linear-gradient(135deg, rgba(234, 240, 255, 0.96), rgba(228, 236, 255, 0.9));
    box-shadow: 0 20px 40px rgba(76, 110, 245, 0.18);
    outline: none;
  }

  .enhanced-select__trigger:focus-visible {
    outline: 3px solid rgba(76, 110, 245, 0.28);
    outline-offset: 2px;
  }

  .enhanced-select__trigger::after {
    content: "";
    position: absolute;
    inset-inline-end: 1.35rem;
    width: 0.75rem;
    height: 0.75rem;
    background-repeat: no-repeat;
    background-size: 0.75rem 0.75rem;
    background-position: center;
    background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%236366f1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"%3E%3Cpath d="M6 9l6 6l6-6"/%3E%3C/svg%3E');
    pointer-events: none;
    transition: transform 0.2s ease;
  }

  .enhanced-select[data-open='true'] .enhanced-select__trigger::after {
    transform: rotate(180deg);
  }

  .enhanced-select__menu {
    position: absolute;
    inset-inline: 0;
    top: calc(100% + 0.65rem);
    background: linear-gradient(140deg, rgba(248, 250, 255, 0.95) 0%, rgba(236, 242, 255, 0.9) 100%);
    border-radius: 1.5rem;
    border: 1px solid rgba(148, 163, 255, 0.28);
    box-shadow: 0 28px 52px rgba(15, 23, 42, 0.18);
    padding: 0.75rem;
    margin: 0;
    list-style: none;
    max-height: min(320px, 45vh);
    overflow-y: auto;
    opacity: 0;
    pointer-events: none;
    transform: translateY(-8px);
    transition: opacity 0.18s ease, transform 0.18s ease;
    z-index: 40;
    backdrop-filter: blur(16px);
  }

  .enhanced-select[data-open='true'] .enhanced-select__menu {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
  }

  .enhanced-select__option {
    padding: 0.8rem 1rem;
    border-radius: 1rem;
    color: hsl(var(--bc));
    font-size: 0.95rem;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.18s ease, color 0.18s ease, box-shadow 0.18s ease;
    outline: none;
  }

  .enhanced-select__option + .enhanced-select__option {
    margin-top: 0.35rem;
  }

  .enhanced-select__option:hover,
  .enhanced-select__option:focus {
    background: linear-gradient(135deg, rgba(234, 240, 255, 0.96), rgba(228, 236, 255, 0.9));
    box-shadow: inset 0 0 0 1px rgba(76, 110, 245, 0.3);
  }

  .enhanced-select__option[aria-selected='true'] {
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.16), rgba(99, 102, 241, 0.2));
    box-shadow: inset 0 0 0 1px rgba(76, 110, 245, 0.28), 0 10px 18px rgba(88, 111, 245, 0.18);
  }

  .enhanced-select__option[aria-disabled='true'] {
    opacity: 0.45;
    cursor: not-allowed;
  }

  :where(html[dir='rtl']) .enhanced-select__trigger {
    padding-inline: 2.75rem 1.25rem;
    text-align: right;
  }

  :where(html[dir='rtl']) .enhanced-select__trigger::after {
    inset-inline-start: 1.35rem;
    inset-inline-end: auto;
  }

  .form-select,
  select.form-select {
    @apply appearance-none w-full text-base font-semibold;
    min-height: 3.1rem;
    border-radius: 1.75rem;
    padding-inline: 1.25rem 2.75rem;
    margin-top: 0;
    border: 1px solid rgba(148, 163, 255, 0.24);
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.9), rgba(238, 242, 255, 0.84));
    box-shadow: 0 16px 32px rgba(15, 23, 42, 0.12);
    color: hsl(var(--bc));
    transition: background 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
    background-repeat: no-repeat;
    background-position: right 1.35rem center;
    background-size: 0.75rem 0.75rem;
    background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%236366f1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"%3E%3Cpath d="M6 9l6 6l6-6"/%3E%3C/svg%3E');
    backdrop-filter: blur(14px);
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    position: relative;
    z-index: 0;
  }

  .form-select:hover,
  .form-select:focus,
  .form-select:focus-visible,
  select.form-select:hover,
  select.form-select:focus,
  select.form-select:focus-visible {
    border-color: rgba(76, 110, 245, 0.35);
    background: linear-gradient(135deg, rgba(234, 240, 255, 0.96), rgba(228, 236, 255, 0.9));
    box-shadow: 0 20px 40px rgba(76, 110, 245, 0.18);
    outline: none;
  }

  :where(html[dir='rtl']) .form-select,
  :where(html[dir='rtl']) select.form-select {
    padding-inline: 2.75rem 1.25rem;
    background-position: left 1.35rem center;
    text-align: right;
  }

  :where(html[dir='rtl']) .equipment-filters .form-select,
  :where(html[dir='rtl']) .equipment-filters select.form-select {
    background-position: right 1.35rem center;
  }

  :where(html[dir='ltr']) .form-select,
  :where(html[dir='ltr']) select.form-select {
    padding-inline: 1.25rem 2.75rem;
    background-position: right 1.35rem center;
  }

  .equipment-filters .enhanced-select__trigger::after {
    inset-inline-end: 1.35rem;
    inset-inline-start: auto;
  }

  :where(html[dir='rtl']) .equipment-filters .enhanced-select__trigger {
    padding-inline: 2.75rem 1.25rem;
  }

  :where(html[dir='rtl']) .equipment-filters .enhanced-select__trigger::after {
    inset-inline-start: 1.35rem;
    inset-inline-end: auto;
  }

  .form-select:focus-visible,
  select.form-select:focus-visible {
    outline: 3px solid rgba(76, 110, 245, 0.3);
    outline-offset: 2px;
  }

  .form-control::placeholder,
  .form-textarea::placeholder {
    color: hsl(var(--bc) / 0.45);
  }

  .form-control[type='file'] {
    @apply cursor-pointer;
  }

  .form-control[type='datetime-local'] {
    @apply pe-12;
  }

  .form-control:disabled,
  .form-select:disabled,
  select.form-select:disabled {
    cursor: not-allowed;
    opacity: 0.7;
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.65), rgba(238, 242, 255, 0.58));
    box-shadow: none;
  }

  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  textarea:-webkit-autofill,
  textarea:-webkit-autofill:hover,
  textarea:-webkit-autofill:focus,
  select:-webkit-autofill,
  select:-webkit-autofill:hover,
  select:-webkit-autofill:focus {
    -webkit-box-shadow: 0 0 0 1000px rgba(248, 250, 255, 0.9) inset;
    -webkit-text-fill-color: #1f2937;
    transition: background-color 5000s ease-in-out 0s;
  }

  :where(html.dark, body.dark) input:-webkit-autofill,
  :where(html.dark, body.dark) input:-webkit-autofill:hover,
  :where(html.dark, body.dark) input:-webkit-autofill:focus,
  :where(html.dark, body.dark) textarea:-webkit-autofill,
  :where(html.dark, body.dark) textarea:-webkit-autofill:hover,
  :where(html.dark, body.dark) textarea:-webkit-autofill:focus,
  :where(html.dark, body.dark) select:-webkit-autofill,
  :where(html.dark, body.dark) select:-webkit-autofill:hover,
  :where(html.dark, body.dark) select:-webkit-autofill:focus {
    -webkit-box-shadow: 0 0 0 1000px rgba(15, 23, 42, 0.92) inset;
    -webkit-text-fill-color: rgba(226, 232, 240, 0.95);
  }

  .management-form-actions {
    @apply flex flex-wrap justify-center gap-3;
  }

  #search-customer-input.form-control {
    max-width: min(100%, 21rem);
    width: min(100%, 21rem);
    flex: 1 1 18rem;
  }

  #search-technician-input.form-control {
    max-width: 240px;
    width: 240px;
    flex: 0 0 240px;
  }

#technician-role-filter.form-select {
  flex: 0 0 25% !important;
  width: 25% !important;
  max-width: 25% !important;
  min-width: 160px;
  flex-grow: 0 !important;
  flex-shrink: 0 !important;
  background: linear-gradient(135deg, rgba(248, 250, 255, 0.96), rgba(236, 242, 255, 0.92));
  border: 1px solid rgba(148, 163, 255, 0.28);
  color: #1f2937;
}

#maintenance-status-filter.form-select {
  max-width: 200px;
  width: 200px;
  flex: 0 0 200px;
  background: linear-gradient(135deg, rgba(248, 250, 255, 0.96), rgba(236, 242, 255, 0.92));
  border: 1px solid rgba(148, 163, 255, 0.28);
  color: #1f2937;
}

  :is(html.dark-mode, body.dark-mode) #search-technician-input.form-control {
    background: rgba(15, 23, 42, 0.88);
    color: rgba(226, 232, 240, 0.95);
    border-color: rgba(59, 130, 246, 0.32);
  }

:is(html.dark-mode, body.dark-mode) #technician-role-filter.form-select {
  background: linear-gradient(135deg, rgba(20, 29, 54, 0.95), rgba(18, 28, 48, 0.9));
  color: rgba(226, 232, 240, 0.95);
  border-color: rgba(59, 130, 246, 0.35);
}

:is(html.dark-mode, body.dark-mode) #maintenance-status-filter.form-select {
  background: linear-gradient(135deg, rgba(20, 29, 54, 0.95), rgba(18, 28, 48, 0.9));
  color: rgba(226, 232, 240, 0.95);
  border-color: rgba(59, 130, 246, 0.35);
}

  .table {
    --bs-table-color-type: initial;
    --bs-table-bg-type: initial;
    --bs-table-color-state: initial;
    --bs-table-bg-state: initial;
    --bs-table-color: var(--bs-emphasis-color);
    --bs-table-bg: var(--bs-body-bg);
    --bs-table-border-color: var(--bs-border-color);
    --bs-table-accent-bg: transparent;
    --bs-table-striped-color: var(--bs-emphasis-color);
    --bs-table-striped-bg: rgba(var(--bs-emphasis-color-rgb), 0.05);
    --bs-table-active-color: var(--bs-emphasis-color);
    --bs-table-active-bg: rgba(var(--bs-emphasis-color-rgb), 0.1);
    --bs-table-hover-color: var(--bs-emphasis-color);
    --bs-table-hover-bg: rgba(var(--bs-emphasis-color-rgb), 0.075);
    width: 100%;
    margin-bottom: 1rem;
    vertical-align: top;
    border-color: var(--bs-table-border-color);
  }

  .table-wrapper {
    @apply glass-card overflow-hidden p-0;
  }

  .table thead {
    @apply bg-base-200 text-base-content;
    background-color: hsl(var(--b2) / 0.85);
    color: hsl(var(--bc) / 0.7);
  }

  .table tbody tr td {
    @apply align-middle whitespace-nowrap;
  }

  .table-actions-head {
    @apply text-center;
  }

  .table-dark {
    @apply bg-base-200 text-base-content;
  }

  .table-light {
    @apply bg-base-100 text-base-content;
  }

  .text-muted {
    color: hsl(var(--bc) / 0.6);
  }

  .stats {
    display: grid;
    gap: 1rem;
  }

  @screen sm {
    .stats {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @screen xl {
    .stats {
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }
  }

  .stat {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    border-radius: 1.5rem;
    border: 1px solid hsl(var(--b2) / 0.6);
    background-color: hsl(var(--b1) / 0.92);
    box-shadow: 0 18px 34px -20px rgba(15, 23, 42, 0.35);
    padding: 1.5rem;
  }

  .stat-figure {
    font-size: 0;
  }

  .stat-title {
    font-size: 0.875rem;
    font-weight: 600;
    color: hsl(var(--bc) / 0.6);
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: hsl(var(--bc));
  }

  .stat-desc {
    font-size: 0.75rem;
    color: hsl(var(--bc) / 0.45);
  }

  .toast-container {
    @apply space-y-2;
  }

  .mobile-sidebar-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.85rem;
    height: 2.85rem;
    min-height: 2.85rem;
    padding: 0;
    border-radius: 0.95rem;
    border: 1px solid rgba(148, 163, 184, 0.35);
    background: linear-gradient(180deg, rgba(22, 32, 54, 0.95), rgba(16, 24, 42, 0.9));
    color: #f8fafc;
    box-shadow: 0 14px 32px rgba(15, 23, 42, 0.28);
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
    cursor: pointer;
    position: relative;
  }

  .mobile-sidebar-toggle::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.18), transparent 65%);
    opacity: 0.75;
    pointer-events: none;
  }

  .mobile-sidebar-toggle__icon {
    position: relative;
    display: block;
    width: 1.2rem;
    height: 0.85rem;
  }

  .mobile-sidebar-toggle__line {
    position: absolute;
    inset-inline: 0;
    height: 1.5px;
    border-radius: 999px;
    background: rgba(248, 250, 255, 0.92);
    transition: background-color 0.2s ease;
  }

  .mobile-sidebar-toggle__line--top {
    top: 0;
  }

  .mobile-sidebar-toggle__line--middle {
    top: 50%;
    transform: translateY(-50%);
  }

  .mobile-sidebar-toggle__line--bottom {
    bottom: 0;
  }

  .mobile-sidebar-toggle:hover {
    transform: translateY(-1px);
    box-shadow: 0 18px 36px rgba(15, 23, 42, 0.36);
    border-color: rgba(148, 163, 255, 0.55);
    background: linear-gradient(180deg, rgba(24, 36, 58, 0.98), rgba(18, 28, 48, 0.92));
  }

  .mobile-sidebar-toggle:focus-visible {
    outline: 2px solid rgba(129, 140, 248, 0.75);
    outline-offset: 2px;
  }

  @media (min-width: 1024px) {
    :where(html:not(.dark), body:not(.dark)) .mobile-sidebar-toggle {
      background: linear-gradient(180deg, rgba(30, 42, 68, 0.95), rgba(22, 34, 58, 0.9));
      border-color: rgba(148, 163, 184, 0.4);
      color: #f8fafc;
    }
  }

  :where(html.dark, body.dark) .mobile-sidebar-toggle {
    background: linear-gradient(180deg, rgba(12, 21, 40, 0.95), rgba(8, 15, 32, 0.9));
    border-color: rgba(129, 140, 248, 0.45);
    color: rgba(248, 250, 252, 0.98);
    box-shadow: 0 18px 40px rgba(5, 12, 30, 0.55);
  }

  :where(html.dark, body.dark) .mobile-sidebar-toggle:hover {
    border-color: rgba(148, 163, 255, 0.62);
    background: linear-gradient(180deg, rgba(16, 28, 52, 0.98), rgba(11, 20, 38, 0.94));
  }

  .sidebar-backdrop {
    @apply fixed inset-0 bg-black backdrop-blur-sm z-40 hidden;
    background-color: rgb(0 0 0 / 0.35);
  }

  .sidebar-drawer {
    @apply fixed inset-y-0 start-0 z-50 w-72 max-w-full translate-x-full shadow-2xl transition-transform duration-300 ease-in-out;
    background: transparent;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
  }

  [dir='ltr'] .sidebar-drawer {
    --tw-translate-x: -100%;
  }

  @screen lg {
    .sidebar-drawer {
      width: 20rem;
    }
  }

  .sidebar-drawer.open {
    @apply translate-x-0;
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
  }

  .sidebar-backdrop.open {
    @apply block;
  }

  .language-toggle-btn,
  .theme-toggle-btn {
    @apply btn btn-xs sm:btn-sm md:btn-md font-semibold;
    border-radius: 0.85rem;
    border: 1.5px solid rgba(255, 255, 255, 0.38);
    background: linear-gradient(145deg, rgba(15, 23, 42, 0.75), rgba(30, 41, 59, 0.55));
    color: #f8fafc;
    box-shadow: 0 14px 32px rgba(15, 23, 42, 0.22);
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background-color 0.2s ease, color 0.2s ease;
  }

  .language-toggle-btn {
    white-space: nowrap;
    line-height: 1.2;
    font-size: clamp(0.75rem, 2vw, 0.92rem);
    padding-inline: 1rem;
  }

  .theme-toggle-btn {
    @apply px-3;
  }

  .language-toggle-btn:hover,
  .theme-toggle-btn:hover {
    border-color: rgba(255, 255, 255, 0.6);
    box-shadow: 0 18px 38px rgba(15, 23, 42, 0.32);
    transform: translateY(-1px);
  }

  :where(html.dark, body.dark) .language-toggle-btn,
  :where(html.dark, body.dark) .theme-toggle-btn {
    border-color: rgba(255, 255, 255, 0.45);
    background: linear-gradient(145deg, rgba(9, 15, 30, 0.92), rgba(18, 28, 48, 0.72));
    color: #f8fafc;
    box-shadow: 0 20px 40px rgba(5, 12, 28, 0.45);
  }

  :where(html.dark, body.dark) .language-toggle-btn:hover,
  :where(html.dark, body.dark) .theme-toggle-btn:hover {
    border-color: rgba(255, 255, 255, 0.65);
  }

  #logout-btn {
    @apply btn btn-xs sm:btn-sm md:btn-md font-semibold;
    border-radius: 0.9rem;
    background: linear-gradient(135deg, rgba(220, 38, 38, 0.12), rgba(244, 63, 94, 0.2));
    color: #b91c1c;
    border: 1.5px solid rgba(255, 255, 255, 0.38);
    box-shadow: none;
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  }

  #logout-btn:hover {
    transform: translateY(-1px);
    background: linear-gradient(135deg, #fb7185, #dc2626);
    box-shadow: 0 20px 40px rgba(220, 38, 38, 0.28);
    border-color: rgba(255, 255, 255, 0.6);
    color: #fff;
  }

  :where(html.dark, body.dark) #logout-btn {
    background: transparent;
    border-color: rgba(255, 255, 255, 0.45);
    color: #ffffff;
  }

  :where(html.dark, body.dark) #logout-btn:hover {
    background: linear-gradient(135deg, #7f1d1d, #65121c);
    box-shadow: 0 26px 52px rgba(185, 28, 28, 0.38);
    border-color: rgba(255, 255, 255, 0.65);
  }

  .theme-toggle-btn {
    @apply swap swap-rotate px-3;
  }

  .theme-toggle-btn svg {
    @apply w-5 h-5;
  }

  .theme-toggle-btn .swap-on {
    @apply text-primary;
  }

  .theme-toggle-btn .swap-off {
    @apply text-warning;
  }

  .add-project-btn {
    @apply btn btn-primary btn-sm md:btn-md rounded-full shadow-soft gap-2 px-4 md:px-5;
    min-height: 2.25rem;
  }

  /* Legacy Bootstrap utility aliases */
  .d-flex {
    display: flex;
  }

  .flex-column {
    display: flex;
    flex-direction: column;
  }

  .flex-row {
    display: flex;
    flex-direction: row;
  }

  .flex-wrap {
    flex-wrap: wrap;
  }

  .flex-lg-row {
    @apply lg:flex-row;
  }

  .align-items-center {
    align-items: center;
  }

  .align-items-start {
    align-items: flex-start;
  }

  .align-items-end {
    align-items: flex-end;
  }

  .align-items-lg-center {
    @apply lg:items-center;
  }

  .justify-content-between {
    justify-content: space-between;
  }

  .justify-content-center {
    justify-content: center;
  }

  .justify-content-start {
    justify-content: flex-start;
  }

  .justify-content-end {
    justify-content: flex-end;
  }

  .justify-content-lg-between {
    @apply lg:justify-between;
  }

  .justify-content-lg-end {
    @apply lg:justify-end;
  }

  .mb-0 {
    margin-bottom: 0;
  }

  .mb-2 {
    margin-bottom: 0.5rem;
  }

  .mb-3 {
    margin-bottom: 0.75rem;
  }

  .mb-4 {
    margin-bottom: 1rem;
  }

  .mt-0 {
    margin-top: 0;
  }

  .mt-2 {
    margin-top: 0.5rem;
  }

  .mt-3 {
    margin-top: 0.75rem;
  }

  .mt-4 {
    margin-top: 1rem;
  }

  .mt-5 {
    margin-top: 1.25rem;
  }

  .my-3 {
    margin-top: 0.75rem;
    margin-bottom: 0.75rem;
  }

  .my-4 {
    margin-top: 1rem;
    margin-bottom: 1rem;
  }

  .p-3 {
    padding: 0.75rem;
  }

  .p-4 {
    padding: 1rem;
  }

  .py-4 {
    padding-top: 1rem;
    padding-bottom: 1rem;
  }

  .px-4 {
    padding-inline: 1rem;
  }

  .ms-auto {
    margin-inline-start: auto;
  }

  .me-auto {
    margin-inline-end: auto;
  }

  .w-100 {
    width: 100%;
  }

  .h-100 {
    height: 100%;
  }

  .position-relative {
    @apply relative;
  }

  .d-none {
    display: none;
  }

  .reservation-filter-card,
  .kpi-card,
  .calendar-card {
    @apply glass-card;
  }

  .badge-soft {
    @apply badge badge-outline badge-lg px-4 rounded-full text-primary;
    border-color: hsl(var(--p) / 0.4);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 3.2rem;
    font-variant-numeric: tabular-nums;
    font-feature-settings: 'tnum' 1, 'kern' 1;
    direction: ltr;
    text-align: center;
  }

  #customer-hero-phone,
  #customer-hero-company,
  #customer-hero-email,
  #customer-hero-tax,
  #technician-hero-status,
  #technician-hero-role,
  #technician-hero-phone,
  #technician-hero-department,
  #dashboard-greeting-technician-status,
  #dashboard-greeting-technician-phone,
  #dashboard-greeting-technician-department {
    min-height: 2.75rem;
    padding: 0.6rem 1.25rem;
    font-size: 1rem;
  }

  .technician-badge {
    @apply badge badge-lg rounded-full border font-semibold tracking-tight px-4;
    color: #ffffff;
    background-color: rgba(76, 110, 245, 0.82);
    border-color: rgba(76, 110, 245, 0.85);
    box-shadow: 0 0 0 1px rgba(76, 110, 245, 0.55), 0 14px 28px -16px rgba(76, 110, 245, 0.6);
    text-shadow: 0 1px 2px rgba(8, 16, 44, 0.55);
    transition: background-color 0.25s ease, border-color 0.25s ease, box-shadow 0.3s ease;
  }

  .technician-badge:not(.technician-badge--status-available):not(.technician-badge--status-busy) {
    background-color: rgba(38, 51, 77, 0.74);
    border-color: rgba(38, 51, 77, 0.82);
    box-shadow: 0 0 0 1px rgba(38, 51, 77, 0.55), 0 14px 28px -18px rgba(12, 18, 40, 0.68);
  }

  .technician-badge--status-available {
    background-color: rgba(34, 197, 94, 0.9);
    border-color: rgba(16, 185, 129, 0.92);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.5), 0 16px 32px -14px rgba(16, 185, 129, 0.65);
  }

  .technician-badge--status-busy {
    background-color: rgba(239, 68, 68, 0.92);
    border-color: rgba(220, 38, 38, 0.94);
    box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.55), 0 16px 34px -16px rgba(220, 38, 38, 0.72);
  }

  :where(html.dark, body.dark) .technician-badge {
    background-color: rgba(76, 110, 245, 0.68);
    border-color: rgba(118, 136, 255, 0.62);
    box-shadow: 0 0 0 1px rgba(118, 136, 255, 0.48), 0 16px 32px -18px rgba(76, 110, 245, 0.65);
  }

  :where(html.dark, body.dark) .technician-badge:not(.technician-badge--status-available):not(.technician-badge--status-busy) {
    background-color: rgba(30, 41, 67, 0.82);
    border-color: rgba(59, 72, 108, 0.78);
    box-shadow: 0 0 0 1px rgba(38, 56, 94, 0.6), 0 16px 32px -20px rgba(7, 11, 23, 0.9);
  }

  :where(html.dark, body.dark) .technician-badge--status-available {
    background-color: rgba(34, 197, 94, 0.88);
    border-color: rgba(16, 185, 129, 0.92);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.55), 0 18px 36px -18px rgba(16, 185, 129, 0.75);
  }

  :where(html.dark, body.dark) .technician-badge--status-busy {
    background-color: rgba(239, 68, 68, 0.88);
    border-color: rgba(220, 38, 38, 0.94);
    box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.6), 0 18px 36px -18px rgba(220, 38, 38, 0.82);
  }

  .technician-payment-badge {
    @apply badge badge-lg rounded-full border font-semibold tracking-tight px-4;
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(10, 18, 32, 0.45);
    box-shadow: 0 10px 24px -16px rgba(15, 23, 42, 0.55);
    transition: background-color 0.25s ease, border-color 0.25s ease, box-shadow 0.3s ease;
  }

  .technician-payment-badge--paid {
    background-color: rgba(16, 185, 129, 0.92);
    border-color: rgba(5, 150, 105, 0.92);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.45), 0 16px 32px -18px rgba(16, 185, 129, 0.66);
  }

  .technician-payment-badge--partial {
    background-color: rgba(245, 158, 11, 0.92);
    border-color: rgba(217, 119, 6, 0.94);
    box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.45), 0 16px 32px -18px rgba(217, 119, 6, 0.7);
  }

  .technician-payment-badge--unpaid {
    background-color: rgba(239, 68, 68, 0.92);
    border-color: rgba(220, 38, 38, 0.94);
    box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.5), 0 16px 32px -18px rgba(220, 38, 38, 0.72);
  }

  :where(html.dark, body.dark) .technician-payment-badge {
    box-shadow: 0 12px 32px -20px rgba(6, 11, 23, 0.9);
  }

  :where(html.dark, body.dark) .technician-payment-badge--paid {
    background-color: rgba(34, 197, 94, 0.88);
    border-color: rgba(16, 185, 129, 0.92);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.55), 0 20px 36px -20px rgba(16, 185, 129, 0.78);
  }

  :where(html.dark, body.dark) .technician-payment-badge--partial {
    background-color: rgba(251, 191, 36, 0.9);
    border-color: rgba(245, 158, 11, 0.94);
    box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.55), 0 20px 36px -20px rgba(245, 158, 11, 0.78);
  }

  :where(html.dark, body.dark) .technician-payment-badge--unpaid {
    background-color: rgba(248, 113, 113, 0.9);
    border-color: rgba(239, 68, 68, 0.94);
    box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.55), 0 20px 36px -20px rgba(239, 68, 68, 0.82);
  }

  .empty-state {
    @apply flex flex-col items-center justify-center gap-3 py-16 text-center;
    color: hsl(var(--bc) / 0.6);
  }

  .alert {
    @apply rounded-2xl border px-4 py-3 text-sm;
  }

  .alert-info {
    @apply text-primary;
    border-color: hsl(var(--p) / 0.35);
    background-color: hsl(var(--p) / 0.12);
  }

  :where(html.dark, body.dark) .glass-card,
  :where(html.dark, body.dark) .box,
  :where(html.dark, body.dark) .table-responsive:not(.customer-table-wrapper),
  :where(html.dark, body.dark) .card,
  :where(html.dark, body.dark) .modal-content {
    background: #18213beb;
    border: 1px solid rgba(63, 93, 245, 0.28);
    box-shadow: 0 28px 55px #040916a6;
  }

  :where(html.dark, body.dark) .management-form-header h4,
  :where(html.dark, body.dark) .form-label,
  :where(html.dark, body.dark) .modal-title,
  :where(html.dark, body.dark) h2,
  :where(html.dark, body.dark) h3,
  :where(html.dark, body.dark) h4 {
    color: #dbeafe;
  }

  :where(html.dark, body.dark) .management-form-hint,
  :where(html.dark, body.dark) .text-muted,
  :where(html.dark, body.dark) .stat-desc,
  :where(html.dark, body.dark) .stat-title,
  :where(html.dark, body.dark) p {
    color: rgba(148, 163, 184, 0.78) !important;
  }

  :where(html.dark, body.dark) .management-form-icon {
    background: linear-gradient(135deg, rgba(63, 93, 245, 0.35), rgba(59, 130, 246, 0.18));
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .form-control,
  :where(html.dark, body.dark) input.flatpickr-input,
  :where(html.dark, body.dark) input.flatpickr-alt-input,
  :where(html.dark, body.dark) textarea {
    background-color: rgba(13, 19, 35, 0.9);
    border-color: rgba(63, 93, 245, 0.35);
    color: #e2e8f0;
  }

  :where(html.dark, body.dark) .form-control:disabled,
  :where(html.dark, body.dark) .form-select:disabled,
  :where(html.dark, body.dark) select.form-select:disabled {
    background: #0b1120f0;
    border-color: rgba(63, 93, 245, 0.32);
    color: rgba(226, 232, 240, 0.9);
    opacity: 0.95;
  }

  :where(html.dark, body.dark) .form-select,
  :where(html.dark, body.dark) select.form-select {
    background: linear-gradient(135deg, rgba(24, 33, 59, 0.96), rgba(18, 28, 52, 0.92));
    border-color: rgba(63, 93, 245, 0.35);
    color: rgba(226, 232, 240, 0.92);
    box-shadow: 0 20px 38px rgba(3, 8, 26, 0.6);
    background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%23dbeafe" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"%3E%3Cpath d="M6 9l6 6l6-6"/%3E%3C/svg%3E');
    background-repeat: no-repeat;
    background-position: right 1.35rem center;
    background-size: 0.75rem 0.75rem;
  }

  :where(html.dark, body.dark) .enhanced-select__trigger {
    background: linear-gradient(135deg, rgba(24, 33, 59, 0.96), rgba(18, 28, 52, 0.92));
    border-color: rgba(63, 93, 245, 0.35);
    color: rgba(226, 232, 240, 0.9);
    box-shadow: 0 20px 38px rgba(3, 8, 26, 0.6);
  }

  :where(html.dark, body.dark) .enhanced-select__trigger::after {
    background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%23dbeafe" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"%3E%3Cpath d="M6 9l6 6l6-6"/%3E%3C/svg%3E');
  }

  :where(html.dark, body.dark) .enhanced-select__trigger:hover,
  :where(html.dark, body.dark) .enhanced-select__trigger:focus-visible,
  :where(html.dark, body.dark) .enhanced-select[data-open='true'] .enhanced-select__trigger {
    background: linear-gradient(135deg, rgba(30, 42, 68, 0.98), rgba(27, 38, 70, 0.94));
    border-color: rgba(96, 165, 250, 0.45);
    box-shadow: 0 24px 46px rgba(15, 31, 65, 0.55);
    color: rgba(226, 232, 240, 0.95);
  }

  :where(html.dark, body.dark) .enhanced-select__trigger:focus-visible {
    outline: 3px solid rgba(99, 102, 241, 0.35);
  }

  :where(html.dark, body.dark) .enhanced-select__menu {
    background: linear-gradient(150deg, rgba(18, 28, 52, 0.96) 0%, rgba(11, 19, 38, 0.94) 100%);
    border-color: rgba(63, 93, 245, 0.32);
    box-shadow: 0 32px 58px rgba(3, 8, 26, 0.68);
  }

  :where(html.dark, body.dark) .enhanced-select__option {
    color: rgba(226, 232, 240, 0.85);
  }

  :where(html.dark, body.dark) .enhanced-select__option:hover,
  :where(html.dark, body.dark) .enhanced-select__option:focus {
    background: linear-gradient(135deg, rgba(34, 48, 86, 0.82), rgba(37, 56, 104, 0.76));
    box-shadow: inset 0 0 0 1px rgba(96, 165, 250, 0.35);
    color: rgba(226, 232, 240, 0.95);
  }

  :where(html.dark, body.dark) .enhanced-select__option[aria-selected='true'] {
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.32), rgba(139, 92, 246, 0.28));
    box-shadow: inset 0 0 0 1px rgba(129, 140, 248, 0.38), 0 12px 24px rgba(49, 67, 141, 0.32);
    color: rgba(235, 242, 255, 0.96);
  }

  :where(html.dark, body.dark) .form-select:hover,
  :where(html.dark, body.dark) .form-select:focus,
  :where(html.dark, body.dark) .form-select:focus-visible,
  :where(html.dark, body.dark) select.form-select:hover,
  :where(html.dark, body.dark) select.form-select:focus,
  :where(html.dark, body.dark) select.form-select:focus-visible {
    background: linear-gradient(135deg, rgba(30, 42, 68, 0.98), rgba(27, 38, 70, 0.94));
    border-color: rgba(96, 165, 250, 0.45);
    box-shadow: 0 24px 46px rgba(15, 31, 65, 0.55);
    color: rgba(226, 232, 240, 0.92);
  }

  :where(html.dark[dir='rtl'], body.dark[dir='rtl']) .form-select,
  :where(html.dark[dir='rtl'], body.dark[dir='rtl']) select.form-select {
    padding-inline: 2.75rem 1.25rem;
    background-position: left 1.35rem center;
  }

  :where(html.dark, body.dark) input:not([type='checkbox']):not([type='radio']):not([type='range']),
  :where(html.dark, body.dark) select,
  :where(html.dark, body.dark) textarea {
    background-color: rgba(13, 19, 35, 0.9);
    border-color: rgba(63, 93, 245, 0.35);
    color: #e2e8f0;
  }

  :where(html.dark, body.dark) input::placeholder,
  :where(html.dark, body.dark) textarea::placeholder,
  :where(html.dark, body.dark) select option {
    color: rgba(148, 163, 184, 0.65);
  }

  :where(html.dark, body.dark) .form-control:focus,
  :where(html.dark, body.dark) input.flatpickr-input:focus,
  :where(html.dark, body.dark) input.flatpickr-alt-input:focus,
  :where(html.dark, body.dark) .form-select:focus,
  :where(html.dark, body.dark) textarea:focus {
    border-color: rgba(99, 102, 241, 0.6);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.28);
  }

  :where(html.dark, body.dark) .flatpickr-calendar {
    background: linear-gradient(182deg, rgba(13, 20, 38, 0.98), rgba(7, 12, 27, 0.98)) !important;
    border: 1px solid rgba(92, 132, 214, 0.4) !important;
    box-shadow: 0 24px 48px rgba(4, 9, 22, 0.72) !important;
    color: #e2e8f0 !important;
  }

  :where(html.dark, body.dark) .flatpickr-calendar.arrowTop:before,
  :where(html.dark, body.dark) .flatpickr-calendar.arrowTop:after {
    border-bottom-color: rgba(13, 20, 38, 0.98) !important;
  }

  :where(html.dark, body.dark) .flatpickr-calendar.arrowBottom:before,
  :where(html.dark, body.dark) .flatpickr-calendar.arrowBottom:after {
    border-top-color: rgba(13, 20, 38, 0.98) !important;
  }

  :where(html.dark, body.dark) .flatpickr-months,
  :where(html.dark, body.dark) .flatpickr-weekdays {
    background: rgba(21, 30, 55, 0.96) !important;
    border-bottom: 1px solid rgba(92, 132, 214, 0.32) !important;
  }

  :where(html.dark, body.dark) .flatpickr-month,
  :where(html.dark, body.dark) .flatpickr-weekday,
  :where(html.dark, body.dark) .flatpickr-current-month,
  :where(html.dark, body.dark) .flatpickr-current-month input.cur-year {
    color: rgba(226, 232, 240, 0.88) !important;
  }

  :where(html.dark, body.dark) .customer-page {
    --customer-surface: #18213beb;
    --customer-surface-muted: rgba(24, 33, 59, 0.9);
    --customer-border: rgba(63, 93, 245, 0.32);
    --customer-border-strong: rgba(96, 165, 250, 0.48);
    --customer-input: rgba(12, 18, 40, 0.94);
    --customer-shadow: 0 28px 55px #040916a6;
    --customer-focus-ring: rgba(79, 70, 229, 0.32);
  }

  :where(html.dark, body.dark) .customer-page .glass-card,
  :where(html.dark, body.dark) .customer-page .box,
  :where(html.dark, body.dark) .customer-page .card,
  :where(html.dark, body.dark) .customer-page .modal-content,
  :where(html.dark, body.dark) .customer-page .table-responsive:not(.customer-table-wrapper) {
    background: var(--customer-surface);
    border-color: var(--customer-border);
    box-shadow: var(--customer-shadow);
  }

  :where(html.dark, body.dark) .customer-page .bg-base-100,
  :where(html.dark, body.dark) .customer-page .bg-base-100\/80,
  :where(html.dark, body.dark) .customer-page .bg-base-100\/75,
  :where(html.dark, body.dark) .customer-page .bg-base-100\/70,
  :where(html.dark, body.dark) .customer-page .bg-base-100\/60 {
    background-color: var(--customer-surface) !important;
  }

  :where(html.dark, body.dark) .customer-page .border-base-200,
  :where(html.dark, body.dark) .customer-page .border-base-200\/70,
  :where(html.dark, body.dark) .customer-page .border-base-200\/60 {
    border-color: var(--customer-border) !important;
  }

  :where(html.dark, body.dark) .customer-page .badge-outline,
  :where(html.dark, body.dark) .customer-page .badge-soft {
    background: var(--customer-input);
    border-color: var(--customer-border);
    color: rgba(226, 232, 240, 0.9);
  }

  :where(html.dark, body.dark) .customer-page .form-control,
  :where(html.dark, body.dark) .customer-page input.flatpickr-input,
  :where(html.dark, body.dark) .customer-page input.flatpickr-alt-input,
  :where(html.dark, body.dark) .customer-page textarea,
  :where(html.dark, body.dark) .customer-page .form-select,
  :where(html.dark, body.dark) .customer-page select.form-select {
    background-color: var(--customer-input);
    border-color: var(--customer-border) !important;
    color: rgba(226, 232, 240, 0.94);
    box-shadow: none;
  }

  :where(html.dark, body.dark) .customer-page .form-control:focus,
  :where(html.dark, body.dark) .customer-page input.flatpickr-input:focus,
  :where(html.dark, body.dark) .customer-page input.flatpickr-alt-input:focus,
  :where(html.dark, body.dark) .customer-page .form-select:focus,
  :where(html.dark, body.dark) .customer-page textarea:focus,
  :where(html.dark, body.dark) .customer-page select.form-select:focus {
    border-color: var(--customer-border-strong) !important;
    box-shadow: 0 0 0 3px var(--customer-focus-ring);
    background-color: var(--customer-input);
  }

  :where(html.dark, body.dark) .customer-page .form-control:disabled,
  :where(html.dark, body.dark) .customer-page .form-select:disabled,
  :where(html.dark, body.dark) .customer-page select.form-select:disabled {
    background: rgba(12, 18, 36, 0.96);
    border-color: var(--customer-border);
    color: rgba(226, 232, 240, 0.8);
    opacity: 0.9;
  }

  :where(html.dark, body.dark) .customer-page .filters-bar {
    background: var(--customer-surface-muted);
    border-color: var(--customer-border);
    box-shadow: none;
  }

  :where(html.dark, body.dark) .customer-page .filters-bar .btn {
    border-color: var(--customer-border);
  }

  .customer-page .dashboard-header {
    background: linear-gradient(135deg, rgba(248, 251, 255, 0.86) 0%, rgba(233, 241, 255, 0.82) 52%, rgba(226, 237, 255, 0.8) 100%) !important;
    border-color: rgba(148, 163, 184, 0.18);
    box-shadow: 0 20px 44px rgba(15, 23, 42, 0.14);
    -webkit-backdrop-filter: blur(16px);
    backdrop-filter: blur(16px);
  }

  :where(html.dark, body.dark) .customer-page .dashboard-header {
    background: linear-gradient(140deg, rgba(24, 33, 59, 0.94) 0%, rgba(18, 28, 52, 0.9) 52%, rgba(12, 22, 48, 0.84) 100%) !important;
    border-color: rgba(63, 93, 245, 0.3) !important;
    box-shadow: var(--customer-shadow);
    -webkit-backdrop-filter: blur(18px);
    backdrop-filter: blur(18px);
  }

  :where(html.dark, body.dark) .customer-page .dashboard-header .mobile-sidebar-toggle,
  :where(html.dark, body.dark) .customer-page .dashboard-header .btn-ghost {
    border-color: rgba(63, 93, 245, 0.28);
    color: rgba(226, 232, 240, 0.9);
  }

  :where(html.dark, body.dark) .customer-page .dashboard-header-nav {
    background: transparent;
  }

  :where(html.dark, body.dark) .customer-page .customer-primary-nav,
  :where(html.dark, body.dark) .customer-page .customer-tabbar {
    border-color: var(--customer-border);
  }

  .customer-page .customer-tabbar .tab-buttons {
    gap: clamp(0.45rem, 1vw, 0.7rem);
    padding: 0.5rem 0.85rem;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
  }

  .customer-page .customer-tabbar .tab-button {
    padding-inline: clamp(0.95rem, 3vw, 1.35rem);
    min-height: 2.75rem;
    transition: box-shadow 0.2s ease, transform 0.2s ease;
  }

  .customer-page .customer-primary-nav .tab-buttons {
    gap: clamp(0.4rem, 1vw, 0.65rem);
    padding: 0.45rem 0.75rem;
    justify-content: center;
  }

  .customer-page .customer-primary-nav .tab-button {
    padding-inline: clamp(0.85rem, 3vw, 1.15rem);
    min-height: 2.6rem;
    transition: box-shadow 0.2s ease, transform 0.2s ease, background 0.2s ease, color 0.2s ease;
  }

  .customer-page .customer-primary-nav .tab-button:hover,
  .customer-page .customer-primary-nav .tab-button:focus-visible {
    box-shadow: inset 0 0 0 2px rgba(76, 110, 245, 0.22), 0 16px 32px rgba(76, 110, 245, 0.18);
    transform: translateY(-1px);
    outline: none;
  }

  :where(html.dark, body.dark) .customer-page .customer-primary-nav .tab-button:hover,
  :where(html.dark, body.dark) .customer-page .customer-primary-nav .tab-button:focus-visible {
    box-shadow: inset 0 0 0 2px rgba(148, 197, 255, 0.3), 0 20px 40px rgba(10, 24, 54, 0.55);
    background: linear-gradient(135deg, rgba(47, 71, 120, 0.78), rgba(36, 56, 97, 0.72));
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .customer-page #customer-financial-stats > article,
  :where(html.dark, body.dark) .technician-page #technician-financial-stats > article {
    background: var(--customer-surface);
    border: 1px solid var(--customer-border);
    box-shadow: var(--customer-shadow);
  }

  :where(html.dark, body.dark) .customer-page #customer-financial-stats [class*="text-base-content"],
  :where(html.dark, body.dark) .technician-page #technician-financial-stats [class*="text-base-content"] {
    color: rgba(226, 232, 240, 0.92) !important;
  }

  :where(html.dark, body.dark) .customer-page #customer-financial-stats [class*="text-base-content/60"],
  :where(html.dark, body.dark) .technician-page #technician-financial-stats [class*="text-base-content/60"] {
    color: rgba(148, 163, 184, 0.78) !important;
  }

  :where(html.dark, body.dark) .customer-page #customer-details > *,
  :where(html.dark, body.dark) .technician-page #technician-details > article {
    background: var(--customer-input);
    border: 1px solid var(--customer-border);
    border-radius: 1.75rem;
    padding: 1.2rem 1.4rem;
    box-shadow: var(--customer-shadow);
  }

  :where(html.dark, body.dark) .customer-page #customer-details [class*="text-base-content"],
  :where(html.dark, body.dark) .technician-page #technician-details [class*="text-base-content"] {
    color: rgba(226, 232, 240, 0.92) !important;
  }

  :where(html.dark, body.dark) .customer-page #customer-details [class*="text-base-content/60"],
  :where(html.dark, body.dark) .customer-page #customer-details [class*="text-base-content/70"],
  :where(html.dark, body.dark) .technician-page #technician-details [class*="text-base-content/60"],
  :where(html.dark, body.dark) .technician-page #technician-details [class*="text-base-content/70"] {
    color: rgba(148, 163, 184, 0.78) !important;
  }

  :where(html.dark, body.dark) .customer-page #customer-details .btn.btn-outline,
  :where(html.dark, body.dark) .customer-page #customer-details .btn.btn-outline:hover {
    border-color: var(--customer-border-strong);
    color: rgba(226, 232, 240, 0.95);
    background: linear-gradient(135deg, rgba(63, 93, 245, 0.18), rgba(96, 165, 250, 0.24));
  }

  :where(html.dark, body.dark) .customer-page .payment-line {
    background: rgba(12, 18, 40, 0.92);
    border: 1px solid rgba(63, 93, 245, 0.28);
    border-radius: 1.25rem;
    padding: 0.85rem 1rem;
    box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.35);
  }

  :where(html.dark, body.dark) .customer-page .payment-line-label {
    color: rgba(203, 213, 225, 0.78);
  }

  :where(html.dark, body.dark) .customer-page .bg-primary\/10 {
    background-color: rgba(59, 130, 246, 0.22) !important;
    color: rgba(191, 219, 254, 0.95) !important;
  }

  :where(html.dark, body.dark) .customer-page .bg-info\/10 {
    background-color: rgba(14, 165, 233, 0.22) !important;
    color: rgba(224, 242, 254, 0.95) !important;
  }

  :where(html.dark, body.dark) .customer-page .bg-success\/10 {
    background-color: rgba(34, 197, 94, 0.22) !important;
    color: rgba(220, 252, 231, 0.9) !important;
  }

  :where(html.dark, body.dark) .customer-page .bg-secondary\/10 {
    background-color: rgba(129, 140, 248, 0.22) !important;
    color: rgba(224, 231, 255, 0.95) !important;
  }

  :where(html.dark, body.dark) .customer-page .bg-warning\/10 {
    background-color: rgba(250, 204, 21, 0.22) !important;
    color: rgba(255, 237, 213, 0.95) !important;
  }

  :where(html.dark, body.dark) .flatpickr-day {
    color: #f8fafc !important;
    border-radius: 10px !important;
  }

  :where(html.dark, body.dark) .flatpickr-day:hover,
  :where(html.dark, body.dark) .flatpickr-day:focus {
    background: rgba(59, 130, 246, 0.32) !important;
    box-shadow: inset 0 0 0 1px rgba(96, 165, 250, 0.48) !important;
  }

  :where(html.dark, body.dark) .flatpickr-day.today {
    background: rgba(59, 130, 246, 0.2) !important;
    border-color: rgba(96, 165, 250, 0.6) !important;
    color: #dbeafe !important;
  }

  :where(html.dark, body.dark) .flatpickr-day.selected,
  :where(html.dark, body.dark) .flatpickr-day.startRange,
  :where(html.dark, body.dark) .flatpickr-day.endRange {
    background: linear-gradient(135deg, #2563eb, #1d4ed8) !important;
    color: #f8fafc !important;
    box-shadow: 0 14px 28px rgba(37, 99, 235, 0.38) !important;
  }

  :where(html.dark, body.dark) .flatpickr-day.inRange {
    background: rgba(59, 130, 246, 0.24) !important;
    color: #e2e8f0 !important;
  }

  :where(html.dark, body.dark) .flatpickr-time,
  :where(html.dark, body.dark) .flatpickr-time input,
  :where(html.dark, body.dark) .flatpickr-time .numInputWrapper,
  :where(html.dark, body.dark) .flatpickr-time .flatpickr-am-pm {
    background: rgba(16, 24, 44, 0.95) !important;
    border: 1px solid rgba(96, 143, 230, 0.4) !important;
    color: #f1f5f9 !important;
  }

  :where(html.dark, body.dark) .flatpickr-time .numInputWrapper span.arrowUp::after,
  :where(html.dark, body.dark) .flatpickr-time .numInputWrapper span.arrowDown::after {
    border-color: rgba(203, 213, 225, 0.75) !important;
  }

  :where(html.dark, body.dark) .flatpickr-time .flatpickr-time-separator {
    color: rgba(226, 232, 240, 0.78) !important;
    font-weight: 600 !important;
  }

  :where(html.dark, body.dark) .input-group-text,
  :where(html.dark, body.dark) .form-check-label,
  :where(html.dark, body.dark) label {
    color: #dbeafe;
  }

  :where(html.dark, body.dark) .input-group-text {
    background-color: rgba(17, 26, 46, 0.92);
    border-color: rgba(63, 93, 245, 0.35);
  }

  :where(html.dark, body.dark) .selected-list,
  :where(html.dark, body.dark) .selected-technicians-list,
  :where(html.dark, body.dark) .project-focus-card,
  :where(html.dark, body.dark) .calendar-panel,
  :where(html.dark, body.dark) #calendar {
    background-color: rgba(11, 17, 32, 0.92);
    border-color: rgba(63, 93, 245, 0.25);
    color: #dbeafe;
  }

  :where(html.dark, body.dark) .selected-list .badge,
  :where(html.dark, body.dark) .selected-technicians-list .badge {
    border-color: rgba(99, 102, 241, 0.4);
    color: #dbeafe;
  }

  :where(html.dark, body.dark) .suggestions-list {
    background: rgba(11, 17, 32, 0.94);
    border-color: rgba(99, 102, 241, 0.32);
    box-shadow: 0 26px 50px rgba(4, 10, 26, 0.65);
    color: #e2e8f0;
    backdrop-filter: blur(14px);
  }

  :where(html.dark, body.dark) .suggestion-item__meta {
    color: rgba(148, 163, 184, 0.65);
  }

  :where(html.dark, body.dark) .suggestion-item:hover,
  :where(html.dark, body.dark) .suggestion-item:focus {
    background: rgba(63, 93, 245, 0.32);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) table {
    background: rgba(11, 17, 32, 0.94);
    border-color: rgba(63, 93, 245, 0.24);
    color: #dbeafe;
  }

  :where(html.dark, body.dark) table thead {
    background: linear-gradient(135deg, rgba(63, 93, 245, 0.28), rgba(20, 32, 62, 0.92));
    color: #f1f5f9;
  }

  :where(html.dark, body.dark) table tbody td,
  :where(html.dark, body.dark) table tbody th {
    border-color: rgba(32, 49, 78, 0.75);
    color: #cfd8f6;
  }

  :where(html.dark, body.dark) .technician-page {
    --technician-surface: var(--customer-surface, rgba(24, 33, 59, 0.92));
    --technician-border: var(--customer-border, rgba(63, 93, 245, 0.32));
    --technician-shadow: var(--customer-shadow, 0 28px 55px #040916a6);
    --technician-muted: var(--customer-input, rgba(12, 18, 40, 0.92));
  }

  :where(html.dark, body.dark) .technician-page .modal-content,
  :where(html.dark, body.dark) .technician-page .table-responsive,
  :where(html.dark, body.dark) .technician-page .glass-card,
  :where(html.dark, body.dark) .technician-page .card,
  :where(html.dark, body.dark) .technician-page .box {
    background: var(--technician-surface);
    border-color: var(--technician-border);
    box-shadow: var(--technician-shadow);
  }

  :where(html.dark, body.dark) .technician-page .modal-header,
  :where(html.dark, body.dark) .technician-page .modal-footer {
    border-color: color-mix(in srgb, var(--technician-border) 70%, transparent);
  }

  :where(html.dark, body.dark) #technician-financial-modal-summary {
    background: linear-gradient(135deg, rgba(25, 37, 70, 0.92), rgba(16, 26, 52, 0.92));
    border-color: rgba(99, 102, 241, 0.35);
  }

  :where(html.dark, body.dark) #technician-financial-modal-empty,
  :where(html.dark, body.dark) .technician-payouts-empty {
    background: transparent;
    border-color: rgba(99, 102, 241, 0.28);
    color: rgba(203, 213, 225, 0.78);
  }

  :where(html.dark, body.dark) .technician-page .technician-payout-form,
  :where(html.dark, body.dark) .technician-page .technician-payout-item {
    background: var(--technician-surface);
    border-color: var(--technician-border);
    box-shadow: var(--technician-shadow);
  }

  :where(html.dark, body.dark) .technician-page .technician-payout-item-head {
    color: rgba(203, 213, 225, 0.7);
  }

  :where(html.dark, body.dark) .technician-page .technician-payout-amount {
    color: rgba(226, 232, 240, 0.95);
  }

  :where(html.dark, body.dark) .technician-page .technician-payout-note {
    color: rgba(203, 213, 225, 0.78);
  }

  #technician-financial-modal-table-wrapper.table-responsive {
    background: transparent;
    border: none;
    box-shadow: none;
    border-radius: 0;
    padding: 0;
  }

  :where(html.dark, body.dark) #technician-financial-modal-table-wrapper.table-responsive {
    background: transparent;
    border: none;
    box-shadow: none;
  }

  #technician-financial-modal-table {
    background: transparent;
  }

  #technician-financial-modal-table {
    border-collapse: separate;
    border-spacing: 0;
  }

  #technician-financial-modal-table thead tr {
    background: linear-gradient(135deg, rgba(236, 246, 255, 0.92), rgba(219, 234, 254, 0.85));
    color: #0f172a;
  }

  #technician-financial-modal-table tbody tr:not(:last-child) {
    border-bottom: 1px solid rgba(148, 163, 184, 0.25);
  }

  #technician-financial-modal-table td,
  #technician-financial-modal-table th {
    padding-block: 0.65rem;
    padding-inline: 0.75rem;
    vertical-align: middle;
  }

  :where(html.dark, body.dark) #technician-financial-modal-table thead tr {
    background: transparent;
    color: #f1f5f9;
  }

  :where(html.dark, body.dark) #technician-financial-modal-table tbody tr:not(:last-child) {
    border-color: rgba(55, 75, 115, 0.6);
  }

  :where(html.dark, body.dark) #technician-financial-modal-table td,
  :where(html.dark, body.dark) #technician-financial-modal-table th {
    color: rgba(219, 234, 254, 0.92);
    background: transparent;
  }

  #technician-financial-modal-table tbody tr:hover {
    background: rgba(59, 130, 246, 0.08);
  }

  :where(html.dark, body.dark) #technician-financial-modal-table tbody tr:hover {
    background: rgba(59, 130, 246, 0.15);
  }

  :where(html.dark, body.dark) #technician-financial-modal-table {
    background: transparent;
  }

  .technician-payouts-section {
    @apply space-y-4;
  }

  .technician-payout-form {
    @apply space-y-4 rounded-2xl border border-base-200 bg-base-100/80 p-4;
  }

  .technician-payout-form-grid {
    @apply grid gap-3 md:grid-cols-3;
  }

  .technician-payout-note-field {
    @apply md:col-span-3;
  }

  .technician-payouts-empty {
    @apply rounded-2xl border border-dashed border-base-200 px-4 py-3 text-sm;
  }

  .technician-payouts-list {
    @apply flex flex-col gap-3;
  }

  .technician-payout-item {
    @apply flex flex-col gap-3 rounded-2xl border border-base-200 bg-base-100/80 p-4 md:flex-row md:items-center md:justify-between;
  }

  .technician-payout-item-body {
    @apply flex-1 space-y-2;
  }

  .technician-payout-item-head {
    @apply flex flex-wrap items-center gap-3 text-sm;
    color: hsl(var(--bc) / 0.65);
  }

  .technician-payout-amount {
    @apply text-lg font-semibold text-base-content;
  }

  .technician-payout-date {
    @apply text-xs;
    color: hsl(var(--bc) / 0.55);
  }

  :where(html.dark, body.dark) .btn-outline-secondary {
    border-color: rgba(148, 163, 184, 0.45);
    color: #dbeafe;
    background-color: rgba(17, 26, 46, 0.65);
  }

  :where(html.dark, body.dark) .btn-outline-secondary:hover {
    background-color: rgba(63, 93, 245, 0.25);
    border-color: rgba(99, 102, 241, 0.55);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .modal-header,
  :where(html.dark, body.dark) .modal-footer {
    border-color: rgba(32, 49, 78, 0.6);
  }

  :where(html.dark, body.dark) .badge {
    background: rgba(63, 93, 245, 0.25);
    color: #dbeafe;
    border: 1px solid rgba(99, 102, 241, 0.35);
  }

  .table-responsive:not(.customer-table-wrapper) {
    @apply overflow-x-auto rounded-3xl border border-base-200 bg-base-100 shadow-soft;
    -webkit-overflow-scrolling: touch;
  }

  .table-responsive > table {
    @apply min-w-full;
  }

  .btn-close {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 34px;
    height: 34px;
    border-radius: 9999px;
    border: 1px solid rgba(148, 163, 184, 0.35);
    background: rgba(255, 255, 255, 0.94);
    color: rgba(30, 41, 59, 0.92);
    box-shadow: 0 12px 28px rgba(15, 23, 42, 0.12);
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
    transition-duration: 0.15s;
    transition-timing-function: cubic-bezier(.4, 0, .2, 1);
    outline: none;
  }

  .btn-close::before {
    content: '✕';
    font-size: 0.9rem;
    line-height: 1;
  }

  .btn-close:hover,
  .btn-close:focus-visible {
    border-color: rgba(76, 110, 245, 0.5);
    background: rgba(255, 255, 255, 0.98);
    color: rgba(37, 99, 235, 0.95);
    box-shadow: 0 16px 30px rgba(15, 23, 42, 0.16);
    outline: 2px solid rgba(76, 110, 245, 0.45);
    outline-offset: 2px;
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode, html[data-theme="dark"], body[data-theme="dark"]) .btn-close {
    background: rgba(17, 28, 50, 0.9);
    border-color: rgba(93, 133, 255, 0.4);
    color: rgba(226, 232, 240, 0.9);
    box-shadow: 0 18px 36px rgba(2, 6, 23, 0.7);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode, html[data-theme="dark"], body[data-theme="dark"]) .btn-close:hover,
  :where(html.dark, body.dark, html.dark-mode, body.dark-mode, html[data-theme="dark"], body[data-theme="dark"]) .btn-close:focus-visible {
    background: rgba(24, 36, 64, 0.92);
    border-color: rgba(125, 166, 255, 0.55);
    color: rgba(191, 219, 254, 0.95);
    box-shadow: 0 20px 40px rgba(2, 6, 23, 0.78);
    outline: 2px solid rgba(125, 166, 255, 0.55);
    outline-offset: 2px;
  }

  .btn.modal-close-btn {
    @apply inline-flex items-center justify-center gap-2 font-semibold transition duration-150 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
    padding: 0.6rem 1.4rem;
    border-radius: 999px;
    border: 1px solid rgba(148, 163, 184, 0.45);
    background: rgba(248, 250, 255, 0.95);
    color: #1f2937;
    box-shadow: 0 10px 24px rgba(15, 23, 42, 0.12);
  }

  .btn.modal-close-btn:hover,
  .btn.modal-close-btn:focus-visible {
    border-color: rgba(76, 110, 245, 0.5);
    background: rgba(255, 255, 255, 0.98);
    color: rgba(37, 99, 235, 0.95);
    box-shadow: 0 16px 30px rgba(15, 23, 42, 0.18);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode, html[data-theme="dark"], body[data-theme="dark"]) .btn.modal-close-btn {
    background: rgba(17, 28, 50, 0.88);
    border-color: rgba(93, 133, 255, 0.45);
    color: rgba(226, 232, 240, 0.92);
    box-shadow: 0 18px 38px rgba(2, 6, 23, 0.7);
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode, html[data-theme="dark"], body[data-theme="dark"]) .btn.modal-close-btn:hover,
  :where(html.dark, body.dark, html.dark-mode, body.dark-mode, html[data-theme="dark"], body[data-theme="dark"]) .btn.modal-close-btn:focus-visible {
    background: rgba(24, 36, 64, 0.92);
    border-color: rgba(125, 166, 255, 0.6);
    color: rgba(191, 219, 254, 0.96);
    box-shadow: 0 22px 44px rgba(2, 6, 23, 0.78);
  }

  .modal {
    @apply fixed inset-0 z-50 hidden overflow-y-auto p-4;
  }

  .modal.show {
    @apply flex;
    pointer-events: auto;
    visibility: visible;
    opacity: 1;
  }

  .modal.show .modal-dialog {
    pointer-events: auto;
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode, html[data-theme="dark"], body[data-theme="dark"]) .maintenance-stat {
    color: rgba(226, 232, 240, 0.95) !important;
  }

  :where(html.dark, body.dark, html.dark-mode, body.dark-mode, html[data-theme="dark"], body[data-theme="dark"]) .maintenance-stat strong {
    color: rgba(191, 219, 254, 0.98) !important;
  }

  .modal-dialog {
    @apply relative mx-auto my-auto w-full max-w-3xl;
  }

  .modal-lg {
    @apply max-w-4xl;
  }

  .modal-dialog.modal-sm {
    max-width: 24rem;
    width: 100%;
  }

  .modal-content {
    @apply bg-base-100 text-base-content rounded-3xl border border-base-200 shadow-soft overflow-hidden;
  }

  .modal-header,
  .modal-footer {
    @apply flex items-center justify-between gap-4 px-6 py-4;
  }

  .modal-header {
    @apply border-b border-base-200;
  }

  .modal-footer {
    @apply border-t border-base-200 justify-end;
  }

  .modal-body {
    @apply px-6 py-5 space-y-4;
  }

  .modal-backdrop.show {
    @apply fixed inset-0 z-40 bg-slate-900 backdrop-blur-sm;
    background-color: rgb(15 23 42 / 0.45);
  }

  .row {
    @apply flex flex-wrap -mx-2 gap-y-3;
  }

  .row.g-2 {
    @apply gap-2;
  }

  .row.g-3 {
    @apply gap-3;
  }

  .row.g-4 {
    @apply gap-4;
  }

  .row > [class*='col-'] {
    @apply w-full px-2;
  }

  @screen sm {
    .col-sm-6 {
      @apply w-1/2;
    }
  }

  @screen md {
    .col-md-4 {
      @apply w-1/3;
    }

    .col-md-6 {
      @apply w-1/2;
    }

    .col-md-8 {
      @apply w-2/3;
    }

    .col-md-12 {
      @apply w-full;
    }
  }

  @screen lg {
    .col-lg-3 {
      @apply w-1/4;
    }

    .col-lg-4 {
      @apply w-1/3;
    }

    .col-lg-6 {
      @apply w-1/2;
    }

    .col-lg-8 {
      @apply w-2/3;
    }
  }
}
  [dir='rtl'] .equipment-card__info-item:not(:first-child)::before {
    left: auto;
    right: -6px;
  }

.reservation-payment-card {
  background: linear-gradient(135deg, rgba(247, 249, 255, 0.96), rgba(232, 239, 255, 0.92));
  border: 1px solid rgba(99, 102, 241, 0.18);
  border-radius: 1.25rem;
  padding: clamp(1rem, 1.8vw, 1.6rem);
  box-shadow:
    0 18px 38px rgba(15, 23, 42, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.45);
}

.reservation-payment-card__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: clamp(0.85rem, 1.4vw, 1.2rem);
}

.reservation-payment-card__title {
  font-weight: 700;
  font-size: clamp(1rem, 1.3vw, 1.1rem);
  color: hsl(var(--bc));
}

.reservation-payment-card__body {
  display: grid;
  gap: clamp(0.85rem, 1.5vw, 1.3rem);
}

.reservation-payment-card__toggles {
  display: flex;
  flex-wrap: wrap;
  gap: 0.65rem 1rem;
}

.reservation-option-card {
  position: relative;
  flex: 1 1 200px;
  min-width: min(100%, 220px);
}

.reservation-option-card__input {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  border: 0;
  padding: 0;
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  overflow: hidden;
}

.reservation-option-card__label {
  position: relative;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1.1rem;
  border-radius: 1rem;
  border: 1px solid rgba(68, 70, 165, 0.28);
  background: rgba(232, 236, 255, 0.68);
  color: hsl(222deg 33% 26%);
  font-weight: 600;
  cursor: pointer;
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.55),
    0 10px 22px rgba(68, 70, 165, 0.08);
  transition: border-color 0.2s ease, background-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
}

.reservation-option-card__check {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 2.2rem;
  height: 2.2rem;
  border-radius: 0.75rem;
  border: 1px solid rgba(68, 70, 165, 0.4);
  background: rgba(248, 249, 255, 0.95);
  font-size: 1.15rem;
  color: transparent;
  transition: border-color 0.2s ease, background-color 0.2s ease, color 0.2s ease, transform 0.2s ease;
}

.reservation-option-card__text {
  flex: 1 1 auto;
  line-height: 1.35;
}

.reservation-option-card__input:checked + .reservation-option-card__label {
  background: linear-gradient(135deg, rgba(62, 72, 190, 0.18), rgba(96, 165, 250, 0.14));
  border-color: rgba(62, 72, 190, 0.52);
  color: hsl(226deg 44% 26%);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.68),
    0 12px 26px rgba(62, 72, 190, 0.14);
}

.reservation-option-card__input:checked + .reservation-option-card__label .reservation-option-card__check {
  border-color: rgba(62, 72, 190, 0.65);
  background: rgba(62, 72, 190, 0.18);
  color: rgba(62, 72, 190, 0.9);
  transform: scale(1.03);
}

.reservation-option-card__input:checked + .reservation-option-card__label .reservation-option-card__check::before {
  content: '✔';
}

.reservation-option-card__input:focus-visible + .reservation-option-card__label {
  box-shadow:
    0 0 0 3px rgba(59, 130, 246, 0.18),
    0 12px 28px rgba(59, 130, 246, 0.12);
}

.reservation-option-card__label:hover {
  border-color: rgba(62, 72, 190, 0.45);
}

:is(html.dark, body.dark) .reservation-option-card__label {
  background: rgba(28, 38, 74, 0.7);
  border-color: rgba(121, 134, 224, 0.36);
  color: rgba(226, 232, 240, 0.88);
  box-shadow:
    inset 0 1px 0 rgba(148, 163, 255, 0.08),
    0 14px 30px rgba(8, 14, 32, 0.4);
}

:is(html.dark, body.dark) .reservation-option-card__input:checked + .reservation-option-card__label {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.24), rgba(79, 70, 229, 0.3));
  border-color: rgba(129, 140, 248, 0.55);
  color: rgba(226, 232, 240, 0.94);
}

:is(html.dark, body.dark) .reservation-option-card__input:checked + .reservation-option-card__label .reservation-option-card__check {
  border-color: rgba(147, 197, 253, 0.7);
  background: rgba(147, 197, 253, 0.2);
  color: rgba(226, 232, 240, 0.96);
}

.reservation-payment-card__field .form-label {
  margin-bottom: 0.45rem;
}

.btn-confirm-toggle {
  min-height: 3rem;
  font-weight: 700;
  letter-spacing: 0.02em;
  border-radius: 1rem;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.btn-confirm-toggle.btn-success {
  box-shadow: 0 14px 28px rgba(34, 197, 94, 0.25);
}

.btn-confirm-toggle:hover:not(:disabled),
.btn-confirm-toggle:focus-visible:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 18px 36px rgba(59, 130, 246, 0.18);
}

#edit-res-confirmed-wrapper.is-disabled .btn-confirm-toggle {
  opacity: 0.7;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

:is(html.dark, body.dark) .reservation-payment-card {
  background: linear-gradient(135deg, rgba(17, 27, 53, 0.92), rgba(27, 38, 72, 0.88));
  border-color: rgba(99, 102, 241, 0.32);
  box-shadow:
    0 22px 44px rgba(7, 12, 27, 0.6),
    inset 0 1px 0 rgba(148, 163, 255, 0.08);
}

:is(html.dark, body.dark) .reservation-payment-card__title {
  color: rgba(226, 232, 240, 0.94);
}

:is(html.dark, body.dark) .btn-confirm-toggle {
  border-color: rgba(148, 163, 255, 0.35);
  color: rgba(226, 232, 240, 0.9);
  background: rgba(30, 64, 175, 0.22);
}

:is(html.dark, body.dark) .btn-confirm-toggle.btn-success {
  background: rgba(22, 163, 74, 0.28);
  border-color: rgba(34, 197, 94, 0.5);
  color: rgba(226, 232, 240, 0.95);
}


.reservation-notes--compact {
  min-height: 96px;
  resize: vertical;
  width: 100%;
  max-width: none;
}

/* === Equipment Package Manager === */
.equipment-packages-box .equipment-package-form-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.equipment-packages-box .form-field--wide {
  grid-column: 1 / -1;
}

.equipment-package-items-editor {
  margin-top: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.equipment-package-selection-controls {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: 1rem;
}

.equipment-package-selection-active {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 1rem;
}

.equipment-package-selection-active[hidden] {
  display: none !important;
}

.equipment-package-selection-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.equipment-package-items-table-wrapper {
  border: 1px solid var(--border-color-muted);
  border-radius: 12px;
  padding: 0.5rem;
  background: var(--surface-subtle);
}

/* Unify and center: "اختيار من قائمة المعدات" button */
.equipment-packages-box #equipment-package-open-selector {
  background: linear-gradient(135deg, var(--clr-primary) 0%, var(--clr-primary-soft) 100%);
  color: #fff;
  border: none;
  border-radius: 999px;
  padding: 10px 22px;
  box-shadow: var(--shadow-sm);
}

.equipment-packages-box #equipment-package-open-selector:hover,
.equipment-packages-box #equipment-package-open-selector:focus-visible {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.equipment-packages-box #equipment-package-open-selector:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

:is(html.dark-mode, body.dark-mode) .equipment-packages-box #equipment-package-open-selector {
  color: #e2e8f0;
}

.equipment-package-items-summary {
  margin: 0.5rem 0 0;
  padding-inline-start: 1.25rem;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

/* Reservation equipment layout adjustments */
.reservation-equipment-inputs {
  display: grid;
  gap: 0.75rem;
}

.reservation-equipment-inputs--single,
.reservation-equipment-inputs--package {
  margin-bottom: 1.25rem;
}

.reservation-equipment-subtitle {
  font-size: 0.95rem;
  font-weight: 700;
  margin-bottom: 0.25rem;
  color: var(--text-strong, #1f2937);
}

/* Reservation equipment UI refresh */
.reservation-equipment-mode-toggle {
  display: inline-flex;
  gap: 0.5rem;
  padding: 0.35rem;
  border-radius: 999px;
  border: 1px solid #e2e8f0;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  box-shadow: 0 6px 16px rgba(15, 23, 42, 0.05);
  margin-bottom: 1rem;
}

.reservation-equipment-mode-toggle .reservation-mode-button {
  border: none;
  color: #1e293b;
  font-weight: 600;
  border-radius: 999px;
  padding: 0.45rem 1.25rem;
  background: transparent;
  transition: all 0.2s ease-in-out;
}

.reservation-equipment-mode-toggle .reservation-mode-button:hover,
.reservation-equipment-mode-toggle .reservation-mode-button:focus {
  background: rgba(37, 99, 235, 0.08);
  color: #1d4ed8;
}

.btn-check:checked + .reservation-mode-button {
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
  color: #fff;
  box-shadow: 0 10px 24px rgba(37, 99, 235, 0.35);
}

.reservation-equipment-inputs {
  border: 1px solid #e2e8f0;
  border-radius: 20px;
  padding: 1.2rem;
  background: #fff;
  box-shadow: 0 12px 30px rgba(15, 23, 42, 0.06);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.reservation-equipment-inputs + .reservation-equipment-inputs {
  margin-top: 1rem;
}

.reservation-equipment-inputs:focus-within {
  border-color: #2563eb;
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.15);
}

.reservation-select-equipment-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.45rem;
  padding: 0.6rem 1.4rem;
  border-radius: 999px;
  border: 1px solid #2563eb;
  background: #fff;
  color: #2563eb;
  font-weight: 600;
  box-shadow: 0 8px 18px rgba(37, 99, 235, 0.15);
  transition: all 0.2s ease-in-out;
}

.reservation-select-equipment-btn:hover,
.reservation-select-equipment-btn:focus {
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
  color: #fff;
  box-shadow: 0 12px 30px rgba(37, 99, 235, 0.35);
}

.reservation-select-equipment-btn--active {
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
  color: #fff;
  box-shadow: 0 14px 32px rgba(37, 99, 235, 0.4);
}

.reservation-equipment-subtitle {
  font-weight: 600;
  color: #0f172a;
  margin-bottom: 0.75rem;
}

.reservation-equipment-hint {
  font-size: 0.85rem;
  color: #475569;
  margin-top: 0.5rem;
}

:is(html.dark, body.dark) .reservation-equipment-mode-toggle {
  border-color: rgba(148, 163, 184, 0.35);
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.92) 100%);
  box-shadow: 0 10px 28px rgba(8, 47, 73, 0.35);
}

:is(html.dark, body.dark) .reservation-equipment-mode-toggle .reservation-mode-button {
  color: #e2e8f0;
}

:is(html.dark, body.dark) .reservation-equipment-mode-toggle .reservation-mode-button:hover,
:is(html.dark, body.dark) .reservation-equipment-mode-toggle .reservation-mode-button:focus {
  background: rgba(37, 99, 235, 0.18);
  color: #93c5fd;
}

:is(html.dark, body.dark) .btn-check:checked + .reservation-mode-button {
  box-shadow: 0 12px 28px rgba(37, 99, 235, 0.45);
}

:is(html.dark, body.dark) .reservation-equipment-inputs {
  border-color: rgba(148, 163, 184, 0.35);
  background: linear-gradient(145deg, rgba(15, 23, 42, 0.96) 0%, rgba(15, 23, 42, 0.85) 100%);
  box-shadow: 0 14px 34px rgba(2, 6, 23, 0.55);
}

:is(html.dark, body.dark) .reservation-equipment-inputs:focus-within {
  border-color: rgba(59, 130, 246, 0.75);
  box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.28);
}

:is(html.dark, body.dark) .reservation-select-equipment-btn {
  border-color: rgba(96, 165, 250, 0.85);
  background: rgba(23, 37, 84, 0.45);
  color: #bfdbfe;
  box-shadow: 0 12px 26px rgba(30, 64, 175, 0.45);
}

:is(html.dark, body.dark) .reservation-select-equipment-btn:hover,
:is(html.dark, body.dark) .reservation-select-equipment-btn:focus {
  background: linear-gradient(135deg, #1d4ed8 0%, #1e3a8a 100%);
  color: #f8fafc;
  box-shadow: 0 14px 36px rgba(30, 64, 175, 0.55);
}

:is(html.dark, body.dark) .reservation-select-equipment-btn--active {
  background: linear-gradient(135deg, #1d4ed8 0%, #1e3a8a 100%);
  color: #f8fafc;
  box-shadow: 0 16px 38px rgba(37, 99, 235, 0.6);
}

:is(html.dark, body.dark) .reservation-equipment-subtitle {
  color: #e2e8f0;
}

:is(html.dark, body.dark) .reservation-equipment-hint {
  color: #cbd5f5;
}
