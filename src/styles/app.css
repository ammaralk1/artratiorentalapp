@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    font-feature-settings: 'kern';
    scroll-behavior: smooth;
  }

  html {
    @apply font-tajawal;
  }

  body {
    @apply bg-base-200 text-base-content min-h-screen antialiased;
  }

  [dir='rtl'] {
    font-family: 'Tajawal', ui-sans-serif, system-ui, sans-serif;
  }
}

@layer components {
  .page-shell {
    @apply min-h-screen bg-base-200 text-base-content;
  }

  .page-grid {
    @apply flex flex-col min-h-screen;
    background: linear-gradient(135deg, rgba(238, 242, 255, 0.95) 0%, rgba(248, 250, 252, 0.92) 55%, rgba(248, 250, 252, 0));
  }

  html.dark,
  body.dark {
    background: linear-gradient(180deg, #040914 0%, #0b1120 55%, #111a2e 100%);
    color: #e2e8f0;
  }

  html.dark .page-grid,
  body.dark .page-grid {
    background: linear-gradient(135deg, rgba(11, 17, 32, 0.98) 0%, rgba(8, 14, 30, 0.92) 45%, rgba(16, 25, 46, 0.85) 100%);
  }

  .dashboard-header {
    @apply sticky top-0 z-40 backdrop-blur border-b border-base-200 bg-base-100 shadow-sm;
    background-color: hsl(var(--b1) / 0.92);
  }

  .dashboard-header-nav {
    @apply container mx-auto flex items-center justify-between gap-4 px-4 py-4;
  }

  .sidebar-shell {
    @apply flex flex-col gap-4 backdrop-blur border-l border-base-200 shadow-soft p-6 w-72 xl:w-80;
    background: linear-gradient(180deg, rgba(248, 250, 255, 0.96) 0%, rgba(238, 242, 255, 0.9) 100%);
    height: calc(100vh - 1.5rem);
    overflow-y: auto;
    scrollbar-width: thin;
  }

  :where(html.dark, body.dark) .sidebar-shell {
    background: linear-gradient(180deg, rgba(9, 14, 28, 0.97) 0%, rgba(8, 18, 40, 0.92) 100%);
    border-color: rgba(63, 93, 245, 0.28);
    box-shadow: 0 32px 55px rgba(4, 9, 22, 0.65);
  }

  .sidebar-shell::-webkit-scrollbar {
    width: 6px;
  }

  .sidebar-shell::-webkit-scrollbar-thumb {
    background: rgba(148, 197, 255, 0.35);
    border-radius: 999px;
  }

  :where(html.dark, body.dark) .sidebar-shell::-webkit-scrollbar-thumb {
    background: rgba(63, 93, 245, 0.45);
  }

  .sidebar-panel {
    @apply bg-base-100 shadow-soft border border-base-200 rounded-3xl p-5;
    background: linear-gradient(140deg, rgba(248, 250, 255, 0.96) 0%, rgba(238, 242, 255, 0.9) 100%);
    backdrop-filter: blur(18px);
    box-shadow: 0 18px 35px rgba(15, 23, 42, 0.08);
  }

  .sidebar-panel + .sidebar-panel {
    @apply mt-4;
  }

  :where(html.dark, body.dark) .sidebar-panel {
    background: linear-gradient(140deg, rgba(14, 24, 48, 0.96) 0%, rgba(9, 17, 36, 0.9) 100%);
    border-color: rgba(63, 93, 245, 0.32);
    box-shadow: inset 0 0 0 1px rgba(63, 93, 245, 0.16), 0 26px 48px rgba(4, 9, 22, 0.68);
  }

  :where(html.dark, body.dark) .sidebar-shell p,
  :where(html.dark, body.dark) .sidebar-shell span {
    color: rgba(219, 234, 254, 0.85);
  }

  :where(html.dark, body.dark) .sidebar-shell .badge-soft {
    background: rgba(63, 93, 245, 0.22);
    border-color: rgba(99, 102, 241, 0.4);
    color: #e2e8f0;
  }

  :where(html.dark, body.dark) .sidebar-shell .badge-soft strong {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-shell hr,
  :where(html.dark, body.dark) .sidebar-shell .divider {
    border-color: rgba(63, 93, 245, 0.18);
  }

  .sidebar-menu {
    @apply flex flex-col gap-2;
  }

  .sidebar-heading {
    @apply text-sm font-semibold;
    color: hsl(var(--bc) / 0.68);
    line-height: 1.35;
    letter-spacing: 0.02em;
  }

  :where(html.dark, body.dark) .sidebar-heading {
    color: rgba(203, 213, 225, 0.75);
  }

  .sidebar-link {
    @apply flex w-full items-center gap-3 rounded-2xl border border-base-200 px-4 py-3 text-sm font-medium text-base-content;
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.96), rgba(238, 242, 255, 0.9));
    box-shadow: 0 14px 28px rgba(15, 23, 42, 0.08);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease;
  }

  .sidebar-link svg {
    color: hsl(var(--bc) / 0.55);
    transition: color 0.2s ease;
  }

  .sidebar-link span {
    @apply flex-1 text-start;
  }

  .sidebar-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 20px 38px rgba(15, 23, 42, 0.12);
    background: linear-gradient(135deg, rgba(234, 240, 255, 0.98), rgba(228, 236, 255, 0.92));
    color: hsl(var(--bc));
  }

  .sidebar-link:hover svg {
    color: hsl(var(--bc));
  }

  .sidebar-panel--tabs {
    @apply space-y-3;
  }

  .sidebar-panel--tabs .tab-buttons {
    @apply flex flex-col gap-3 p-0 border-0 bg-transparent shadow-none;
    background: transparent;
    border-radius: 0;
  }

  .sidebar-panel--tabs .tab-button {
    @apply flex w-full items-center justify-between gap-3 rounded-2xl border border-base-200 px-4 py-3 text-sm font-semibold text-base-content;
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.96), rgba(238, 242, 255, 0.9));
    box-shadow: 0 14px 28px rgba(15, 23, 42, 0.08);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease;
  }

  .sidebar-panel--tabs .tab-button > span {
    @apply flex flex-1 items-center justify-start gap-3;
  }

  .sidebar-panel--tabs .tab-button svg {
    color: hsl(var(--bc) / 0.55);
    transition: color 0.2s ease;
  }

  .sidebar-panel--tabs .tab-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 20px 38px rgba(15, 23, 42, 0.12);
    background: linear-gradient(135deg, rgba(234, 240, 255, 0.98), rgba(228, 236, 255, 0.92));
  }

  .sidebar-panel--tabs .tab-button:hover svg {
    color: hsl(var(--bc));
  }

  .sidebar-panel--tabs .tab-button.active {
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.95), rgba(90, 141, 255, 0.92));
    border-color: rgba(76, 110, 245, 0.42);
    box-shadow: 0 22px 42px rgba(76, 110, 245, 0.22);
    color: #fff;
  }

  .sidebar-panel--tabs .tab-button.active svg {
    color: #fff;
  }

  :where(html.dark, body.dark) .sidebar-link {
    background: linear-gradient(135deg, rgba(24, 33, 59, 0.95), rgba(18, 28, 52, 0.88));
    border-color: rgba(63, 93, 245, 0.32);
    box-shadow: 0 18px 36px rgba(3, 8, 26, 0.58);
    color: rgba(226, 232, 240, 0.9);
  }

  :where(html.dark, body.dark) .sidebar-link svg {
    color: rgba(148, 197, 255, 0.75);
  }

  :where(html.dark, body.dark) .sidebar-link:hover {
    background: linear-gradient(135deg, rgba(47, 71, 120, 0.95), rgba(37, 58, 102, 0.88));
    box-shadow: 0 24px 44px rgba(3, 8, 26, 0.78);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-link:hover svg {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button {
    background: linear-gradient(135deg, rgba(24, 33, 59, 0.95), rgba(18, 28, 52, 0.9));
    border-color: rgba(63, 93, 245, 0.35);
    box-shadow: 0 18px 38px rgba(3, 8, 26, 0.62);
    color: rgba(226, 232, 240, 0.92);
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button svg {
    color: rgba(148, 197, 255, 0.78);
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button:hover {
    background: linear-gradient(135deg, rgba(47, 71, 120, 0.95), rgba(37, 58, 102, 0.88));
    box-shadow: 0 24px 46px rgba(3, 8, 26, 0.8);
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button:hover svg {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button.active {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(99, 102, 241, 0.88));
    border-color: rgba(99, 102, 241, 0.45);
    box-shadow: 0 26px 52px rgba(37, 99, 235, 0.35);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-panel--tabs .tab-button.active svg {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .dashboard-header h1 {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .dashboard-header p {
    color: rgba(203, 213, 225, 0.75);
  }

  .dashboard-hero-logo {
    @apply transition-all duration-200 ease-in-out;
  }

  :where(html.dark, body.dark) .dashboard-hero-logo {
    background: rgba(63, 93, 245, 0.25);
    color: #f8fafc;
    box-shadow: 0 18px 35px rgba(10, 19, 40, 0.55);
  }

  .dashboard-hero-title {
    @apply transition-colors duration-200 ease-in-out;
  }

  .dashboard-hero-subtitle {
    @apply transition-colors duration-200 ease-in-out;
  }

  :where(html.dark, body.dark) .dashboard-hero-subtitle {
    color: rgba(203, 213, 225, 0.75) !important;
  }

  .sidebar-link-active {
    @apply flex w-full items-center gap-3 rounded-2xl border border-transparent px-4 py-3 text-sm font-semibold text-primary-content;
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.95), rgba(90, 141, 255, 0.92));
    box-shadow: 0 24px 46px rgba(76, 110, 245, 0.28);
  }

  .sidebar-link-active svg {
    color: currentColor;
  }

  :where(html.dark, body.dark) .sidebar-link-active {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(99, 102, 241, 0.9));
    box-shadow: 0 28px 52px rgba(37, 99, 235, 0.35);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .sidebar-link-active svg {
    color: currentColor;
  }

  .dashboard-greeting {
    @apply flex flex-col gap-4;
  }

  .dashboard-greeting-toggle {
    @apply flex items-center justify-between gap-3 rounded-3xl border border-base-200 px-5 py-4 text-base font-semibold text-base-content cursor-pointer;
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.96), rgba(238, 242, 255, 0.9));
    box-shadow: 0 16px 34px rgba(15, 23, 42, 0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
  }

  .dashboard-greeting-toggle:hover {
    transform: translateY(-2px);
    background: linear-gradient(135deg, rgba(234, 240, 255, 0.98), rgba(228, 236, 255, 0.92));
    box-shadow: 0 22px 42px rgba(15, 23, 42, 0.14);
  }

  .dashboard-greeting-toggle:focus-visible {
    outline: 3px solid rgba(76, 110, 245, 0.35);
    outline-offset: 3px;
  }

  .dashboard-greeting-toggle-label {
    @apply flex-1 text-start text-base font-semibold;
  }

  .dashboard-greeting-toggle-icon {
    @apply h-5 w-5;
    transition: transform 0.2s ease;
  }

  .dashboard-greeting[data-state='open'] .dashboard-greeting-toggle {
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.12), rgba(90, 141, 255, 0.1));
    border-color: rgba(76, 110, 245, 0.25);
    box-shadow: 0 22px 42px rgba(76, 110, 245, 0.18);
  }

  .dashboard-greeting[data-state='open'] .dashboard-greeting-toggle-icon {
    transform: rotate(180deg);
  }

  :where(html.dark, body.dark) .dashboard-greeting-toggle {
    background: linear-gradient(135deg, rgba(24, 33, 59, 0.96), rgba(18, 28, 52, 0.92));
    border-color: rgba(63, 93, 245, 0.32);
    box-shadow: 0 18px 38px rgba(3, 8, 26, 0.6);
    color: rgba(226, 232, 240, 0.92);
  }

  :where(html.dark, body.dark) .dashboard-greeting-toggle:hover {
    background: linear-gradient(135deg, rgba(47, 71, 120, 0.95), rgba(37, 58, 102, 0.88));
    box-shadow: 0 26px 48px rgba(3, 8, 26, 0.78);
  }

  :where(html.dark, body.dark) .dashboard-greeting[data-state='open'] .dashboard-greeting-toggle {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.18), rgba(79, 70, 229, 0.16));
    border-color: rgba(99, 102, 241, 0.4);
    box-shadow: 0 26px 52px rgba(37, 99, 235, 0.28);
  }

  .dashboard-main {
    @apply flex-1;
  }

  .dashboard-main-inner {
    @apply container mx-auto px-4 py-6 lg:py-8;
  }

  .stats-cards {
    @apply grid gap-4 sm:grid-cols-2 xl:grid-cols-4;
  }

  .card-surface {
    @apply bg-base-100 rounded-3xl border border-base-200 shadow-soft p-6 space-y-4;
  }

  .glass-card {
    @apply bg-base-100 shadow-soft border border-base-200 backdrop-blur-sm rounded-3xl p-6;
    background-color: hsl(var(--b1) / 0.88);
  }

  .box {
    @apply glass-card;
  }

  :where(html.dark, body.dark) .glass-card,
  :where(html.dark, body.dark) .box {
    background: linear-gradient(140deg, rgba(14, 24, 48, 0.96) 0%, rgba(8, 18, 40, 0.9) 100%);
    border-color: rgba(63, 93, 245, 0.28);
    box-shadow: inset 0 0 0 1px rgba(63, 93, 245, 0.12), 0 28px 55px rgba(4, 9, 22, 0.65);
  }

  .tab-buttons {
    @apply flex flex-wrap items-center gap-3 bg-base-100 border border-base-200 rounded-3xl p-2 shadow-sm;
    background-color: hsl(var(--b1) / 0.92);
  }

  .tab-button {
    @apply btn btn-sm lg:btn-md btn-ghost rounded-3xl px-4 transition;
  }

  .tab-button.active {
    @apply btn-active btn-primary text-primary-content shadow-lg;
  }

  .tab-buttons-vertical {
    @apply flex-col items-stretch gap-2;
  }

  .tab-buttons-vertical .tab-button {
    @apply justify-between text-start;
  }

  :where(html.dark, body.dark) .tab-buttons-vertical {
    background: linear-gradient(135deg, rgba(17, 26, 46, 0.94), rgba(14, 25, 50, 0.88));
    border-color: rgba(99, 102, 241, 0.35);
    box-shadow: inset 0 0 0 1px rgba(56, 189, 248, 0.08), 0 18px 45px rgba(5, 12, 28, 0.55);
  }

  :where(html.dark, body.dark) .tab-buttons-vertical .tab-button {
    color: rgba(226, 232, 240, 0.86);
    border-color: transparent;
  }

  :where(html.dark, body.dark) .tab-buttons-vertical .tab-button:hover {
    background: rgba(63, 93, 245, 0.25);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .tab-buttons-vertical .tab-button.active {
    background: linear-gradient(135deg, rgba(63, 93, 245, 0.65), rgba(56, 189, 248, 0.45));
    color: #f8fafc;
    border-color: rgba(99, 102, 241, 0.6);
    box-shadow: 0 22px 40px rgba(9, 17, 39, 0.6);
  }

  :where(html.dark, body.dark) .tab-buttons-vertical .tab-button.active svg {
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .tab-buttons-vertical .tab-button svg {
    color: rgba(148, 197, 255, 0.9);
  }

  :where(html.dark, body.dark) .sidebar-link span {
    color: inherit;
  }

  :where(html.dark, body.dark) .management-form .form-control,
  :where(html.dark, body.dark) .management-form .form-select,
  :where(html.dark, body.dark) .management-form textarea,
  :where(html.dark, body.dark) .notes-input textarea {
    background: rgba(11, 17, 32, 0.9);
    border: 1px solid rgba(63, 93, 245, 0.35);
    color: #e2e8f0;
    box-shadow: inset 0 1px 2px rgba(3, 8, 26, 0.25);
  }

  :where(html.dark, body.dark) .management-form textarea::placeholder,
  :where(html.dark, body.dark) .notes-input textarea::placeholder {
    color: rgba(148, 163, 184, 0.65);
  }

  :where(html.dark, body.dark) .management-form textarea:focus,
  :where(html.dark, body.dark) .notes-input textarea:focus,
  :where(html.dark, body.dark) .management-form .form-control:focus,
  :where(html.dark, body.dark) .management-form .form-select:focus {
    border-color: rgba(99, 102, 241, 0.6);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.28);
  }

  .sidebar-brand {
    @apply mb-2;
  }

  .sidebar-brand-text p:first-child {
    @apply uppercase tracking-widest text-xs font-semibold;
  }

  :where(html.dark, body.dark) .sidebar-brand-text p:first-child {
    color: rgba(148, 197, 255, 0.75) !important;
  }

  :where(html.dark, body.dark) .sidebar-brand-text p:last-child {
    color: #f8fafc !important;
  }

  .sidebar-brand-logo {
    @apply shadow-soft;
  }

  :where(html.dark, body.dark) .sidebar-brand-logo {
    background: linear-gradient(140deg, rgba(63, 93, 245, 0.45), rgba(56, 189, 248, 0.35));
    color: #f8fafc;
    box-shadow: 0 14px 32px rgba(9, 17, 39, 0.6);
  }

  .tab-buttons-horizontal {
    @apply flex items-center gap-2 overflow-x-auto;
  }

  .tab-buttons-horizontal .tab-button {
    @apply flex-shrink-0 whitespace-nowrap;
  }

  .dashboard-tabbar {
    @apply mx-auto;
    max-width: min(100%, 48rem);
    background: linear-gradient(135deg, rgba(248, 250, 255, 0.9), rgba(232, 240, 255, 0.82));
    border: 1px solid rgba(76, 110, 245, 0.18);
    box-shadow: 0 22px 48px rgba(15, 23, 42, 0.12);
  }

  .dashboard-tabbar .tab-buttons-horizontal {
    @apply justify-start;
    gap: 0.75rem;
  }

  .dashboard-tabbar .tab-buttons {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.88), rgba(236, 243, 255, 0.82));
    border: 1px solid rgba(76, 110, 245, 0.12);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.35), 0 12px 24px rgba(76, 110, 245, 0.08);
    padding: 0.4rem 0.6rem;
    border-radius: 999px;
  }

  .dashboard-tabbar .tab-button {
    @apply btn btn-sm lg:btn-md;
    border: none;
    background: transparent;
    color: hsl(var(--bc) / 0.72);
    font-weight: 600;
    border-radius: 999px;
    padding-inline: 1.25rem;
    position: relative;
    transition: color 0.2s ease, background 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
  }

  .dashboard-tabbar .tab-button::after {
    content: '';
    position: absolute;
    inset-inline: 18%;
    bottom: 10%;
    height: 3px;
    border-radius: 999px;
    background: linear-gradient(90deg, rgba(76, 110, 245, 0), rgba(76, 110, 245, 0.55), rgba(76, 110, 245, 0));
    opacity: 0;
    transform: scaleX(0.6);
    transition: opacity 0.2s ease, transform 0.2s ease;
    pointer-events: none;
  }

  .dashboard-tabbar .tab-button:hover {
    color: hsl(var(--bc));
    background: rgba(76, 110, 245, 0.12);
    box-shadow: 0 12px 26px rgba(76, 110, 245, 0.2);
    transform: translateY(-1px);
  }

  .dashboard-tabbar .tab-button:hover::after {
    opacity: 0.6;
    transform: scaleX(1);
  }

  .dashboard-tabbar .tab-button.active {
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.92), rgba(90, 141, 255, 0.88));
    color: #fff;
    box-shadow: 0 20px 40px rgba(76, 110, 245, 0.28);
  }

  .dashboard-tabbar .tab-button.active::after {
    opacity: 1;
    transform: scaleX(1);
    background: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.85), rgba(255, 255, 255, 0));
  }

  @media (min-width: 1536px) {
    .dashboard-tabbar {
      max-width: 44rem;
    }
  }

  :where(html.dark, body.dark) .dashboard-tabbar {
    background: linear-gradient(135deg, rgba(26, 35, 62, 0.92), rgba(18, 28, 52, 0.88));
    border-color: rgba(63, 93, 245, 0.32);
    box-shadow: 0 26px 52px rgba(3, 8, 26, 0.58);
  }

  :where(html.dark, body.dark) .dashboard-tabbar .tab-buttons {
    background: linear-gradient(135deg, rgba(32, 47, 82, 0.88), rgba(26, 39, 70, 0.82));
    border-color: rgba(99, 102, 241, 0.22);
    box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.18), 0 14px 28px rgba(3, 8, 26, 0.6);
  }

  :where(html.dark, body.dark) .dashboard-tabbar .tab-button {
    color: rgba(226, 232, 240, 0.85);
  }

  :where(html.dark, body.dark) .dashboard-tabbar .tab-button::after {
    background: linear-gradient(90deg, rgba(59, 130, 246, 0), rgba(99, 102, 241, 0.5), rgba(59, 130, 246, 0));
  }

  :where(html.dark, body.dark) .dashboard-tabbar .tab-button:hover {
    background: rgba(59, 130, 246, 0.2);
    color: #f8fafc;
    box-shadow: 0 16px 32px rgba(59, 130, 246, 0.28);
  }

  :where(html.dark, body.dark) .dashboard-tabbar .tab-button.active {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.92), rgba(99, 102, 241, 0.88));
    box-shadow: 0 24px 46px rgba(37, 99, 235, 0.32);
  }

  :where(html.dark, body.dark) .dashboard-tabbar .tab-button.active::after {
    background: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(226, 232, 240, 0.85), rgba(255, 255, 255, 0));
  }

  .tab-section-header {
    @apply flex flex-col items-center justify-center gap-2 text-center mb-6;
  }

  .tab-section-title {
    @apply text-2xl sm:text-3xl font-bold tracking-tight text-base-content;
  }

  :where(html.dark, body.dark) .tab-section-title {
    color: rgba(226, 232, 240, 0.95);
  }

  .tab-section-toolbar {
    @apply flex flex-wrap items-center justify-center gap-2 mb-4;
    width: 100%;
  }

  @media (min-width: 1024px) {
    .tab-section-toolbar {
      justify-content: space-between;
    }
  }

  .tab-content-wrapper {
    @apply space-y-8;
  }

  .tab {
    @apply hidden;
  }

  .tab.active {
    @apply block;
  }

  .sub-tab-buttons {
    @apply flex flex-wrap gap-2 rounded-full bg-base-100 border border-base-200 p-1 shadow-sm;
    background-color: hsl(var(--b1) / 0.92);
  }

  .sub-tab-button {
    @apply btn btn-xs sm:btn-sm md:btn-md btn-ghost rounded-full px-4;
  }

  .sub-tab-button.active {
    @apply btn-active btn-primary text-primary-content shadow;
  }

  .management-form-box {
    @apply glass-card;
  }

  .management-form-header {
    @apply flex flex-wrap items-start justify-between gap-4;
  }

  .management-form-icon {
    @apply text-4xl w-14 h-14 flex items-center justify-center rounded-2xl bg-primary text-primary;
    background-color: hsl(var(--p) / 0.12);
  }

  .management-form-hint {
    @apply text-sm;
    color: hsl(var(--bc) / 0.6);
  }

  .management-form {
    @apply space-y-6;
  }

  .management-form-grid {
    @apply grid gap-4 sm:grid-cols-2 lg:grid-cols-3;
  }

  .form-field {
    @apply flex flex-col gap-2;
  }

  .form-field-notes {
    @apply sm:col-span-2 lg:col-span-3;
  }

  .form-label {
    @apply text-sm font-semibold;
    color: hsl(var(--bc) / 0.7);
  }

  .form-control,
  input.form-control,
  textarea.form-control,
  select.form-select,
  .form-select,
  .form-textarea {
    @apply w-full rounded-2xl border border-base-300 bg-base-100 px-4 py-3 text-base-content focus:border-primary focus:ring-2 focus:ring-primary transition;
  }

  .form-select {
    @apply appearance-none bg-no-repeat bg-[length:1rem_1rem] bg-[right_1rem_center];
    background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="%236366f1"%3E%3Cpath fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd"/%3E%3C/svg%3E');
  }

  .form-control::placeholder,
  .form-textarea::placeholder {
    color: hsl(var(--bc) / 0.45);
  }

  .form-control[type='file'] {
    @apply cursor-pointer;
  }

  .form-control[type='datetime-local'] {
    @apply pe-12;
  }

  .form-control:disabled,
  .form-select:disabled {
    @apply cursor-not-allowed opacity-70 bg-base-200;
  }

  .management-form-actions {
    @apply flex flex-wrap justify-end gap-3;
  }

  .table-wrapper {
    @apply glass-card overflow-hidden p-0;
  }

  .table thead {
    @apply bg-base-200 text-base-content;
    background-color: hsl(var(--b2) / 0.85);
    color: hsl(var(--bc) / 0.7);
  }

  .table tbody tr td {
    @apply align-middle whitespace-nowrap;
  }

  .table-actions-head {
    @apply text-center;
  }

  .table-dark {
    @apply bg-base-200 text-base-content;
  }

  .table-light {
    @apply bg-base-100 text-base-content;
  }

  .text-muted {
    color: hsl(var(--bc) / 0.6);
  }

  .stats {
    display: grid;
    gap: 1rem;
  }

  @screen sm {
    .stats {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @screen xl {
    .stats {
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }
  }

  .stat {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    border-radius: 1.5rem;
    border: 1px solid hsl(var(--b2) / 0.6);
    background-color: hsl(var(--b1) / 0.92);
    box-shadow: 0 18px 34px -20px rgba(15, 23, 42, 0.35);
    padding: 1.5rem;
  }

  .stat-figure {
    font-size: 0;
  }

  .stat-title {
    font-size: 0.875rem;
    font-weight: 600;
    color: hsl(var(--bc) / 0.6);
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: hsl(var(--bc));
  }

  .stat-desc {
    font-size: 0.75rem;
    color: hsl(var(--bc) / 0.45);
  }

  .toast-container {
    @apply space-y-2;
  }

  .mobile-sidebar-toggle {
    @apply btn btn-circle btn-ghost border border-base-300;
  }

  :where(html.dark, body.dark) .mobile-sidebar-toggle {
    border-color: rgba(99, 102, 241, 0.45);
    color: #dbeafe;
    background-color: rgba(17, 26, 46, 0.75);
  }

  .sidebar-backdrop {
    @apply fixed inset-0 bg-black backdrop-blur-sm z-40 hidden;
    background-color: rgb(0 0 0 / 0.35);
  }

  .sidebar-drawer {
    @apply fixed inset-y-0 start-0 z-50 w-72 max-w-full translate-x-full shadow-2xl transition-transform duration-300 ease-in-out;
    background: transparent;
  }

  @screen lg {
    .sidebar-drawer {
      width: 20rem;
    }
  }

  .sidebar-drawer.open {
    @apply translate-x-0;
  }

  .sidebar-backdrop.open {
    @apply block;
  }

  .language-toggle-btn,
  .theme-toggle-btn {
    @apply btn btn-sm md:btn-md btn-ghost rounded-full border border-base-300;
    border-color: hsl(var(--bc) / 0.35);
  }

  .language-toggle-btn:hover,
  .theme-toggle-btn:hover {
    border-color: hsl(var(--p) / 0.45);
  }

  #logout-btn {
    @apply btn btn-sm md:btn-md rounded-full font-semibold;
    background: transparent;
    color: #ffffff;
    border: 2px solid rgba(255, 255, 255, 0.85);
    box-shadow: none;
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  }

  #logout-btn:hover {
    transform: translateY(-1px);
    background: linear-gradient(135deg, #fb7185, #dc2626);
    box-shadow: 0 20px 40px rgba(220, 38, 38, 0.28);
    border-color: rgba(248, 113, 113, 0.85);
    color: #fff;
  }

  :where(html.dark, body.dark) #logout-btn {
    border-color: rgba(255, 255, 255, 0.85);
    color: #ffffff;
  }

  :where(html.dark, body.dark) #logout-btn:hover {
    background: linear-gradient(135deg, #7f1d1d, #65121c);
    box-shadow: 0 26px 52px rgba(185, 28, 28, 0.38);
    border-color: rgba(248, 113, 113, 0.75);
  }

  .theme-toggle-btn {
    @apply btn-ghost swap swap-rotate px-3;
  }

  .theme-toggle-btn svg {
    @apply w-5 h-5;
  }

  .theme-toggle-btn .swap-on {
    @apply text-primary;
  }

  .theme-toggle-btn .swap-off {
    @apply text-warning;
  }

  .language-toggle-btn {
    @apply btn-ghost;
  }

  .add-project-btn {
    @apply btn btn-primary btn-lg rounded-full shadow-soft gap-2;
  }

  /* Legacy Bootstrap utility aliases */
  .d-flex {
    display: flex;
  }

  .flex-column {
    display: flex;
    flex-direction: column;
  }

  .flex-row {
    display: flex;
    flex-direction: row;
  }

  .flex-wrap {
    flex-wrap: wrap;
  }

  .flex-lg-row {
    @apply lg:flex-row;
  }

  .align-items-center {
    align-items: center;
  }

  .align-items-start {
    align-items: flex-start;
  }

  .align-items-end {
    align-items: flex-end;
  }

  .align-items-lg-center {
    @apply lg:items-center;
  }

  .justify-content-between {
    justify-content: space-between;
  }

  .justify-content-center {
    justify-content: center;
  }

  .justify-content-start {
    justify-content: flex-start;
  }

  .justify-content-end {
    justify-content: flex-end;
  }

  .justify-content-lg-between {
    @apply lg:justify-between;
  }

  .justify-content-lg-end {
    @apply lg:justify-end;
  }

  .mb-0 {
    margin-bottom: 0;
  }

  .mb-2 {
    margin-bottom: 0.5rem;
  }

  .mb-3 {
    margin-bottom: 0.75rem;
  }

  .mb-4 {
    margin-bottom: 1rem;
  }

  .mt-0 {
    margin-top: 0;
  }

  .mt-2 {
    margin-top: 0.5rem;
  }

  .mt-3 {
    margin-top: 0.75rem;
  }

  .mt-4 {
    margin-top: 1rem;
  }

  .mt-5 {
    margin-top: 1.25rem;
  }

  .my-3 {
    margin-top: 0.75rem;
    margin-bottom: 0.75rem;
  }

  .my-4 {
    margin-top: 1rem;
    margin-bottom: 1rem;
  }

  .p-3 {
    padding: 0.75rem;
  }

  .p-4 {
    padding: 1rem;
  }

  .py-4 {
    padding-top: 1rem;
    padding-bottom: 1rem;
  }

  .px-4 {
    padding-inline: 1rem;
  }

  .ms-auto {
    margin-inline-start: auto;
  }

  .me-auto {
    margin-inline-end: auto;
  }

  .w-100 {
    width: 100%;
  }

  .h-100 {
    height: 100%;
  }

  .position-relative {
    @apply relative;
  }

  .d-none {
    display: none;
  }

  .reservation-filter-card,
  .kpi-card,
  .calendar-card {
    @apply glass-card;
  }

  .badge-soft {
    @apply badge badge-outline badge-lg px-4 rounded-full text-primary;
    border-color: hsl(var(--p) / 0.4);
  }

  .empty-state {
    @apply flex flex-col items-center justify-center gap-3 py-16 text-center;
    color: hsl(var(--bc) / 0.6);
  }

  .alert {
    @apply rounded-2xl border px-4 py-3 text-sm;
  }

  .alert-info {
    @apply text-primary;
    border-color: hsl(var(--p) / 0.35);
    background-color: hsl(var(--p) / 0.12);
  }

  :where(html.dark, body.dark) .glass-card,
  :where(html.dark, body.dark) .box,
  :where(html.dark, body.dark) .table-responsive,
  :where(html.dark, body.dark) .card,
  :where(html.dark, body.dark) .modal-content {
    background: rgba(11, 17, 32, 0.94);
    border: 1px solid rgba(63, 93, 245, 0.28);
    box-shadow: 0 28px 55px rgba(4, 9, 22, 0.65);
  }

  :where(html.dark, body.dark) .management-form-header h4,
  :where(html.dark, body.dark) .form-label,
  :where(html.dark, body.dark) .modal-title,
  :where(html.dark, body.dark) h2,
  :where(html.dark, body.dark) h3,
  :where(html.dark, body.dark) h4 {
    color: #dbeafe;
  }

  :where(html.dark, body.dark) .management-form-hint,
  :where(html.dark, body.dark) .text-muted,
  :where(html.dark, body.dark) .stat-desc,
  :where(html.dark, body.dark) .stat-title,
  :where(html.dark, body.dark) p {
    color: rgba(148, 163, 184, 0.78) !important;
  }

  :where(html.dark, body.dark) .management-form-icon {
    background: linear-gradient(135deg, rgba(63, 93, 245, 0.35), rgba(59, 130, 246, 0.18));
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .form-control,
  :where(html.dark, body.dark) .form-select,
  :where(html.dark, body.dark) textarea {
    background-color: rgba(13, 19, 35, 0.9);
    border-color: rgba(63, 93, 245, 0.35);
    color: #e2e8f0;
  }

  :where(html.dark, body.dark) input:not([type='checkbox']):not([type='radio']):not([type='range']),
  :where(html.dark, body.dark) select,
  :where(html.dark, body.dark) textarea {
    background-color: rgba(13, 19, 35, 0.9);
    border-color: rgba(63, 93, 245, 0.35);
    color: #e2e8f0;
  }

  :where(html.dark, body.dark) input::placeholder,
  :where(html.dark, body.dark) textarea::placeholder,
  :where(html.dark, body.dark) select option {
    color: rgba(148, 163, 184, 0.65);
  }

  :where(html.dark, body.dark) .form-control:focus,
  :where(html.dark, body.dark) .form-select:focus,
  :where(html.dark, body.dark) textarea:focus {
    border-color: rgba(99, 102, 241, 0.6);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.28);
  }

  :where(html.dark, body.dark) .input-group-text,
  :where(html.dark, body.dark) .form-check-label,
  :where(html.dark, body.dark) label {
    color: #dbeafe;
  }

  :where(html.dark, body.dark) .input-group-text {
    background-color: rgba(17, 26, 46, 0.92);
    border-color: rgba(63, 93, 245, 0.35);
  }

  :where(html.dark, body.dark) .selected-list,
  :where(html.dark, body.dark) .selected-technicians-list,
  :where(html.dark, body.dark) .project-focus-card,
  :where(html.dark, body.dark) .calendar-panel,
  :where(html.dark, body.dark) #calendar {
    background-color: rgba(11, 17, 32, 0.92);
    border-color: rgba(63, 93, 245, 0.25);
    color: #dbeafe;
  }

  :where(html.dark, body.dark) .selected-list .badge,
  :where(html.dark, body.dark) .selected-technicians-list .badge {
    border-color: rgba(99, 102, 241, 0.4);
    color: #dbeafe;
  }

  :where(html.dark, body.dark) .suggestions-list {
    background: rgba(11, 17, 32, 0.96);
    border-color: rgba(63, 93, 245, 0.28);
    box-shadow: 0 24px 45px rgba(3, 7, 20, 0.55);
    color: #dbeafe;
  }

  :where(html.dark, body.dark) .suggestion-item__meta {
    color: rgba(148, 163, 184, 0.65);
  }

  :where(html.dark, body.dark) .suggestion-item:hover,
  :where(html.dark, body.dark) .suggestion-item:focus {
    background: rgba(63, 93, 245, 0.28);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) table {
    background: rgba(11, 17, 32, 0.94);
    border-color: rgba(63, 93, 245, 0.24);
    color: #dbeafe;
  }

  :where(html.dark, body.dark) table thead {
    background: linear-gradient(135deg, rgba(63, 93, 245, 0.28), rgba(20, 32, 62, 0.92));
    color: #f1f5f9;
  }

  :where(html.dark, body.dark) table tbody td,
  :where(html.dark, body.dark) table tbody th {
    border-color: rgba(32, 49, 78, 0.75);
    color: #cfd8f6;
  }

  :where(html.dark, body.dark) .btn-outline-secondary {
    border-color: rgba(148, 163, 184, 0.45);
    color: #dbeafe;
    background-color: rgba(17, 26, 46, 0.65);
  }

  :where(html.dark, body.dark) .btn-outline-secondary:hover {
    background-color: rgba(63, 93, 245, 0.25);
    border-color: rgba(99, 102, 241, 0.55);
    color: #f8fafc;
  }

  :where(html.dark, body.dark) .modal-header,
  :where(html.dark, body.dark) .modal-footer {
    border-color: rgba(32, 49, 78, 0.6);
  }

  :where(html.dark, body.dark) .badge {
    background: rgba(63, 93, 245, 0.25);
    color: #dbeafe;
    border: 1px solid rgba(99, 102, 241, 0.35);
  }

  .table-responsive {
    @apply overflow-x-auto rounded-3xl border border-base-200 bg-base-100 shadow-soft;
  }

  .table-responsive > table {
    @apply min-w-full;
  }

  .btn-close {
    @apply relative inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent transition-colors duration-150 ease-in-out hover:bg-base-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary;
    background: none;
    color: hsl(var(--bc) / 0.6);
  }

  .btn-close::before {
    content: 'âœ•';
    font-size: 1rem;
    line-height: 1;
  }

  .modal {
    @apply fixed inset-0 z-50 hidden overflow-y-auto p-4;
  }

  .modal.show {
    @apply flex;
  }

  .modal-dialog {
    @apply relative mx-auto my-auto w-full max-w-3xl;
  }

  .modal-lg {
    @apply max-w-4xl;
  }

  .modal-content {
    @apply bg-base-100 text-base-content rounded-3xl border border-base-200 shadow-soft overflow-hidden;
  }

  .modal-header,
  .modal-footer {
    @apply flex items-center justify-between gap-4 px-6 py-4;
  }

  .modal-header {
    @apply border-b border-base-200;
  }

  .modal-footer {
    @apply border-t border-base-200 justify-end;
  }

  .modal-body {
    @apply px-6 py-5 space-y-4;
  }

  .modal-backdrop.show {
    @apply fixed inset-0 z-40 bg-slate-900 backdrop-blur-sm;
    background-color: rgb(15 23 42 / 0.45);
  }

  .row {
    @apply flex flex-wrap -mx-2 gap-y-3;
  }

  .row.g-2 {
    @apply gap-2;
  }

  .row.g-3 {
    @apply gap-3;
  }

  .row.g-4 {
    @apply gap-4;
  }

  .row > [class*='col-'] {
    @apply w-full px-2;
  }

  @screen sm {
    .col-sm-6 {
      @apply w-1/2;
    }
  }

  @screen md {
    .col-md-4 {
      @apply w-1/3;
    }

    .col-md-6 {
      @apply w-1/2;
    }

    .col-md-8 {
      @apply w-2/3;
    }

    .col-md-12 {
      @apply w-full;
    }
  }

  @screen lg {
    .col-lg-3 {
      @apply w-1/4;
    }

    .col-lg-4 {
      @apply w-1/3;
    }

    .col-lg-6 {
      @apply w-1/2;
    }

    .col-lg-8 {
      @apply w-2/3;
    }
  }
}
