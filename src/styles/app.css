@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    font-feature-settings: 'kern';
    scroll-behavior: smooth;
  }

  html {
    @apply font-tajawal;
  }

  body {
    @apply min-h-screen bg-base-200 text-base-content antialiased;
  }

  body.theme-loading,
  html.theme-loading {
    @apply overflow-hidden;
  }
}

@layer utilities {
  .d-flex {
    @apply flex;
  }

  .d-none {
    @apply hidden;
  }

  .align-items-center {
    @apply items-center;
  }

  .align-items-end {
    @apply items-end;
  }

  .align-middle {
    vertical-align: middle;
  }

  .justify-content-center {
    @apply justify-center;
  }

  .justify-content-start {
    @apply justify-start;
  }

  .justify-content-lg-between {
    @apply lg:justify-between;
  }

  .justify-content-lg-end {
    @apply lg:justify-end;
  }

  .w-100 {
    @apply w-full;
  }

  .w-lg-auto {
    @apply w-full lg:w-auto;
  }

  .g-2 {
    @apply gap-2;
  }

  .g-3 {
    @apply gap-3;
  }

  .row {
    @apply flex flex-wrap gap-4;
  }

  .col-12,
  .col-md-12 {
    @apply w-full;
  }

  .col-sm-6 {
    @apply w-full sm:w-1/2;
  }

  .col-md-6 {
    @apply w-full md:w-1/2;
  }

  .col-lg-3 {
    @apply w-full lg:w-1/4;
  }

  .col-lg-4 {
    @apply w-full lg:w-1/3;
  }

  .col-lg-5 {
    @apply w-full lg:w-5/12;
  }

  .text-muted {
    @apply text-base-content text-opacity-60;
  }

  .text-success {
    color: hsl(var(--su));
  }

  .text-warning {
    color: hsl(var(--wa));
  }

  .text-error {
    color: hsl(var(--er));
  }

  .text-decoration-none {
    text-decoration: none;
  }
}

@layer components {
  .page-shell {
    @apply min-h-screen bg-base-200 text-base-content;
  }

  .page-grid {
    @apply flex min-h-screen w-full flex-col lg:flex-row;
  }

  .glass-card,
  .box,
  .customer-form-box,
  .technician-form,
  .equipment-form-box,
  .maintenance-form-box,
  .management-form-box,
  .reports-table-card,
  .reports-kpi-card,
  .reports-chart-card,
  .reservation-meta-card,
  .maintenance-close-modal__body,
  .calendar-panel,
  .toast-container,
  .equipment-list-box,
  .reports-header-card,
  .reports-status-section {
    @apply rounded-3xl border border-base-300 border-opacity-60 bg-base-100 bg-opacity-95 shadow-lg backdrop-blur;
  }

  .glass-card {
    @apply border-base-300 border-opacity-50 shadow-lg;
  }

  .sidebar-backdrop {
    @apply fixed inset-0 z-40 hidden bg-base-content bg-opacity-40 opacity-0 transition-opacity duration-200 lg:hidden;
  }

  .sidebar-backdrop.open {
    @apply block opacity-100;
  }

  .sidebar-shell {
    @apply fixed inset-y-0 right-0 z-50 flex w-full max-w-sm translate-x-full flex-col gap-6 bg-base-100 px-6 py-6 shadow-xl transition-transform duration-300 lg:static lg:translate-x-0 lg:border-l lg:border-base-300 lg:border-opacity-50 lg:shadow-none;
  }

  [dir='ltr'] .sidebar-shell {
    @apply left-0 right-auto lg:border-r-0 lg:border-l;
  }

  .sidebar-shell.open {
    @apply translate-x-0;
  }

  .sidebar-brand {
    @apply flex flex-col gap-4;
  }

  .sidebar-brand-logo {
    @apply flex h-14 w-14 items-center justify-center rounded-2xl bg-primary bg-opacity-10 text-primary;
  }

  .sidebar-brand-text p:first-child {
    @apply text-sm text-base-content text-opacity-70;
  }

  .sidebar-brand-text p:last-child {
    @apply text-lg font-semibold;
  }

  .sidebar-panel {
    @apply rounded-2xl border border-base-300 border-opacity-60 bg-base-100 bg-opacity-80 p-4 shadow-lg;
  }

  .sidebar-heading {
    @apply text-sm font-semibold uppercase tracking-widest text-base-content text-opacity-60;
  }

  .sidebar-stats {
    @apply divide-y divide-base-300 divide-opacity-60;
  }

  .sidebar-stats-row {
    @apply flex items-center justify-between py-3 text-sm text-base-content;
  }

  .badge-soft {
    @apply badge badge-neutral badge-outline font-semibold;
  }

  .sidebar-menu {
    @apply space-y-6;
  }

  .sidebar-link {
    @apply flex items-center gap-3 rounded-2xl px-4 py-3 text-base-content text-opacity-80 transition hover:bg-base-200 hover:text-base-content;
  }

  .sidebar-link svg {
    @apply h-5 w-5 text-primary text-opacity-70;
  }

  .tab-buttons {
    @apply flex flex-wrap gap-2;
  }

  .tab-buttons-vertical {
    @apply flex-col;
  }

  .tab-buttons-horizontal {
    @apply flex-row flex-wrap;
  }

  .tab-button {
    @apply btn btn-ghost btn-sm justify-start gap-3 rounded-xl border border-transparent text-base-content text-opacity-80 transition;
  }

  .tab-button.active {
    @apply btn-primary btn-active text-primary-content shadow-md;
  }

  .tab-content-wrapper {
    @apply space-y-10;
  }

  .tab-section-header {
    @apply mb-4 flex flex-wrap items-center justify-between gap-4;
  }

  .tab-section-title {
    @apply text-xl font-semibold text-base-content;
  }

  .tab-section-toolbar {
    @apply flex flex-wrap items-center justify-between gap-3 rounded-2xl bg-base-100 bg-opacity-80 p-4 shadow-lg;
  }

  .management-form {
    @apply space-y-6;
  }

  .management-form-grid,
  .equipment-form-grid,
  .maintenance-form-grid,
  .reservation-meta-row,
  .reports-analytics-grid,
  .reports-detail-grid {
    @apply grid gap-4 md:grid-cols-2;
  }

  .form-field {
    @apply space-y-2;
  }

  .form-label {
    @apply text-sm font-medium text-base-content text-opacity-80;
  }

  .form-control {
    @apply w-full rounded-2xl border border-base-300 border-opacity-60 bg-base-100 px-4 py-3 text-base shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-20;
  }

  .form-control[type='number'],
  .form-control[type='tel'],
  .form-control[type='email'],
  .form-control[type='datetime-local'] {
    @apply text-base;
  }

  textarea.form-control {
    @apply min-h-[3.5rem] rounded-2xl border border-base-300 border-opacity-60 bg-base-100 px-4 py-3 text-base shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-20;
    resize: vertical;
  }

  .form-select {
    @apply w-full appearance-none rounded-2xl border border-base-300 border-opacity-60 bg-base-100 px-4 py-3 text-base shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-20;
    background-image: none;
  }

  .input-group {
    @apply join;
  }

  .input-group > * {
    @apply join-item;
  }

  .form-check {
    @apply flex items-center gap-3;
  }

  .form-check-input {
    @apply h-5 w-5 cursor-pointer rounded-md border border-base-300 text-primary transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-30;
  }

  .form-check-label {
    @apply text-sm text-base-content text-opacity-80;
  }

  .form-switch .form-check-input {
    @apply relative h-6 w-12 cursor-pointer appearance-none rounded-full border border-base-300 bg-base-300 transition;
  }

  .form-switch .form-check-input::after {
    content: '';
    @apply absolute top-0.5 left-0.5 h-5 w-5 translate-x-0 rounded-full bg-base-100 shadow transition-transform duration-200 ease-out;
  }

  .form-switch .form-check-input:checked {
    @apply border-primary bg-primary;
  }

  .form-switch .form-check-input:checked::after {
    @apply translate-x-[1.5rem];
  }

  .management-form-actions,
  .equipment-form-actions,
  .maintenance-form-actions {
    @apply flex flex-wrap items-center justify-end gap-3;
  }

  .table-responsive {
    @apply overflow-x-auto rounded-2xl border border-base-300 border-opacity-60 bg-base-100 bg-opacity-80 shadow-lg;
  }

  table {
    @apply table table-zebra text-sm;
  }

  table thead {
    @apply bg-base-200 bg-opacity-70 text-sm uppercase tracking-wide text-base-content text-opacity-70;
  }

  table tbody tr:nth-child(odd) {
    @apply bg-base-100;
  }

  .table-hover tbody tr:hover {
    @apply bg-primary bg-opacity-10;
  }

  .table-sm td,
  .table-sm th {
    @apply py-3;
  }

  .table-light {
    @apply bg-base-200 bg-opacity-80 text-base-content text-opacity-80;
  }

  .customer-table-row-editing,
  .technician-table-row-editing {
    @apply bg-primary bg-opacity-10;
  }

  .table-action-buttons {
    @apply flex flex-wrap gap-2;
  }

  .customer-action-btn,
  .technician-action-btn,
  .reservation-action-btn {
    @apply btn btn-sm btn-ghost border border-base-300 border-opacity-70 text-base-content text-opacity-80 hover:border-primary hover:bg-primary hover:bg-opacity-10 hover:text-primary;
  }

  .customer-action-btn--delete,
  .technician-action-btn--delete,
  .reservation-action-btn--delete {
    @apply btn-error btn-outline text-error-content;
  }

  .dashboard-header {
    @apply sticky top-0 z-30 border-b border-base-300 border-opacity-60 bg-base-100 bg-opacity-95 backdrop-blur;
  }

  .dashboard-header-nav {
    @apply mx-auto flex max-w-7xl flex-wrap items-center justify-between gap-4 px-4 py-4;
  }

  .dashboard-hero-brand {
    @apply flex items-center gap-3 rounded-2xl px-3 py-2 transition hover:bg-base-200 hover:bg-opacity-80;
  }

  .dashboard-hero-logo {
    @apply flex h-12 w-12 items-center justify-center rounded-2xl bg-primary bg-opacity-10 text-primary;
  }

  .dashboard-hero-brand-text {
    @apply flex flex-col gap-1 text-start;
  }

  .dashboard-hero-title {
    @apply text-xl font-bold text-base-content;
  }

  .dashboard-greeting {
    @apply relative w-full lg:w-auto;
  }

  .dashboard-greeting-toggle {
    @apply btn btn-ghost gap-3 rounded-2xl border border-transparent px-4 text-base font-medium text-base-content text-opacity-80;
  }

  .dashboard-greeting-toggle:hover {
    @apply border-base-300 bg-base-200 bg-opacity-70;
  }

  .dashboard-greeting-panel {
    @apply absolute right-0 top-full mt-3 min-w-[20rem] rounded-3xl border border-base-300 border-opacity-60 bg-base-100 bg-opacity-95 p-6 shadow-2xl;
  }

  [dir='ltr'] .dashboard-greeting-panel {
    @apply left-0 right-auto;
  }

  .dashboard-main {
    @apply flex-1 bg-transparent;
  }

  .dashboard-main-inner {
    @apply mx-auto flex w-full max-w-7xl flex-col gap-8 px-4 py-8;
  }

  .dashboard-tabbar {
    @apply rounded-3xl border border-base-300 border-opacity-60 bg-base-100 bg-opacity-80 p-4 shadow-lg;
  }

  .sub-tab-buttons {
    @apply flex flex-wrap gap-2;
  }

  .sub-tab-button {
    @apply btn btn-sm btn-ghost rounded-xl border border-transparent text-base-content text-opacity-70;
  }

  .sub-tab-button.active {
    @apply btn-secondary btn-active text-secondary-content shadow;
  }

  .tab {
    @apply space-y-8;
  }

  .tab .box,
  .tab .glass-card {
    @apply space-y-6;
  }

  .filters-bar,
  .maintenance-filters,
  .reports-filters,
  .reports-search-group {
    @apply flex flex-wrap items-center gap-3 rounded-2xl bg-base-100 bg-opacity-80 p-4 shadow-lg;
  }

  .language-toggle-btn {
    @apply btn btn-sm btn-outline rounded-full border-base-300 text-base-content text-opacity-80 hover:border-primary hover:text-primary;
  }

  .theme-toggle-btn {
    @apply btn btn-sm btn-ghost rounded-full border border-base-300 border-opacity-70 p-2 text-base-content text-opacity-80 hover:bg-base-200 hover:bg-opacity-70;
  }

  .toast-container {
    @apply fixed bottom-6 left-1/2 z-[200] w-full max-w-md -translate-x-1/2 space-y-3 bg-transparent p-0 shadow-none;
  }

  .alert {
    @apply rounded-2xl border border-info border-opacity-40 bg-info bg-opacity-10 px-4 py-3 text-sm text-info;
  }

  .alert-info {
    @apply border-info bg-info bg-opacity-10 text-info-content;
  }

  .btn-close {
    @apply btn btn-sm btn-ghost btn-circle;
  }

  .modal {
    @apply fixed inset-0 z-[150] hidden items-center justify-center bg-base-content bg-opacity-40 backdrop-blur-sm;
  }

  .modal.show {
    @apply flex;
  }

  .modal-dialog {
    @apply w-full max-w-3xl px-4;
  }

  .modal-content {
    @apply rounded-3xl border border-base-300 border-opacity-60 bg-base-100 p-6 shadow-2xl;
  }

  .modal-header {
    @apply mb-4 flex items-center justify-between gap-3 border-b border-base-300 border-opacity-60 pb-3;
  }

  .modal-body {
    @apply space-y-4;
  }

  .modal-footer {
    @apply mt-4 flex flex-wrap items-center justify-end gap-3 border-t border-base-300 border-opacity-60 pt-3;
  }

  .modal-backdrop {
    @apply fixed inset-0 z-[140] hidden bg-base-content bg-opacity-50 backdrop-blur-sm;
  }

  .modal-backdrop.show {
    @apply block;
  }

  .maintenance-close-modal__title {
    @apply text-lg font-semibold text-base-content;
  }

  .maintenance-close-modal__subtitle {
    @apply text-sm text-base-content text-opacity-70;
  }

  .maintenance-close-modal__actions {
    @apply flex flex-wrap items-center justify-end gap-3;
  }

  .stats {
    @apply flex flex-wrap gap-4;
  }

  .stat {
    @apply flex-1 rounded-3xl border border-base-300 border-opacity-60 bg-base-100 bg-opacity-80 p-5 shadow-lg;
  }

  .stat-title {
    @apply text-sm font-medium text-base-content text-opacity-70;
  }

  .stat-value {
    @apply text-2xl font-bold text-base-content;
  }

  .stat-desc {
    @apply text-sm text-base-content text-opacity-60;
  }

  .reservation-items-table {
    @apply table table-zebra;
  }

  .reservation-tax-switch {
    @apply flex items-center gap-3 rounded-2xl border border-base-300 border-opacity-50 bg-base-100 bg-opacity-80 p-4 shadow;
  }

  .reservation-discount-group {
    @apply flex flex-wrap gap-3;
  }

  .equipment-list-header {
    @apply flex flex-wrap items-center justify-between gap-4;
  }

  .equipment-list-count {
    @apply badge badge-primary badge-outline;
  }

  .selected-technicians-list {
    @apply flex flex-wrap gap-3 rounded-2xl border border-base-300 border-opacity-60 bg-base-100 bg-opacity-80 p-4;
  }

  .suggestions-list {
    @apply divide-y divide-base-300 divide-opacity-60 rounded-2xl border border-base-300 border-opacity-60 bg-base-100 shadow-lg;
  }

  .suggestions-list li {
    @apply flex items-center justify-between gap-3 px-4 py-3 text-sm hover:bg-base-200 hover:bg-opacity-70;
  }

  .calendar-status {
    @apply rounded-2xl border border-base-300 border-opacity-60 bg-base-100 bg-opacity-80 p-4 shadow-lg;
  }

  .calendar-panel {
    @apply flex flex-col gap-4;
  }
}
