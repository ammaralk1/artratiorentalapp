(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const E="app-language",f="ar",C="ar",b=["Placeholder","Title","AriaLabel","AriaDescription","Value"],u={ar:Object.create(null),en:Object.create(null)};let p=!1,m=!1,s=f;function l(t){return t==="en"?"en":"ar"}function A(){var t;if(typeof window>"u")return null;try{const e=(t=window.localStorage)==null?void 0:t.getItem(E);if(e==="ar"||e==="en")return e}catch(e){p||(console.warn("⚠️ تعذر قراءة تفضيل اللغة",e),p=!0)}return null}const v=A();s=l(v??f);function x(){const t=A();return t&&(s=l(t)),s}function H(t){var n;const e=l(t);if(!(typeof window>"u"))try{(n=window.localStorage)==null||n.setItem(E,e)}catch(a){m||(console.warn("⚠️ تعذر حفظ تفضيل اللغة",a),m=!0)}}function y(t,e){if(!e)return;const n=u[t]??(u[t]=Object.create(null));Object.entries(e).forEach(([a,r])=>{typeof a=="string"&&(n[a]=r)})}function R(t={}){y("ar",t.ar),y("en",t.en);const e=M();T(e),document.dispatchEvent(new CustomEvent("language:changed",{detail:{language:e,reason:"translationsLoaded"}})),document.dispatchEvent(new CustomEvent("language:translationsReady",{detail:{language:e}}))}function U(t,e=""){if(!t)return e;const n=s||f,a=u[n];if(a&&a[t]!==void 0)return a[t];const o=u[n==="en"?"ar":"en"];return o&&o[t]!==void 0?o[t]:e}function N(t){if(t.dataset.i18nCached==="true")return;t.dataset.i18nHtml==="true"?t.dataset.arHtml===void 0&&(t.dataset.arHtml=t.innerHTML):t.dataset.ar===void 0&&(t.dataset.ar=t.textContent),b.forEach(n=>{const a=n.charAt(0).toLowerCase()+n.slice(1),r=t.getAttribute(a);r!=null&&t.dataset[`ar${n}`]===void 0&&(t.dataset[`ar${n}`]=r)}),t.dataset.i18nCached="true"}function L(t,e){if(!e)return;const n=u[t];return n?n[e]:void 0}function I(t,e){N(t);const n=t.dataset.i18nHtml==="true",a=t.dataset.i18nKey,r=L(e,a);r!==void 0?n?t.innerHTML=r:t.textContent=r:e==="en"?n?t.dataset.enHtml!==void 0&&(t.innerHTML=t.dataset.enHtml):t.dataset.en!==void 0&&(t.textContent=t.dataset.en):n?t.innerHTML=t.dataset.arHtml??t.innerHTML:t.textContent=t.dataset.ar??t.textContent,b.forEach(o=>{const i=o.charAt(0).toLowerCase()+o.slice(1),d=t.dataset[`i18n${o}Key`],c=L(e,d);if(c!==void 0){t.setAttribute(i,c);return}const S=e==="en"?`en${o}`:`ar${o}`,g=t.dataset[S];g!==void 0&&t.setAttribute(i,g)})}function T(t){document.querySelectorAll("[data-i18n]").forEach(n=>I(n,t))}function O(t){const e=document.documentElement,n=document.body,a=t===C?"rtl":"ltr";e.setAttribute("lang",t),e.setAttribute("dir",a),n&&(n.setAttribute("dir",a),n.dataset.lang=t)}function D(t){document.querySelectorAll(".language-toggle-btn").forEach(e=>{const n=e.dataset.labelAr||"🇸🇦 العربية",a=e.dataset.labelEn||"🇬🇧 English";e.textContent=t==="en"?n:a,e.setAttribute("aria-pressed",t==="en"?"true":"false")})}function F(){w(s==="ar"?"en":"ar")}function w(t){const e=l(t);s=e,H(e),O(e),T(e),D(e),document.dispatchEvent(new CustomEvent("language:changed",{detail:{language:e}}))}function h(){document.querySelectorAll(".language-toggle-btn").forEach(n=>{n.dataset.listenerAttached||(n.addEventListener("click",()=>{F()}),n.dataset.listenerAttached="true")});const e=x();w(e)}function M(){return s}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",h,{once:!0}):h();function G(t,e=3e3){let n=document.getElementById("toast-container");n||(n=document.createElement("div"),n.id="toast-container",n.style.position="fixed",n.style.top="20px",n.style.left="50%",n.style.transform="translateX(-50%)",n.style.zIndex="9999",document.body.appendChild(n));const a=document.createElement("div");a.className="toast-message",a.textContent=t,a.style.background="#333",a.style.color="#fff",a.style.padding="10px 20px",a.style.marginTop="10px",a.style.borderRadius="6px",a.style.boxShadow="0 2px 6px rgba(0,0,0,0.3)",a.style.opacity="0",a.style.transition="opacity 0.3s ease",n.appendChild(a),setTimeout(()=>a.style.opacity="1",10),setTimeout(()=>{a.style.opacity="0",setTimeout(()=>a.remove(),300)},e)}function K(){let t=parseInt(localStorage.getItem("reservationCounter")||"0");return t++,localStorage.setItem("reservationCounter",t),"RSV-"+String(t).padStart(4,"0")}function V(t,e={}){var d,c;if(!t)return"-";const n=new Date(t);if(Number.isNaN(n.getTime()))return"-";const a=((d=document==null?void 0:document.documentElement)==null?void 0:d.getAttribute("lang"))||((c=window==null?void 0:window.localStorage)==null?void 0:c.getItem("app-language"))||"ar",o=String(a).toLowerCase().startsWith("ar")?"ar-SA":"en-US",i=new Intl.DateTimeFormat(o,{dateStyle:"short",timeStyle:"short",hour12:!0,...e});return P(i.format(n))}function P(t){if(t==null)return"";t=String(t);const e=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],n=["0","1","2","3","4","5","6","7","8","9"];return t.split("").map(a=>{const r=e.indexOf(a);return r>-1?n[r]:a}).join("")}export{w as a,K as b,V as f,M as g,P as n,R as r,G as s,U as t};
