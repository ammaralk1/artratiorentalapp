(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const x="app-language",y="ar",R="ar",D=["Placeholder","Title","AriaLabel","AriaDescription","Value"],l={ar:Object.create(null),en:Object.create(null)};let b=!1,T=!1,i=y;function f(t){return t==="en"?"en":"ar"}function I(){var t;if(typeof window>"u")return null;try{const e=(t=window.localStorage)==null?void 0:t.getItem(x);if(e==="ar"||e==="en")return e}catch(e){b||(console.warn("⚠️ تعذر قراءة تفضيل اللغة",e),b=!0)}return null}const k=I();i=f(k??y);function B(){const t=I();return t&&(i=f(t)),i}function K(t){var n;const e=f(t);if(!(typeof window>"u"))try{(n=window.localStorage)==null||n.setItem(x,e)}catch(r){T||(console.warn("⚠️ تعذر حفظ تفضيل اللغة",r),T=!0)}}function S(t,e){if(!e)return;const n=l[t]??(l[t]=Object.create(null));Object.entries(e).forEach(([r,a])=>{typeof r=="string"&&(n[r]=a)})}function Z(t={}){S("ar",t.ar),S("en",t.en);const e=q();N(e),document.dispatchEvent(new CustomEvent("language:changed",{detail:{language:e,reason:"translationsLoaded"}})),document.dispatchEvent(new CustomEvent("language:translationsReady",{detail:{language:e}}))}function c(t,e=""){if(!t)return e;const n=i||y,r=l[n];if(r&&r[t]!==void 0)return r[t];const o=l[n==="en"?"ar":"en"];return o&&o[t]!==void 0?o[t]:e}function _(t){if(t.dataset.i18nCached==="true")return;t.dataset.i18nHtml==="true"?t.dataset.arHtml===void 0&&(t.dataset.arHtml=t.innerHTML):t.dataset.ar===void 0&&(t.dataset.ar=t.textContent),D.forEach(n=>{const r=n.charAt(0).toLowerCase()+n.slice(1),a=t.getAttribute(r);a!=null&&t.dataset[`ar${n}`]===void 0&&(t.dataset[`ar${n}`]=a)}),t.dataset.i18nCached="true"}function w(t,e){if(!e)return;const n=l[t];return n?n[e]:void 0}function F(t,e){_(t);const n=t.dataset.i18nHtml==="true",r=t.dataset.i18nKey,a=w(e,r);a!==void 0?n?t.innerHTML=a:t.textContent=a:e==="en"?n?t.dataset.enHtml!==void 0&&(t.innerHTML=t.dataset.enHtml):t.dataset.en!==void 0&&(t.textContent=t.dataset.en):n?t.innerHTML=t.dataset.arHtml??t.innerHTML:t.textContent=t.dataset.ar??t.textContent,D.forEach(o=>{const s=o.charAt(0).toLowerCase()+o.slice(1),h=t.dataset[`i18n${o}Key`],g=w(e,h);if(g!==void 0){t.setAttribute(s,g);return}const p=e==="en"?`en${o}`:`ar${o}`,u=t.dataset[p];u!==void 0&&t.setAttribute(s,u)})}function N(t){document.querySelectorAll("[data-i18n]").forEach(n=>F(n,t))}function G(t){const e=document.documentElement,n=document.body,r=t===R?"rtl":"ltr";e.setAttribute("lang",t),e.setAttribute("dir",r),n&&(n.setAttribute("dir",r),n.dataset.lang=t)}function U(t){document.querySelectorAll(".language-toggle-btn").forEach(e=>{const n=e.dataset.labelAr||"🇸🇦 العربية",r=e.dataset.labelEn||"🇬🇧 English";e.textContent=t==="en"?n:r,e.setAttribute("aria-pressed",t==="en"?"true":"false")})}function j(){O(i==="ar"?"en":"ar")}function O(t){const e=f(t);i=e,K(e),G(e),N(e),U(e),document.dispatchEvent(new CustomEvent("language:changed",{detail:{language:e}}))}function v(){document.querySelectorAll(".language-toggle-btn").forEach(n=>{n.dataset.listenerAttached||(n.addEventListener("click",()=>{j()}),n.dataset.listenerAttached="true")});const e=B();O(e)}function q(){return i}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",v,{once:!0}):v();function tt(t,e=3e3){let n=document.getElementById("toast-container");n||(n=document.createElement("div"),n.id="toast-container",n.style.position="fixed",n.style.top="20px",n.style.left="50%",n.style.transform="translateX(-50%)",n.style.zIndex="9999",document.body.appendChild(n));const r=document.createElement("div");r.className="toast-message",r.textContent=t,r.style.background="#333",r.style.color="#fff",r.style.padding="10px 20px",r.style.marginTop="10px",r.style.borderRadius="6px",r.style.boxShadow="0 2px 6px rgba(0,0,0,0.3)",r.style.opacity="0",r.style.transition="opacity 0.3s ease",n.appendChild(r),setTimeout(()=>r.style.opacity="1",10),setTimeout(()=>{r.style.opacity="0",setTimeout(()=>r.remove(),300)},e)}function et(){let t=parseInt(localStorage.getItem("reservationCounter")||"0");return t++,localStorage.setItem("reservationCounter",t),"RSV-"+String(t).padStart(4,"0")}function nt(t,e={}){var u,E;if(!t)return"-";const n=new Date(t);if(Number.isNaN(n.getTime()))return"-";const r=((u=document==null?void 0:document.documentElement)==null?void 0:u.getAttribute("lang"))||((E=window==null?void 0:window.localStorage)==null?void 0:E.getItem("app-language"))||"ar",o=String(r).toLowerCase().startsWith("ar")?"ar-SA-u-ca-gregory":"en-US",h=new Intl.DateTimeFormat(o,{dateStyle:"short",timeStyle:"short",hour12:!0,calendar:"gregory",...e}).formatToParts(n),g=n.getHours()>=12?"PM":"AM",p=h.map(A=>A.type==="dayPeriod"?g:A.value).join("").replace(/\u200f/g,"");return V(p)}function V(t){if(t==null)return"";t=String(t);const e=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],n=["0","1","2","3","4","5","6","7","8","9"];return t.split("").map(r=>{const a=e.indexOf(r);return a>-1?n[a]:r}).join("")}const M="app-theme",d="dark-mode",C=new WeakSet,H="theme-loading";function z(){try{const t=localStorage.getItem(M);if(t==="dark"||t==="light")return t}catch(t){console.warn("⚠️ تعذر قراءة تفضيل السمة من localStorage",t)}return null}function $(){const t=z();return t||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function W(t){try{localStorage.setItem(M,t)}catch(e){console.warn("⚠️ تعذر حفظ تفضيل السمة في localStorage",e)}}function X(){document.documentElement.classList.remove(H);const t=document.body;t&&t.classList.remove(H)}function P(t){const e=document.documentElement,n=document.body;t==="dark"?(e.classList.add(d),n&&n.classList.add(d)):(e.classList.remove(d),n&&n.classList.remove(d)),W(t)}function L(){const t=document.body;return t&&t.classList.contains(d)||document.documentElement.classList.contains(d)?"dark":"light"}function Y(){const t=L()==="dark"?"light":"dark";P(t),m(t)}function J(t,e){if(!t)return;const n=e==="dark",r=n?c("theme.toggle.toLight","☀️ الوضع العادي"):c("theme.toggle.toDark","🌙 الوضع الليلي");t.textContent=r,t.setAttribute("aria-pressed",String(n)),t.setAttribute("title",n?c("theme.toggle.titleLight","التبديل إلى الوضع العادي"):c("theme.toggle.titleDark","التبديل إلى الوضع الليلي")),t.setAttribute("aria-label",n?c("theme.toggle.ariaLight","الوضع العادي مفعل"):c("theme.toggle.ariaDark","الوضع الليلي مفعل"))}function m(t){document.querySelectorAll(".theme-toggle-btn").forEach(e=>J(e,t)),X()}function Q(){const t=document.querySelectorAll(".theme-toggle-btn");m(L()),t.forEach(e=>{e&&(e.getAttribute("type")||e.setAttribute("type","button"),!C.has(e)&&(e.addEventListener("click",n=>{n.preventDefault(),Y()}),C.add(e)))})}function rt(){const t=$();P(t),m(t)}document.addEventListener("language:changed",()=>{m(L()),Q()});export{rt as a,O as b,et as c,nt as f,q as g,Q as i,V as n,Z as r,tt as s,c as t};
